{"version":3,"sources":["meteor://ðŸ’»app/lib/both.js"],"names":[],"mappings":"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","file":"/packages/kadira_dochead.js","sourcesContent":["var FlowRouter = null;\nif (Package['kadira:flow-router-ssr']) {\n  FlowRouter = Package['kadira:flow-router-ssr'].FlowRouter;\n}\n\nDocHead = {\n  currentTitle: null,\n  setTitle(title) {\n    if (Meteor.isClient) {\n      document.title = title;\n    } else {\n      this.currentTitle = title;\n      const titleHtml = `<title>${title}</title>`;\n      this._addToHead(titleHtml);\n    }\n  },\n  addMeta(info) {\n    this._addTag(info, 'meta');\n  },\n  addLink(info) {\n    this._addTag(info, 'link');\n  },\n  getTitle() {\n    if (Meteor.isClient) {\n      return document.title;\n    }\n    return this.currentTitle;\n  },\n  addLdJsonScript(jsonObj) {\n    const strObj = JSON.stringify(jsonObj);\n    this._addLdJsonScript(strObj);\n  },\n  loadScript(url, options, callback) {\n    if (Meteor.isClient) {\n      npmLoadScript(url, options, callback);\n    }\n  },\n  _addTag(info, tag) {\n    const meta = this._buildTag(info, tag);\n    if (Meteor.isClient) {\n      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', meta);\n    } else {\n      this._addToHead(meta);\n    }\n  },\n  _addToHead(html) {\n    // only work there is kadira:flow-router-ssr\n    if (!FlowRouter) {\n      return;\n    }\n    let ssrContext = FlowRouter.ssrContext.get();\n    if (ssrContext) {\n      ssrContext.addToHead(html);\n    }\n  },\n  _buildTag(metaInfo, type) {\n    let props = \"\";\n    for (let key in metaInfo) {\n      props += `${key}=\"${metaInfo[key]}\" `;\n    }\n    props += 'dochead=\"1\"';\n    var meta = `<${type} ${props}/>`;\n    return meta;\n  },\n  _addLdJsonScript(stringifiedObject) {\n    const scriptTag = `<script type=\"application/ld+json\" dochead=\"1\">${stringifiedObject}</script>`;\n    if (Meteor.isClient) {\n      document.getElementsByTagName('head')[0].insertAdjacentHTML('beforeend', scriptTag);\n    } else {\n      this._addToHead(scriptTag);\n    }\n  },\n  removeDocHeadAddedTags() {\n    if (Meteor.isClient) {\n      const elements = document.querySelectorAll('[dochead=\"1\"]');\n      // Elements is not an array. It's an iterator and es5-shim\n      // does not add .forEach method to it\n      // That's why we need to use a for-in loop\n      for(let key in elements) {\n        const element = elements[key];\n        if(element.parentNode) {\n          element.parentNode.removeChild(element);\n        }\n      }\n    }\n  }\n};\n"]}