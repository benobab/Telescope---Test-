{"version":3,"sources":["meteor://💻app/lib/comments.js","meteor://💻app/lib/methods.js","meteor://💻app/lib/callbacks.js","meteor://💻app/lib/views.js","meteor://💻app/lib/parameters.js","meteor://💻app/lib/helpers.js","meteor://💻app/lib/routes.js","meteor://💻app/lib/server/publications.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ar.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/bg.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/cs.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/da.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/de.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/el.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/en.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/es.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/et.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/fr.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/hu.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/id.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/it.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ja.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/kk.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ko.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/nl.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/pl.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/pt-BR.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ro.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ru.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/sl.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/sv.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/th.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/tr.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/vi.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/zh-CN.i18n.js"],"names":[],"mappings":"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AEF;;AAED,SAAO,EAAE,CAAC;CAEX,CAAC,CAAC,mH;;;;;;;;;;;;;;;;;;AC5EH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH;;;;;;;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yH","file":"/packages/telescope_comments.js","sourcesContent":["/**\n * The global namespace for Comments.\n * @namespace Comments\n */\nComments = new Mongo.Collection(\"comments\");\n\n/**\n * Comments schema\n * @type {SimpleSchema}\n */\nComments.schema = new SimpleSchema({\n  /**\n    ID\n  */\n  _id: {\n    type: String,\n    optional: true\n  },\n  /**\n    The `_id` of the parent comment, if there is one\n  */\n  parentCommentId: {\n    type: String,\n    // regEx: SimpleSchema.RegEx.Id,\n    max: 500,\n    editableBy: [\"member\", \"admin\"],\n    optional: true,\n    autoform: {\n      omit: true // never show this\n    }\n  },\n  /**\n    The `_id` of the top-level parent comment, if there is one\n  */\n  topLevelCommentId: {\n    type: String,\n    // regEx: SimpleSchema.RegEx.Id,\n    max: 500,\n    editableBy: [\"member\", \"admin\"],\n    optional: true,\n    autoform: {\n      omit: true // never show this\n    }\n  },\n  /**\n    The timestamp of comment creation\n  */\n  createdAt: {\n    type: Date,\n    optional: true\n  },\n  /**\n    The timestamp of the comment being posted. For now, comments are always created and posted at the same time\n  */\n  postedAt: {\n    type: Date,\n    optional: true\n  },\n  /**\n    The comment body (Markdown)\n  */\n  body: {\n    type: String,\n    max: 3000,\n    editableBy: [\"member\", \"admin\"],\n    autoform: {\n      rows: 5,\n      afFormGroup: {\n        'formgroup-class': 'hide-label'\n      }\n    }\n  },\n  /**\n    The HTML version of the comment body\n  */\n  htmlBody: {\n    type: String,\n    optional: true\n  },\n  /**\n    The comment's base score (doesn't factor in comment age)\n  */\n  baseScore: {\n    type: Number,\n    decimal: true,\n    optional: true\n  },\n  /**\n    The comment's current score (factors in comment age)\n  */\n  score: {\n    type: Number,\n    decimal: true,\n    optional: true\n  },\n  /**\n    The number of upvotes the comment has received\n  */\n  upvotes: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of upvoters\n  */\n  upvoters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    The number of downvotes the comment has received\n  */\n  downvotes: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of downvoters\n  */\n  downvoters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    The comment author's name\n  */\n  author: {\n    type: String,\n    optional: true\n  },\n  /**\n    Whether the comment is inactive. Inactive comments' scores gets recalculated less often\n  */\n  inactive: {\n    type: Boolean,\n    optional: true\n  },\n  /**\n    The post's `_id`\n  */\n  postId: {\n    type: String,\n    optional: true,\n    // regEx: SimpleSchema.RegEx.Id,\n    max: 500,\n    editableBy: [\"member\", \"admin\"], // TODO: should users be able to set postId, but not modify it?\n    autoform: {\n      omit: true // never show this\n    }\n  },\n  /**\n    The comment author's `_id`\n  */\n  userId: {\n    type: String,\n    optional: true\n  },\n  /**\n    Whether the comment is deleted. Delete comments' content doesn't appear on the site. \n  */\n  isDeleted: {\n    type: Boolean,\n    optional: true\n  }\n});\n\nMeteor.startup(function(){\n  // needs to happen after every fields are added\n  Comments.internationalize();\n});\n\nComments.attachSchema(Comments.schema);\n\nComments.allow({\n  update: _.partial(Telescope.allowCheck, Comments),\n  remove: _.partial(Telescope.allowCheck, Comments)\n});\n","\n// ------------------------------------------------------------------------------------------- //\n// -------------------------------------- Submit Comment ------------------------------------- //\n// ------------------------------------------------------------------------------------------- //\n\nComments.submit = function (comment) {\n\n  var userId = comment.userId; // at this stage, a userId is expected\n\n  // ------------------------------ Checks ------------------------------ //\n\n  // Don't allow empty comments\n  if (!comment.body)\n    throw new Meteor.Error(704,i18n.t('your_comment_is_empty'));\n\n  // ------------------------------ Properties ------------------------------ //\n\n  var defaultProperties = {\n    createdAt: new Date(),\n    postedAt: new Date(),\n    upvotes: 0,\n    downvotes: 0,\n    baseScore: 0,\n    score: 0,\n    author: Users.getDisplayNameById(userId)\n  };\n\n  comment = _.extend(defaultProperties, comment);\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  // run all post submit server callbacks on comment object successively\n  comment = Telescope.callbacks.run(\"commentSubmit\", comment);\n\n  // -------------------------------- Insert -------------------------------- //\n\n  comment._id = Comments.insert(comment);\n\n  // --------------------- Server-side Async Callbacks --------------------- //\n\n  // run all post submit server callbacks on comment object successively\n  // note: query for comment to get fresh document with collection-hooks effects applied\n  Telescope.callbacks.runAsync(\"commentSubmitAsync\", Comments.findOne(comment._id));\n\n  return comment;\n};\n\nComments.edit = function (commentId, modifier, comment) {\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  modifier = Telescope.callbacks.run(\"commentEdit\", modifier, comment);\n\n  // ------------------------------ Update ------------------------------ //\n\n  Comments.update(commentId, modifier);\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  Telescope.callbacks.runAsync(\"commentEditAsync\", Comments.findOne(commentId), comment);\n\n  // ------------------------------ After Update ------------------------------ //\n  return Comments.findOne(commentId);\n};\n\n// ------------------------------------------------------------------------------------------- //\n// ----------------------------------------- Methods ----------------------------------------- //\n// ------------------------------------------------------------------------------------------- //\n\nMeteor.methods({\n  submitComment: function(comment){\n\n    // checking might be redundant because SimpleSchema already enforces the schema, but you never know\n    check(comment, Comments.simpleSchema());\n\n    // required properties:\n    // postId\n    // body\n\n    // optional properties:\n    // parentCommentId\n\n    var user = Meteor.user(),\n        hasAdminRights = Users.is.admin(user),\n        schema = Comments.simpleSchema()._schema;\n\n    // ------------------------------ Checks ------------------------------ //\n\n    // check that user can comment\n    if (!user || !Users.can.comment(user))\n      throw new Meteor.Error(i18n.t('you_need_to_login_or_be_invited_to_post_new_comments'));\n\n    // ------------------------------ Rate Limiting ------------------------------ //\n\n    if (!hasAdminRights) {\n\n      var timeSinceLastComment = Users.timeSinceLast(user, Comments),\n          commentInterval = Math.abs(parseInt(Settings.get('commentInterval',15)));\n\n      // check that user waits more than 15 seconds between comments\n      if((timeSinceLastComment < commentInterval))\n        throw new Meteor.Error(704, i18n.t('please_wait')+(commentInterval-timeSinceLastComment)+i18n.t('seconds_before_commenting_again'));\n\n    }\n\n    // ------------------------------ Properties ------------------------------ //\n\n    // admin-only properties\n    // userId\n\n    // clear restricted properties\n    _.keys(comment).forEach(function (fieldName) {\n\n      var field = schema[fieldName];\n      if (!Users.can.submitField(user, field)) {\n        throw new Meteor.Error(\"disallowed_property\", i18n.t('disallowed_property_detected') + \": \" + fieldName);\n      }\n\n    });\n\n    // if no userId has been set, default to current user id\n    if (!comment.userId) {\n      comment.userId = user._id;\n    }\n\n    return Comments.submit(comment);\n  },\n\n  editComment: function (modifier, commentId) {\n\n    // checking might be redundant because SimpleSchema already enforces the schema, but you never know\n    check(modifier, {$set: Comments.simpleSchema()});\n    check(commentId, String);\n\n    var user = Meteor.user(),\n        comment = Comments.findOne(commentId),\n        schema = Comments.simpleSchema()._schema;\n\n    // ------------------------------ Checks ------------------------------ //\n\n    // check that user can edit\n    if (!user || !Users.can.edit(user, comment)) {\n      throw new Meteor.Error(601, i18n.t('sorry_you_cannot_edit_this_comment'));\n    }\n\n    // go over each field and throw an error if it's not editable\n    // loop over each operation ($set, $unset, etc.)\n    _.each(modifier, function (operation) {\n      // loop over each property being operated on\n      _.keys(operation).forEach(function (fieldName) {\n\n        var field = schema[fieldName];\n        if (!Users.can.editField(user, field, comment)) {\n          throw new Meteor.Error(\"disallowed_property\", i18n.t('disallowed_property_detected') + \": \" + fieldName);\n        }\n\n      });\n    });\n\n    Comments.edit(commentId, modifier, comment);\n  },\n\n  deleteCommentById: function (commentId) {\n\n    check(commentId, String);\n    \n    var comment = Comments.findOne(commentId);\n    var user = Meteor.user();\n\n    if(Users.can.edit(user, comment)){\n\n      // decrement post comment count and remove user ID from post\n      Posts.update(comment.postId, {\n        $inc:   {commentCount: -1},\n        $pull:  {commenters: comment.userId}\n      });\n\n      // decrement user comment count and remove comment ID from user\n      Meteor.users.update({_id: comment.userId}, {\n        $inc:   {'telescope.commentCount': -1}\n      });\n\n      // note: should we also decrease user's comment karma ?\n      // We don't actually delete the comment to avoid losing all child comments.\n      // Instead, we give it a special flag\n      Comments.update({_id: commentId}, {$set: {\n        body: 'Deleted',\n        htmlBody: 'Deleted',\n        isDeleted: true\n      }});\n\n    }else{\n\n      Messages.flash(\"You don't have permission to delete this comment.\", \"error\");\n\n    }\n  }\n});\n","//////////////////////////////////////////////////////\n// Collection Hooks                                 //\n//////////////////////////////////////////////////////\n\nComments.before.insert(function (userId, doc) {\n  // note: only actually sanitizes on the server\n  doc.htmlBody = Telescope.utils.sanitize(marked(doc.body));\n});\n\nComments.before.update(function (userId, doc, fieldNames, modifier) {\n  // if body is being modified, update htmlBody too\n  if (Meteor.isServer && modifier.$set && modifier.$set.body) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.htmlBody = Telescope.utils.sanitize(marked(modifier.$set.body));\n  }\n});\n\n/**\n * Disallow $rename\n */\nComments.before.update(function (userId, doc, fieldNames, modifier) {\n  if (!!modifier.$rename) {\n    throw new Meteor.Error(\"illegal $rename operator detected!\");\n  }\n});\n\n//////////////////////////////////////////////////////\n// Callbacks                                        //\n//////////////////////////////////////////////////////\n\nfunction afterCommentOperations (comment) {\n\n  var userId = comment.userId;\n\n  // increment comment count\n  Meteor.users.update({_id: userId}, {\n    $inc:       {'telescope.commentCount': 1}\n  });\n\n  // update post\n  Posts.update(comment.postId, {\n    $inc:       {commentCount: 1},\n    $set:       {lastCommentedAt: new Date()},\n    $addToSet:  {commenters: userId}\n  });\n\n  return comment;\n}\nTelescope.callbacks.add(\"commentSubmitAsync\", afterCommentOperations);\n\nfunction upvoteOwnComment (comment) {\n\n  var commentAuthor = Meteor.users.findOne(comment.userId);\n\n  // upvote comment\n  Telescope.upvoteItem(Comments, comment, commentAuthor);\n\n  return comment;\n}\nTelescope.callbacks.add(\"commentSubmitAsync\", upvoteOwnComment);","/**\n * Comment views are filters used for subscribing to and viewing comments\n * @namespace Comments.views\n */\nComments.views = {};\n\n/**\n * Add a module to a comment view\n * @param {string} viewName - The name of the view\n * @param {function} [viewFunction] - The function used to calculate query terms. Takes terms and baseParameters arguments\n */\nComments.views.add = function (viewName, viewFunction) {\n  Comments.views[viewName] = viewFunction;\n};\n\n// will be common to all other view unless specific properties are overwritten\nComments.views.baseParameters = {\n  options: {\n    limit: 10\n  }\n};\n\nComments.views.add(\"postComments\", function (terms) {\n  return {\n    find: {postId: terms.postId},\n    options: {limit: 0, sort: {score: -1, postedAt: -1}}\n  };\n});\n\nComments.views.add(\"userComments\", function (terms) {\n  return {\n    find: {userId: terms.userId},\n    options: {sort: {postedAt: -1}}\n  };\n});","Comments.parameters = {};\n\n/**\n * Gives an object containing the appropriate find\n * and options arguments for the subscriptions's Comments.find()\n * @param {Object} terms\n */\nComments.parameters.get = function (terms) {\n\n  // add this to ensure all post publications pass audit-arguments-check\n  check(terms, Match.Any);\n  \n  // console.log(terms)\n\n  // note: using jquery's extend() with \"deep\" parameter set to true instead of shallow _.extend()\n  // see: http://api.jquery.com/jQuery.extend/\n\n  // initialize parameters by extending baseParameters object, to avoid passing it by reference\n  var parameters = Telescope.utils.deepExtend(true, {}, Comments.views.baseParameters);\n\n  // get query parameters according to current view\n  if (typeof Comments.views[terms.view] !== 'undefined')\n    parameters = Telescope.utils.deepExtend(true, parameters, Comments.views[terms.view](terms));\n\n  // iterate over commentsParameters callbacks\n  parameters = Telescope.callbacks.run(\"commentsParameters\", parameters, terms);\n\n  // console.log(parameters);\n\n  return parameters;\n};\n\n// limit the number of items that can be requested at once\nfunction limitComments (parameters, terms) {\n  var maxLimit = 1000;\n  // if a limit was provided with the terms, add it too (note: limit=0 means \"no limit\")\n  if (typeof terms.limit !== 'undefined') {\n    _.extend(parameters.options, {limit: parseInt(terms.limit)});\n  }\n\n  // limit to \"maxLimit\" items at most when limit is undefined, equal to 0, or superior to maxLimit\n  if(!parameters.options.limit || parameters.options.limit === 0 || parameters.options.limit > maxLimit) {\n    parameters.options.limit = maxLimit;\n  }\n  return parameters;\n}\nTelescope.callbacks.add(\"commentsParameters\", limitComments);","//////////////////\n// Link Helpers //\n//////////////////\n\n/**\n * Get URL of a comment page.\n * @param {Object} comment\n */\nComments.getPageUrl = function(comment, isAbsolute){\n  var isAbsolute = typeof isAbsolute === \"undefined\" ? false : isAbsolute; // default to false\n  var prefix = isAbsolute ? Telescope.utils.getSiteUrl().slice(0,-1) : \"\";\n  return prefix + FlowRouter.path(\"commentPage\", comment);\n};\nComments.helpers({getPageUrl: function () {return Comments.getPageUrl(this);}});\n\n///////////////////\n// Other Helpers //\n///////////////////\n\n/**\n * Get a comment author's name\n * @param {Object} comment\n */\nComments.getAuthorName = function (comment) {\n  var user = Meteor.users.findOne(comment.userId);\n  if (user) {\n    return user.getDisplayName();\n  } else {\n    return comment.author;\n  }\n};\nComments.helpers({getAuthorName: function () {return Comments.getAuthorName(this);}});\n","FlowRouter.route('/comments/:_id', {\n  name: \"commentPage\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"comment_controller\", commentTemplate: \"comment_reply\"});\n  }\n});\n\nFlowRouter.route('/comments/:_id/edit', {\n  name: \"commentEdit\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"comment_controller\", commentTemplate: \"comment_edit\"});\n  }\n});","Comments._ensureIndex({postId: 1});\nComments._ensureIndex({parentCommentId: 1});\n\n// Publish a list of comments\n\nMeteor.publish('commentsList', function(terms) {\n  if(Users.can.viewById(this.userId)){\n    var parameters = Comments.parameters.get(terms);\n    var comments = Comments.find(parameters.find, parameters.options);\n  \n    // if there are comments, find out which posts were commented on\n    var commentedPostIds = comments.count() ? _.pluck(comments.fetch(), 'postId') : [];\n    return [\n      comments,\n      Posts.find({_id: {$in: commentedPostIds}})\n    ];\n  }\n});\n\n// Publish a single comment\n\nMeteor.publish('singleCommentAndChildren', function(commentId) {\n\n  check(commentId, String);\n\n  if(Users.can.viewById(this.userId)){\n    // publish both current comment and child comments\n    var commentIds = [commentId];\n    var childCommentIds = _.pluck(Comments.find({parentCommentId: commentId}, {fields: {_id: 1}}).fetch(), '_id');\n    commentIds = commentIds.concat(childCommentIds);\n    return Comments.find({_id: {$in: commentIds}}, {sort: {score: -1, postedAt: -1}});\n  }\n  return [];\n});\n\n// Publish the post related to the current comment\n\nMeteor.publish('commentPost', function(commentId) {\n\n  check(commentId, String);\n\n  if(Users.can.viewById(this.userId)){\n    var comment = Comments.findOne(commentId);\n    return Posts.find({_id: comment && comment.postId});\n  }\n  return [];\n});\n\n// Publish author of the current comment, and author of the post related to the current comment\n\nMeteor.publish('commentUsers', function(commentId) {\n\n  check(commentId, String);\n  \n  var userIds = [];\n\n  if(Users.can.viewById(this.userId)){\n\n    var comment = Comments.findOne(commentId);\n\n    if (!!comment) {\n      userIds.push(comment.userId);\n\n      var post = Posts.findOne(comment.postId);\n      if (!!post) {\n        userIds.push(post.userId);\n      }\n\n      return Meteor.users.find({_id: {$in: userIds}}, {fields: Users.pubsub.publicProperties});\n    \n    }\n\n  }\n\n  return [];\n\n});","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ar\"] = [\"Arabic\",\"العربية\"];\nTAPi18n._enable({\"helper_name\":\"_\",\"supported_languages\":null,\"i18n_files_route\":\"/tap-i18n\",\"preloaded_langs\":[],\"cdn_path\":null});\nTAPi18n.languages_names[\"en\"] = [\"English\",\"English\"];\nif(_.isUndefined(TAPi18n.translations[\"ar\"])) {\n  TAPi18n.translations[\"ar\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"ar\"][namespace])) {\n  TAPi18n.translations[\"ar\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"ar\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"ﻻ يمكنك تعديل هذا التعليق\",\"your_comment_has_been_deleted\":\"قد تم حذف تعليقك\",\"comment_\":\"تعليق\",\"delete_comment\":\"احذف التعليق\",\"add_comment\":\"اضف تعليق\",\"upvote\":\"صوت مع\",\"downvote\":\"صوت ضد\",\"link\":\"رابط\",\"edit\":\"تعديل\",\"reply\":\"رد\",\"no_comments\":\"ﻻ يوجد تعليق\",\"please_sign_in_to_reply\":\"يتوجب الدخول ﻻضافة رد\"});\nTAPi18n._registerServerTranslator(\"ar\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"bg\"] = [\"Bulgarian\",\"Български\"];\nif(_.isUndefined(TAPi18n.translations[\"bg\"])) {\n  TAPi18n.translations[\"bg\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"bg\"][namespace])) {\n  TAPi18n.translations[\"bg\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"bg\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Съжаляваме, неможете да променяте този коментар.\",\"your_comment_has_been_deleted\":\"Вашият коментар беше изтрит.\",\"comment_\":\"Коментар\",\"delete_comment\":\"Изтриване на коментар\",\"add_comment\":\"Добави коментар\",\"upvote\":\"Харесвам\",\"downvote\":\"Не харесвам\",\"link\":\"връзка\",\"edit\":\"редактирай\",\"reply\":\"отговор\",\"no_comments\":\"Няма коментари.\"});\nTAPi18n._registerServerTranslator(\"bg\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"cs\"] = [\"Czech\",\"čeština‎\"];\nif(_.isUndefined(TAPi18n.translations[\"cs\"])) {\n  TAPi18n.translations[\"cs\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"cs\"][namespace])) {\n  TAPi18n.translations[\"cs\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"cs\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Je nám líto, tento komentář nemůžete editovat.\",\"your_comment_has_been_deleted\":\"Váš komentář byl smazán.\",\"comment_\":\"Komentář\",\"delete_comment\":\"Odstranit komentář\",\"add_comment\":\"Přidat komentář\",\"upvote\":\"Přidat hlas\",\"downvote\":\"Odebrat hlas\",\"link\":\"odkaz\",\"edit\":\"Upravit\",\"reply\":\"Odpovědět\",\"no_comments\":\"Zatím žádné komentáře\",\"please_sign_in_to_reply\":\"Pro odpověď se prosím přihlašte\"});\nTAPi18n._registerServerTranslator(\"cs\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"da\"] = [\"Danish\",\"Dansk\"];\nif(_.isUndefined(TAPi18n.translations[\"da\"])) {\n  TAPi18n.translations[\"da\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"da\"][namespace])) {\n  TAPi18n.translations[\"da\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"da\"][namespace], {\"add_comment\":\"Tilføj kommentar\",\"link\":\"link\",\"reply\":\"Svar\"});\nTAPi18n._registerServerTranslator(\"da\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"de\"] = [\"German\",\"Deutsch\"];\nif(_.isUndefined(TAPi18n.translations[\"de\"])) {\n  TAPi18n.translations[\"de\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"de\"][namespace])) {\n  TAPi18n.translations[\"de\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"de\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Sorry, Du kannst diesen Kommentar nicht bearbeiten.\",\"your_comment_has_been_deleted\":\"Dein Kommentar wurde gelöscht.\",\"comment_\":\"Kommentieren\",\"delete_comment\":\"Kommentar löschen\",\"add_comment\":\"Kommentar hinzufügen\",\"upvote\":\"+1\",\"downvote\":\"-1\",\"link\":\"link\",\"edit\":\"bearbeiten\",\"reply\":\"antworten\",\"no_comments\":\"Keine Kommentare.\"});\nTAPi18n._registerServerTranslator(\"de\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"el\"] = [\"Greek\",\"Ελληνικά\"];\nif(_.isUndefined(TAPi18n.translations[\"el\"])) {\n  TAPi18n.translations[\"el\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"el\"][namespace])) {\n  TAPi18n.translations[\"el\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"el\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Συγγνώμη, δεν μπορείς να επεξεργαστείς συτό το σχόλιο.\",\"your_comment_has_been_deleted\":\"Το σχόλιο σας έχει διαγραφεί.\",\"comment_\":\"Σχόλιο\",\"delete_comment\":\"Διαγραφή σχολίου\",\"add_comment\":\"Νέο σχόλιο\",\"upvote\":\"Υπερ\",\"downvote\":\"Κατά\",\"link\":\"Σύνδεσμος\",\"edit\":\"Επεξεργασία\",\"reply\":\"Απάντηση\",\"no_comments\":\"Κανένα σχόλιο.\"});\nTAPi18n._registerServerTranslator(\"el\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"sorry_you_cannot_edit_this_comment\":\"Sorry, you cannot edit this comment.\",\"your_comment_has_been_deleted\":\"Your comment has been deleted.\",\"comment_\":\"Comment\",\"delete_comment\":\"Delete Comment\",\"add_comment\":\"Add Comment\",\"upvote\":\"upvote\",\"downvote\":\"downvote\",\"link\":\"link\",\"edit\":\"Edit\",\"reply\":\"Reply\",\"no_comments\":\"No comments.\",\"please_sign_in_to_reply\":\"Please sign in to reply\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\nTAPi18n._registerServerTranslator(\"en\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"es\"] = [\"Spanish (Spain)\",\"Español\"];\nif(_.isUndefined(TAPi18n.translations[\"es\"])) {\n  TAPi18n.translations[\"es\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"es\"][namespace])) {\n  TAPi18n.translations[\"es\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"es\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Lo sentimos, no puedes editar este comentario.\",\"your_comment_has_been_deleted\":\"Tu comentario ha sido borrado.\",\"comment_\":\"Comentar\",\"delete_comment\":\"Borrar comentario\",\"add_comment\":\"Agregar Comentario\",\"upvote\":\"Voto Positivo\",\"downvote\":\"Voto Negativo\",\"link\":\"link\",\"edit\":\"Editar\",\"reply\":\"Responder\",\"no_comments\":\"No hay comentarios.\",\"please_sign_in_to_reply\":\"Por favor, inicia sesión primero.\"});\nTAPi18n._registerServerTranslator(\"es\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"et\"] = [\"Estonian\",\"Eesti\"];\nif(_.isUndefined(TAPi18n.translations[\"et\"])) {\n  TAPi18n.translations[\"et\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"et\"][namespace])) {\n  TAPi18n.translations[\"et\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"et\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Vabandame, sa ei saa muuta seda kommentaari.\",\"your_comment_has_been_deleted\":\"Teie kommentaar on kustutatud.\",\"comment_\":\"Kommentaar\",\"delete_comment\":\"Kustuta Kommentaar\",\"add_comment\":\"Lisa Kommentaar\",\"upvote\":\"upvote\",\"downvote\":\"downvote\",\"link\":\"link\",\"edit\":\"Muuda\",\"reply\":\"Vasta\",\"no_comments\":\"Kommentaarid puuduvad.\",\"please_sign_in_to_reply\":\"Palun logi sisse, et vastata\"});\nTAPi18n._registerServerTranslator(\"et\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"fr\"] = [\"French (France)\",\"Français\"];\nif(_.isUndefined(TAPi18n.translations[\"fr\"])) {\n  TAPi18n.translations[\"fr\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"fr\"][namespace])) {\n  TAPi18n.translations[\"fr\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"fr\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Désolé, vous ne pouvez pas modifier ce commentaire.\",\"your_comment_has_been_deleted\":\"Votre commentaire a été supprimé.\",\"comment_\":\"Commentaire\",\"delete_comment\":\"Supprimer le commentaire\",\"add_comment\":\"Ajouter un commentaire\",\"upvote\":\"upvote\",\"downvote\":\"downvote\",\"link\":\"lien\",\"edit\":\"Modifier\",\"reply\":\"Répondre\",\"no_comments\":\"Aucun commentaire.\",\"please_sign_in_to_reply\":\"Connectez-vous pour répondre\"});\nTAPi18n._registerServerTranslator(\"fr\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"hu\"] = [\"Hungarian\",\"Magyar\"];\nif(_.isUndefined(TAPi18n.translations[\"hu\"])) {\n  TAPi18n.translations[\"hu\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"hu\"][namespace])) {\n  TAPi18n.translations[\"hu\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"hu\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Sajnálom, nem szerkesztheted ezt a hozzászólást.\",\"your_comment_has_been_deleted\":\"A hozzászólás törlésre került.\",\"comment_\":\"Hozzászólás\",\"delete_comment\":\"Hozzászólás törlése\",\"add_comment\":\"Szólj hozzá!\",\"upvote\":\"upvote\",\"downvote\":\"downvote\",\"link\":\"link\",\"edit\":\"Szerkesztés\",\"reply\":\"Válasz\",\"no_comments\":\"Nincs hozzászólás.\",\"please_sign_in_to_reply\":\"Kérjük, jelentkezz be a válaszhoz\"});\nTAPi18n._registerServerTranslator(\"hu\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"id\"] = [\"Indonesian\",\"Bahasa Indonesia\"];\nif(_.isUndefined(TAPi18n.translations[\"id\"])) {\n  TAPi18n.translations[\"id\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"id\"][namespace])) {\n  TAPi18n.translations[\"id\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"id\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Maaf, Anda tidak dapat mengedit komentar ini.\",\"your_comment_has_been_deleted\":\"Komentar anda telah dihapus.\",\"comment_\":\"Komentar\",\"delete_comment\":\"Hapus Komentar\",\"add_comment\":\"Tambahkan komentar\",\"upvote\":\"sundul\",\"downvote\":\"tenggelamkan\",\"link\":\"tautan\",\"edit\":\"edit\",\"reply\":\"balas\",\"no_comments\":\"Tidak ada komentar.\",\"please_sign_in_to_reply\":\"Silahkan login untuk membalas\"});\nTAPi18n._registerServerTranslator(\"id\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"it\"] = [\"Italian\",\"Italiano\"];\nif(_.isUndefined(TAPi18n.translations[\"it\"])) {\n  TAPi18n.translations[\"it\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"it\"][namespace])) {\n  TAPi18n.translations[\"it\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"it\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Ci spiace, non puoi modificare questo commento.\",\"your_comment_has_been_deleted\":\"Il tuo commento è stato rimosso.\",\"comment_\":\"Commenta\",\"delete_comment\":\"Elimina Commento\",\"add_comment\":\"Aggiungi Commento\",\"upvote\":\"consiglia\",\"downvote\":\"sconsiglia\",\"link\":\"link\",\"edit\":\"Modifica\",\"reply\":\"Rispondi\",\"no_comments\":\"Nessun commento.\",\"please_sign_in_to_reply\":\"Per favore accedi per rispondere\"});\nTAPi18n._registerServerTranslator(\"it\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ja\"] = [\"Japanese\",\"日本語\"];\nif(_.isUndefined(TAPi18n.translations[\"ja\"])) {\n  TAPi18n.translations[\"ja\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"ja\"][namespace])) {\n  TAPi18n.translations[\"ja\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"ja\"][namespace], {});\nTAPi18n._registerServerTranslator(\"ja\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"kk\"] = [\"Kazakh\",\"Қазақ тілі\"];\nif(_.isUndefined(TAPi18n.translations[\"kk\"])) {\n  TAPi18n.translations[\"kk\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"kk\"][namespace])) {\n  TAPi18n.translations[\"kk\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"kk\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Кешіріңіз, сіз осы пікірді өңдеуіңізге рұқсат жоқ\",\"your_comment_has_been_deleted\":\"Сіздің Пікіріңіз жойылған.\",\"comment_\":\"Пікір\",\"delete_comment\":\"Пікірді жою\",\"add_comment\":\"Пікір қосу\",\"upvote\":\"жоғары бағала\",\"downvote\":\"төмен бағала\",\"link\":\"сілтеме\",\"edit\":\"Өңдеу\",\"reply\":\"Жауап қайтару\",\"no_comments\":\"Пікір жоқ.\",\"please_sign_in_to_reply\":\"Жауап беру үшін кіріңіз.\"});\nTAPi18n._registerServerTranslator(\"kk\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ko\"] = [\"Korean\",\"한국어\"];\nif(_.isUndefined(TAPi18n.translations[\"ko\"])) {\n  TAPi18n.translations[\"ko\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"ko\"][namespace])) {\n  TAPi18n.translations[\"ko\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"ko\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"죄송합니다. 이 댓글을 편집 할 수 없습니다.\",\"your_comment_has_been_deleted\":\"댓글이 삭제되었습니다.\",\"comment_\":\"댓글\",\"delete_comment\":\"댓글 삭제\",\"add_comment\":\"댓글 달기\",\"upvote\":\"추천\",\"downvote\":\"반대\",\"link\":\"링크\",\"edit\":\"편집\",\"reply\":\"댓글\",\"no_comments\":\"댓글 없음.\",\"please_sign_in_to_reply\":\"댓글을 쓰시려면 로그인해주세요\"});\nTAPi18n._registerServerTranslator(\"ko\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"nl\"] = [\"Dutch\",\"Nederlands\"];\nif(_.isUndefined(TAPi18n.translations[\"nl\"])) {\n  TAPi18n.translations[\"nl\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"nl\"][namespace])) {\n  TAPi18n.translations[\"nl\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"nl\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Sorry, je kan deze reactie niet bewerken.\",\"your_comment_has_been_deleted\":\"Jouw reactie is verwijderd.\",\"comment_\":\"Reactie\",\"delete_comment\":\"Verwijder reactie\",\"add_comment\":\"Reactie toevoegen\",\"upvote\":\"omhoog\",\"downvote\":\"omlaag\",\"link\":\"link\",\"edit\":\"Bewerk\",\"reply\":\"Reageer\",\"no_comments\":\"Geen reacties.\",\"please_sign_in_to_reply\":\"Login om te kunnen reageren.\"});\nTAPi18n._registerServerTranslator(\"nl\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pl\"] = [\"Polish\",\"Polski\"];\nif(_.isUndefined(TAPi18n.translations[\"pl\"])) {\n  TAPi18n.translations[\"pl\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"pl\"][namespace])) {\n  TAPi18n.translations[\"pl\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"pl\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Nie możesz edytować tego komentarza.\",\"your_comment_has_been_deleted\":\"Twój komentarz został usunięty.\",\"comment_\":\"Komentuj\",\"delete_comment\":\"Usuń komentarz\",\"add_comment\":\"Dodaj komentarz\",\"upvote\":\"plus\",\"downvote\":\"minus\",\"link\":\"link\",\"edit\":\"Edytuj\",\"reply\":\"Odpowiedz\",\"no_comments\":\"Brak komentarzy.\"});\nTAPi18n._registerServerTranslator(\"pl\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pt-BR\"] = [\"Portuguese (Brazil)\",\"Português do Brasil\"];\nif(_.isUndefined(TAPi18n.translations[\"pt-BR\"])) {\n  TAPi18n.translations[\"pt-BR\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"pt-BR\"][namespace])) {\n  TAPi18n.translations[\"pt-BR\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"pt-BR\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Desculpe, você não pode editar este comentário.\",\"your_comment_has_been_deleted\":\"Seu comentário foi deletado.\",\"comment_\":\"Comentário\",\"delete_comment\":\"Deletar Comentário\",\"add_comment\":\"Adicionar Comentário\",\"upvote\":\"+\",\"downvote\":\"-\",\"link\":\"link\",\"edit\":\"Editar\",\"reply\":\"Responder\",\"no_comments\":\"Sem comentários.\",\"please_sign_in_to_reply\":\"Por favor, registre-se para responder\"});\nTAPi18n._registerServerTranslator(\"pt-BR\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ro\"] = [\"Romanian\",\"Română\"];\nif(_.isUndefined(TAPi18n.translations[\"ro\"])) {\n  TAPi18n.translations[\"ro\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"ro\"][namespace])) {\n  TAPi18n.translations[\"ro\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"ro\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Ne pare rău, nu poți edita aceast comentariu.\",\"your_comment_has_been_deleted\":\"Comentariul tău a fost șters\",\"comment_\":\"Comentare\",\"delete_comment\":\"Sterge comentariu\",\"add_comment\":\"Adaugă comentariu\",\"upvote\":\"+1\",\"downvote\":\"-1\",\"link\":\"link\",\"edit\":\"editează\",\"reply\":\"răspunde\",\"no_comments\":\"Nici un comentariu.\",\"please_sign_in_to_reply\":\"Este nevoie să te autentifici pentru a răspunde\"});\nTAPi18n._registerServerTranslator(\"ro\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ru\"] = [\"Russian\",\"Русский\"];\nif(_.isUndefined(TAPi18n.translations[\"ru\"])) {\n  TAPi18n.translations[\"ru\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"ru\"][namespace])) {\n  TAPi18n.translations[\"ru\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"ru\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Извините, вы не можете редактировать это.\",\"your_comment_has_been_deleted\":\"Ваш комментарий удалили.\",\"comment_\":\"Комментарий\",\"delete_comment\":\"Удалить комментарий\",\"add_comment\":\"Добавить комментарий\",\"upvote\":\"за\",\"downvote\":\"против\",\"link\":\"ссылка\",\"edit\":\"Редактировать\",\"reply\":\"Ответить\",\"no_comments\":\"Без комментариев.\"});\nTAPi18n._registerServerTranslator(\"ru\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"sl\"] = [\"Slovenian\",\"slovenščina\"];\nif(_.isUndefined(TAPi18n.translations[\"sl\"])) {\n  TAPi18n.translations[\"sl\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"sl\"][namespace])) {\n  TAPi18n.translations[\"sl\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"sl\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Žal, ne morete urejati tega komentarja.\",\"your_comment_has_been_deleted\":\"Vaš komentar je bil izbrisan.\",\"comment_\":\"Komentar\",\"delete_comment\":\"Izbriši komentar\",\"add_comment\":\"Komentiraj\",\"upvote\":\"glas za\",\"downvote\":\"glas proti\",\"link\":\"povezava\",\"edit\":\"Uredi\",\"reply\":\"Odgovori\",\"no_comments\":\"Ni komentarjev.\",\"please_sign_in_to_reply\":\"Prosimo, prijavite se za odgovor\"});\nTAPi18n._registerServerTranslator(\"sl\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"sv\"] = [\"Swedish\",\"Svenska\"];\nif(_.isUndefined(TAPi18n.translations[\"sv\"])) {\n  TAPi18n.translations[\"sv\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"sv\"][namespace])) {\n  TAPi18n.translations[\"sv\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"sv\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Tyvärr, du kan inte redigera denna kommentar.\",\"your_comment_has_been_deleted\":\"Din kommentar har tagits bort.\",\"comment_\":\"Kommentar\",\"delete_comment\":\"Ta Bort Kommentar\",\"add_comment\":\"Kommentera\",\"upvote\":\"upprösta\",\"downvote\":\"nedrösta\",\"link\":\"länk\",\"edit\":\"Redigera\",\"reply\":\"Svara\",\"no_comments\":\"Inga kommentarer.\",\"please_sign_in_to_reply\":\"Vänligen logga in för att svara\"});\nTAPi18n._registerServerTranslator(\"sv\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"th\"] = [\"Thai\",\"ไทย\"];\nif(_.isUndefined(TAPi18n.translations[\"th\"])) {\n  TAPi18n.translations[\"th\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"th\"][namespace])) {\n  TAPi18n.translations[\"th\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"th\"][namespace], {\"comment_\":\"ความเห็น\",\"delete_comment\":\"ลบความเห็น\",\"add_comment\":\"เพิ่มความเห็น\",\"link\":\"ลิงก์\",\"edit\":\"แก้ไข\",\"reply\":\"ตอบ\",\"no_comments\":\"ไม่มีความเห็น\"});\nTAPi18n._registerServerTranslator(\"th\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"tr\"] = [\"Turkish\",\"Türkçe\"];\nif(_.isUndefined(TAPi18n.translations[\"tr\"])) {\n  TAPi18n.translations[\"tr\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"tr\"][namespace])) {\n  TAPi18n.translations[\"tr\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"tr\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Özür dileriz, bu yorumu değiştiremezsiniz\",\"your_comment_has_been_deleted\":\"Yorumunuz silindi\",\"comment_\":\"Yorum\",\"delete_comment\":\"Yorumu Sil\",\"add_comment\":\"Yorum Ekle\",\"upvote\":\"1\",\"downvote\":\"-1\",\"link\":\"bağlantı\",\"edit\":\"Düzenle\",\"reply\":\"Cevap\",\"no_comments\":\"Yorum yok\",\"please_sign_in_to_reply\":\"Cevap yazmak için lütfen giriş yapın.\"});\nTAPi18n._registerServerTranslator(\"tr\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"vi\"] = [\"Vietnamese\",\"Tiếng Việt\"];\nif(_.isUndefined(TAPi18n.translations[\"vi\"])) {\n  TAPi18n.translations[\"vi\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"vi\"][namespace])) {\n  TAPi18n.translations[\"vi\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"vi\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"Xin lỗi, bạn không thể sửa ý kiến này.\",\"your_comment_has_been_deleted\":\"Ý kiến của bạn đã được xóa.\",\"comment_\":\"Ý kiến\",\"delete_comment\":\"Xóa ý kiến\",\"add_comment\":\"Thêm ý kiến\",\"upvote\":\"Thích\",\"downvote\":\"Không thích\",\"link\":\"link\",\"edit\":\"Sửa\",\"reply\":\"Trả lời\",\"no_comments\":\"Không ý kiến.\"});\nTAPi18n._registerServerTranslator(\"vi\", namespace);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"zh-CN\"] = [\"Chinese (China)\",\"简体中文\"];\nif(_.isUndefined(TAPi18n.translations[\"zh-CN\"])) {\n  TAPi18n.translations[\"zh-CN\"] = {};\n}\n\nif(_.isUndefined(TAPi18n.translations[\"zh-CN\"][namespace])) {\n  TAPi18n.translations[\"zh-CN\"][namespace] = {};\n}\n\n_.extend(TAPi18n.translations[\"zh-CN\"][namespace], {\"sorry_you_cannot_edit_this_comment\":\"对不起你不能编辑这个评论\",\"your_comment_has_been_deleted\":\"你的评论已经被删除\",\"comment_\":\"评论\",\"delete_comment\":\"删除评论\",\"add_comment\":\"评论\",\"upvote\":\"顶\",\"downvote\":\"踩\",\"link\":\"链接\",\"edit\":\"编辑\",\"reply\":\"回复\",\"no_comments\":\"暂时没有评论\"});\nTAPi18n._registerServerTranslator(\"zh-CN\", namespace);\n"]}