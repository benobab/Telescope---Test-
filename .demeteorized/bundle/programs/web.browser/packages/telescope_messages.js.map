)]}'
{"version":3,"sources":["meteor://ðŸ’»app/lib/modules.js","meteor://ðŸ’»app/lib/client/messages.js","meteor://ðŸ’»app/packages/telescope_messages/lib/client/templates/template.messages.js","meteor://ðŸ’»app/lib/client/templates/messages.js","meteor://ðŸ’»app/packages/telescope_messages/lib/client/templates/template.message_item.js","meteor://ðŸ’»app/lib/client/templates/message_item.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE;AAClC,UAAQ,EAAE,UAAU;AACpB,OAAK,EAAE,CAAC;CACT,CAAC,CAAC,yF;;;;;;;;;;;;;;;;;;ACHH,QAAQ,GAAG;;AAET,YAAU,EAAE,IAAI,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC;;AAEvC,OAAK,EAAE,UAAS,OAAO,EAAE,IAAI,EAAE;AAC7B,QAAI,GAAI,OAAO,IAAI,KAAK,WAAW,GAAI,OAAO,GAAE,IAAI,CAAC;;AAErD,QAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAC,OAAO,EAAC,OAAO,EAAE,IAAI,EAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAC,IAAI,EAAC,CAAC,CAAC;GAC9E;;AAED,WAAS,EAAE,YAAW;AACpB,QAAI,CAAC,UAAU,CAAC,MAAM,CAAC,EAAC,IAAI,EAAC,IAAI,EAAC,EAAE,EAAC,IAAI,EAAE,EAAC,IAAI,EAAC,KAAK,EAAC,EAAC,EAAE,EAAC,KAAK,EAAC,IAAI,EAAC,CAAC,CAAC;GACzE;CACF,CAAC,0F;;;;;;;;;;;;;;;;;;ACbF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+F;;;;;;;;;;;;;;;;;;ACZA,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC;AACxB,UAAQ,EAAE,YAAU;AAClB,WAAO,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,IAAI,EAAE,IAAI,EAAC,CAAC,CAAC;GAC/C;CACF,CAAC,CAAC,yF;;;;;;;;;;;;;;;;;;ACJH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+F;;;;;;;;;;;;;;;;;;AClBA,QAAQ,CAAC,YAAY,CAAC,SAAS,CAAC,YAAU;AACzC,KAAI,SAAS,GAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC;;AAE5B,OAAM,CAAC,UAAU,CAAC,YAAU;AAC3B,UAAQ,CAAC,UAAU,CAAC,MAAM,CAAC,SAAS,EAAE,EAAC,IAAI,EAAE,EAAC,IAAI,EAAC,IAAI,EAAC,EAAC,CAAC,CAAC;EAC3D,EAAE,GAAG,CAAC,CAAC;CACR,CAAC,CAAC,yF","file":"/packages/telescope_messages.js","sourcesContent":["Telescope.modules.add(\"contentTop\", {\n  template: \"messages\",\n  order: 1\n});","Messages = {\n  // Local (client-only) collection\n  collection: new Meteor.Collection(null),\n\n  flash: function(message, type) {\n    type = (typeof type === 'undefined') ? 'error': type;\n    // Store errors in the local collection\n    this.collection.insert({message:message, type:type, seen: false, show:true});\n  },\n\n  clearSeen: function() {\n    this.collection.update({seen:true}, {$set: {show:false}}, {multi:true});\n  }\n};\n","\nTemplate.__checkName(\"messages\");\nTemplate[\"messages\"] = new Template(\"Template.messages\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"messages\"\n  }, \"\\n  \t\", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"messages\"));\n  }, function() {\n    return [ \"\\n  \t\t\", Spacebars.include(view.lookupTemplate(\"message_item\")), \"\\n  \t\" ];\n  }), \"\\n  \");\n}));\n","Template.messages.helpers({\n  messages: function(){\n    return Messages.collection.find({show: true});\n  }\n});\n","\nTemplate.__checkName(\"message_item\");\nTemplate[\"message_item\"] = new Template(\"Template.message_item\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"show\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": \"grid\"\n    }, \"\\n      \", HTML.DIV({\n      \"class\": function() {\n        return [ \"error \", Spacebars.mustache(view.lookup(\"type\")), \"-message module\" ];\n      }\n    }, \"\\n        \", Blaze.View(\"lookup:message\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"message\")));\n    }), \"\\n      \"), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n","Template.message_item.onCreated(function(){\n\tvar messageId=this.data._id;\n\n\tMeteor.setTimeout(function(){\n\t\tMessages.collection.update(messageId, {$set: {seen:true}});\n\t}, 100);\n});\n"]}