)]}'
{"version":3,"sources":["meteor://💻app/lib/comments.js","meteor://💻app/lib/methods.js","meteor://💻app/lib/callbacks.js","meteor://💻app/lib/views.js","meteor://💻app/lib/parameters.js","meteor://💻app/lib/helpers.js","meteor://💻app/lib/routes.js","meteor://💻app/packages/telescope_comments/lib/client/templates/template.comment_edit.js","meteor://💻app/lib/client/templates/comment_edit.js","meteor://💻app/packages/telescope_comments/lib/client/templates/template.comment_submit.js","meteor://💻app/lib/client/templates/comment_submit.js","meteor://💻app/packages/telescope_comments/lib/client/templates/template.comment_item.js","meteor://💻app/lib/client/templates/comment_item.js","meteor://💻app/packages/telescope_comments/lib/client/templates/template.comment_list.js","meteor://💻app/lib/client/templates/comment_list.js","meteor://💻app/packages/telescope_comments/lib/client/templates/template.comment_reply.js","meteor://💻app/lib/client/templates/comment_reply.js","meteor://💻app/packages/telescope_comments/lib/client/templates/comments_list/template.comments_list_compact.js","meteor://💻app/lib/client/templates/comments_list/comments_list_compact.js","meteor://💻app/packages/telescope_comments/lib/client/templates/comments_list/template.comments_list_controller.js","meteor://💻app/lib/client/templates/comments_list/comments_list_controller.js","meteor://💻app/packages/telescope_comments/lib/client/templates/comment_controller/template.comment_controller.js","meteor://💻app/lib/client/templates/comment_controller/comment_controller.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ar.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/bg.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/cs.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/da.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/de.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/el.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/en.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/es.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/et.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/fr.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/hu.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/id.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/it.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ja.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/kk.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ko.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/nl.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/pl.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/pt-BR.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ro.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/ru.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/sl.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/sv.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/th.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/tr.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/vi.i18n.js","meteor://💻app/packages/telescope_comments/packages/telescope_commentsi18n/zh-CN.i18n.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,QAAQ,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,UAAU,CAAC,CAAC;;;;;;AAM5C,QAAQ,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC;;;;AAIjC,KAAG,EAAE;AACH,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,iBAAe,EAAE;AACf,QAAI,EAAE,MAAM;;AAEZ,OAAG,EAAE,GAAG;AACR,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE,IAAI;AACd,YAAQ,EAAE;AACR,UAAI,EAAE,IAAI;KACX;GACF;;;;AAID,mBAAiB,EAAE;AACjB,QAAI,EAAE,MAAM;;AAEZ,OAAG,EAAE,GAAG;AACR,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE,IAAI;AACd,YAAQ,EAAE;AACR,UAAI,EAAE,IAAI;KACX;GACF;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,IAAI;AACV,YAAQ,EAAE,IAAI;GACf;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,IAAI;AACV,YAAQ,EAAE,IAAI;GACf;;;;AAID,MAAI,EAAE;AACJ,QAAI,EAAE,MAAM;AACZ,OAAG,EAAE,IAAI;AACT,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE;AACR,UAAI,EAAE,CAAC;AACP,iBAAW,EAAE;AACX,yBAAiB,EAAE,YAAY;OAChC;KACF;GACF;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,MAAM;AACZ,WAAO,EAAE,IAAI;AACb,YAAQ,EAAE,IAAI;GACf;;;;AAID,OAAK,EAAE;AACL,QAAI,EAAE,MAAM;AACZ,WAAO,EAAE,IAAI;AACb,YAAQ,EAAE,IAAI;GACf;;;;AAID,SAAO,EAAE;AACP,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,CAAC,MAAM,CAAC;AACd,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,YAAU,EAAE;AACV,QAAI,EAAE,CAAC,MAAM,CAAC;AACd,YAAQ,EAAE,IAAI;GACf;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,OAAO;AACb,YAAQ,EAAE,IAAI;GACf;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;;AAEd,OAAG,EAAE,GAAG;AACR,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE;AACR,UAAI,EAAE,IAAI;KACX;GACF;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,OAAO;AACb,YAAQ,EAAE,IAAI;GACf;CACF,CAAC,CAAC;;AAEH,MAAM,CAAC,OAAO,CAAC,YAAU;;AAEvB,UAAQ,CAAC,gBAAgB,EAAE,CAAC;CAC7B,CAAC,CAAC;;AAEH,QAAQ,CAAC,YAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;;AAEvC,QAAQ,CAAC,KAAK,CAAC;AACb,QAAM,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,QAAQ,CAAC;AACjD,QAAM,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,QAAQ,CAAC;CAClD,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;;;;;;AC3KH,QAAQ,CAAC,MAAM,GAAG,UAAU,OAAO,EAAE;;AAEnC,MAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;;;;AAK5B,MAAI,CAAC,OAAO,CAAC,IAAI,EACf,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAC,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;;;;AAI9D,MAAI,iBAAiB,GAAG;AACtB,aAAS,EAAE,IAAI,IAAI,EAAE;AACrB,YAAQ,EAAE,IAAI,IAAI,EAAE;AACpB,WAAO,EAAE,CAAC;AACV,aAAS,EAAE,CAAC;AACZ,aAAS,EAAE,CAAC;AACZ,SAAK,EAAE,CAAC;AACR,UAAM,EAAE,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC;GACzC,CAAC;;AAEF,SAAO,GAAG,CAAC,CAAC,MAAM,CAAC,iBAAiB,EAAE,OAAO,CAAC,CAAC;;;;;AAK/C,SAAO,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,EAAE,OAAO,CAAC,CAAC;;;;AAI5D,SAAO,CAAC,GAAG,GAAG,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;;;;;;AAMvC,WAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,oBAAoB,EAAE,QAAQ,CAAC,OAAO,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC;;AAElF,SAAO,OAAO,CAAC;CAChB,CAAC;;AAEF,QAAQ,CAAC,IAAI,GAAG,UAAU,SAAS,EAAE,QAAQ,EAAE,OAAO,EAAE;;;;AAItD,UAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;;;;AAIrE,UAAQ,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;;;;AAIrC,WAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,EAAE,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,EAAE,OAAO,CAAC,CAAC;;;AAGvF,SAAO,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;CACpC,CAAC;;;;;;AAMF,MAAM,CAAC,OAAO,CAAC;AACb,eAAa,EAAE,UAAS,OAAO,EAAC;;;AAG9B,SAAK,CAAC,OAAO,EAAE,QAAQ,CAAC,YAAY,EAAE,CAAC,CAAC;;;;;;;;;AASxC,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE;QACpB,cAAc,GAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC;QACrC,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;;;;;AAK7C,QAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,EACnC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,sDAAsD,CAAC,CAAC,CAAC;;;;AAIzF,QAAI,CAAC,cAAc,EAAE;;AAEnB,UAAI,oBAAoB,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,QAAQ,CAAC;UAC1D,eAAe,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,iBAAiB,EAAC,EAAE,CAAC,CAAC,CAAC,CAAC;;;AAG7E,UAAI,oBAAoB,GAAG,eAAe,EACxC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,IAAE,eAAe,GAAC,oBAAoB,CAAC,GAAC,IAAI,CAAC,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;KAEvI;;;;;;;;AAQD,KAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;;AAE3C,UAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9B,UAAI,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;AACvC,cAAM,IAAI,MAAM,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,CAAC,8BAA8B,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;OAC1G;KAEF,CAAC,CAAC;;;AAGH,QAAI,CAAC,OAAO,CAAC,MAAM,EAAE;AACnB,aAAO,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;KAC3B;;AAED,WAAO,QAAQ,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;GACjC;;AAED,aAAW,EAAE,UAAU,QAAQ,EAAE,SAAS,EAAE;;;AAG1C,SAAK,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,QAAQ,CAAC,YAAY,EAAE,EAAC,CAAC,CAAC;AACjD,SAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;;AAEzB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE;QACpB,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC;QACrC,MAAM,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;;;;;AAK7C,QAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE;AAC3C,YAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,oCAAoC,CAAC,CAAC,CAAC;KAC3E;;;;AAID,KAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,SAAS,EAAE;;AAEpC,OAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;;AAE7C,YAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9B,YAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,OAAO,CAAC,EAAE;AAC9C,gBAAM,IAAI,MAAM,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,CAAC,8BAA8B,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;SAC1G;OAEF,CAAC,CAAC;KACJ,CAAC,CAAC;;AAEH,YAAQ,CAAC,IAAI,CAAC,SAAS,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;GAC7C;;AAED,mBAAiB,EAAE,UAAU,SAAS,EAAE;;AAEtC,SAAK,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;;AAEzB,QAAI,OAAO,GAAG,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;AAC1C,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;;AAEzB,QAAG,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,EAAC;;;AAG/B,WAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;AAC3B,YAAI,EAAI,EAAC,YAAY,EAAE,CAAC,CAAC,EAAC;AAC1B,aAAK,EAAG,EAAC,UAAU,EAAE,OAAO,CAAC,MAAM,EAAC;OACrC,CAAC,CAAC;;;AAGH,YAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,OAAO,CAAC,MAAM,EAAC,EAAE;AACzC,YAAI,EAAI,EAAC,wBAAwB,EAAE,CAAC,CAAC,EAAC;OACvC,CAAC,CAAC;;;;;AAKH,cAAQ,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,SAAS,EAAC,EAAE,EAAC,IAAI,EAAE;AACvC,cAAI,EAAE,SAAS;AACf,kBAAQ,EAAE,SAAS;AACnB,mBAAS,EAAE,IAAI;SAChB,EAAC,CAAC,CAAC;KAEL,MAAI;;AAEH,cAAQ,CAAC,KAAK,CAAC,mDAAmD,EAAE,OAAO,CAAC,CAAC;KAE9E;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;;;;;ACjMH,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE;;AAE5C,KAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;CAC3D,CAAC,CAAC;;AAEH,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE;;AAElE,MAAI,MAAM,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE;AAC1D,YAAQ,CAAC,IAAI,GAAG,QAAQ,CAAC,IAAI,IAAI,EAAE,CAAC;AACpC,YAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GAC/E;CACF,CAAC,CAAC;;;;;AAKH,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE;AAClE,MAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,EAAE;AACtB,UAAM,IAAI,MAAM,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;GAC9D;CACF,CAAC,CAAC;;;;;;AAMH,SAAS,sBAAsB,CAAE,OAAO,EAAE;;AAExC,MAAI,MAAM,GAAG,OAAO,CAAC,MAAM,CAAC;;;AAG5B,QAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,MAAM,EAAC,EAAE;AACjC,QAAI,EAAQ,EAAC,wBAAwB,EAAE,CAAC,EAAC;GAC1C,CAAC,CAAC;;;AAGH,OAAK,CAAC,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;AAC3B,QAAI,EAAQ,EAAC,YAAY,EAAE,CAAC,EAAC;AAC7B,QAAI,EAAQ,EAAC,eAAe,EAAE,IAAI,IAAI,EAAE,EAAC;AACzC,aAAS,EAAG,EAAC,UAAU,EAAE,MAAM,EAAC;GACjC,CAAC,CAAC;;AAEH,SAAO,OAAO,CAAC;CAChB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,EAAE,sBAAsB,CAAC,CAAC;;AAEtE,SAAS,gBAAgB,CAAE,OAAO,EAAE;;AAElC,MAAI,aAAa,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;;AAGzD,WAAS,CAAC,UAAU,CAAC,QAAQ,EAAE,OAAO,EAAE,aAAa,CAAC,CAAC;;AAEvD,SAAO,OAAO,CAAC;CAChB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,EAAE,gBAAgB,CAAC,CAAC,4D;;;;;;;;;;;;;;;;;;;;;;ACvDhE,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;;;;;;;AAOpB,QAAQ,CAAC,KAAK,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,YAAY,EAAE;AACrD,UAAQ,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,YAAY,CAAC;CACzC,CAAC;;;AAGF,QAAQ,CAAC,KAAK,CAAC,cAAc,GAAG;AAC9B,SAAO,EAAE;AACP,SAAK,EAAE,EAAE;GACV;CACF,CAAC;;AAEF,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,KAAK,EAAE;AAClD,SAAO;AACL,QAAI,EAAE,EAAC,MAAM,EAAE,KAAK,CAAC,MAAM,EAAC;AAC5B,WAAO,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,EAAC,KAAK,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;GACrD,CAAC;CACH,CAAC,CAAC;;AAEH,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,EAAE,UAAU,KAAK,EAAE;AAClD,SAAO;AACL,QAAI,EAAE,EAAC,MAAM,EAAE,KAAK,CAAC,MAAM,EAAC;AAC5B,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;GAChC,CAAC;CACH,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AClCH,QAAQ,CAAC,UAAU,GAAG,EAAE,CAAC;;;;;;;AAOzB,QAAQ,CAAC,UAAU,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE;;;AAGzC,OAAK,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;;;;;;;;AAQxB,MAAI,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,EAAE,QAAQ,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;;;AAGrF,MAAI,OAAO,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,WAAW,EACnD,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;;;AAG/F,YAAU,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;;;;AAI9E,SAAO,UAAU,CAAC;CACnB,CAAC;;;AAGF,SAAS,aAAa,CAAE,UAAU,EAAE,KAAK,EAAE;AACzC,MAAI,QAAQ,GAAG,IAAI,CAAC;;AAEpB,MAAI,OAAO,KAAK,CAAC,KAAK,KAAK,WAAW,EAAE;AACtC,KAAC,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,EAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,EAAC,CAAC,CAAC;GAC9D;;;AAGD,MAAG,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,IAAI,UAAU,CAAC,OAAO,CAAC,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,EAAE;AACrG,cAAU,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;GACrC;AACD,SAAO,UAAU,CAAC;CACnB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,oBAAoB,EAAE,aAAa,CAAC,CAAC,+D;;;;;;;;;;;;;;;;;;;;;;;;;;ACtC7D,QAAQ,CAAC,UAAU,GAAG,UAAS,OAAO,EAAE,UAAU,EAAC;AACjD,MAAI,UAAU,GAAG,OAAO,UAAU,KAAK,WAAW,GAAG,KAAK,GAAG,UAAU,CAAC;AACxE,MAAI,MAAM,GAAG,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACxE,SAAO,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,aAAa,EAAE,OAAO,CAAC,CAAC;CACzD,CAAC;AACF,QAAQ,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,YAAY;AAAC,WAAO,QAAQ,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;;;;;AAUhF,QAAQ,CAAC,aAAa,GAAG,UAAU,OAAO,EAAE;AAC1C,MAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AAChD,MAAI,IAAI,EAAE;AACR,WAAO,IAAI,CAAC,cAAc,EAAE,CAAC;GAC9B,MAAM;AACL,WAAO,OAAO,CAAC,MAAM,CAAC;GACvB;CACF,CAAC;AACF,QAAQ,CAAC,OAAO,CAAC,EAAC,aAAa,EAAE,YAAY;AAAC,WAAO,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC,kH;;;;;;;;;;;;;;;;;;AC/BtF,UAAU,CAAC,KAAK,CAAC,gBAAgB,EAAE;AACjC,MAAI,EAAE,aAAa;AACnB,QAAM,EAAE,UAAS,MAAM,EAAE,WAAW,EAAE;AACpC,eAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,oBAAoB,EAAE,eAAe,EAAE,eAAe,EAAC,CAAC,CAAC;GAC9F;CACF,CAAC,CAAC;;AAEH,UAAU,CAAC,KAAK,CAAC,qBAAqB,EAAE;AACtC,MAAI,EAAE,aAAa;AACnB,QAAM,EAAE,UAAS,MAAM,EAAE,WAAW,EAAE;AACpC,eAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,oBAAoB,EAAE,eAAe,EAAE,cAAc,EAAC,CAAC,CAAC;GAC7F;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACZH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AC3CA,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC;AAC5B,eAAa,EAAE,YAAY;AACzB,WAAO,QAAQ,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;GACjE;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,KAAK,CAAC;AACb,iBAAe,EAAE;;AAEf,UAAM,EAAE;AACN,qBAAe,EAAE,YAAW;;AAE1B,YAAI,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC;AAC9B,YAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;;;;AAI9B,YAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE;AAClB,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,EAAE,CAAC,CAAC;AACpD,iBAAO,KAAK,CAAC;SACd;;;;;AAKD,gBAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,mBAAmB,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;AAC3E,eAAO,QAAQ,CAAC;OACjB;KACF;;AAED,aAAS,EAAE,UAAS,QAAQ,EAAE,OAAO,EAAE;;AAErC,aAAO,GAAG,IAAI,CAAC,UAAU,CAAC;AAC1B,YAAM,CAAC,KAAK,CAAC,cAAc,EAAE,EAAC,WAAW,EAAE,OAAO,CAAC,GAAG,EAAC,CAAC,CAAC;AACzD,gBAAU,CAAC,EAAE,CAAC,UAAU,EAAE,EAAC,GAAG,EAAE,OAAO,CAAC,MAAM,EAAC,CAAC,CAAC;KAClD;;AAED,WAAO,EAAE,UAAS,QAAQ,EAAE,KAAK,EAAE;AACjC,aAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,cAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AACpD,cAAQ,CAAC,SAAS,EAAE,CAAC;KACtB;;GAEF;CACF,CAAC,CAAC;;;AAGH,QAAQ,CAAC,YAAY,CAAC,MAAM,CAAC;AAC3B,sBAAoB,EAAE,UAAS,CAAC,EAAC;AAC/B,QAAI,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC;;AAE3B,KAAC,CAAC,cAAc,EAAE,CAAC;;AAEnB,QAAG,OAAO,CAAC,eAAe,CAAC,EAAC;AAC1B,gBAAU,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;AAC9B,YAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,OAAO,CAAC,GAAG,EAAE,UAAS,KAAK,EAAE;AAC5D,YAAI,KAAK,EAAE;AACT,iBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,kBAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;SACvC,MAAM;AACL,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,+BAA+B,CAAC,EAAE,SAAS,CAAC,CAAC;SACpE;OACF,CAAC,CAAC;KACJ;GACF;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,YAAY,CAAC,UAAU,CAAC,YAAW;AAC1C,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,MAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;AACtC,QAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,OAAO,IAAI,EAAE,IAAM,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,EAAG,EAAC;AACjF,UAAI,CAAC,CAAC,CAAC,kBAAkB,CAAC,CAAC,MAAM,EAAE,CAAC;KACrC;GACF,CAAC,CAAC;CACJ,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AC1EH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACnDA,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC;AAC9B,eAAa,EAAE,YAAY;AACzB,WAAO,QAAQ,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;GACjE;AACD,YAAU,EAAE,YAAY;AACtB,WAAO,CAAC,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;GACxB;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,KAAK,CAAC;AACb,mBAAiB,EAAE;;AAEjB,UAAM,EAAE;AACN,YAAM,EAAE,UAAS,GAAG,EAAE;;AAEpB,YAAI,OAAO,GAAG,GAAG,CAAC;;AAElB,YAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;AAC3D,YAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;;AAEhG,YAAI,MAAM,GAAG,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC;;AAE/C,YAAI,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE;;AACpB,cAAI,aAAa,GAAG,MAAM,CAAC,OAAO,CAAC;AACnC,iBAAO,CAAC,eAAe,GAAG,aAAa,CAAC,GAAG,CAAC;AAC5C,iBAAO,CAAC,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC;;AAEtC,cAAG,CAAC,aAAa,CAAC,iBAAiB,EAAE;;AACnC,mBAAO,CAAC,iBAAiB,GAAG,aAAa,CAAC,GAAG,CAAC;WAC/C,MAAM;;AACL,mBAAO,CAAC,iBAAiB,GAAG,aAAa,CAAC,iBAAiB,CAAC;WAC7D;SACF,MAAM;;AACL,cAAI,IAAI,GAAG,MAAM,CAAC;AAClB,iBAAO,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;SAC3B;;;;AAID,YAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE;AAClB,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,OAAO,CAAC,CAAC;AACzD,iBAAO,KAAK,CAAC;SACd;;;;;AAKD,eAAO,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,qBAAqB,EAAE,OAAO,CAAC,CAAC;;AAElE,eAAO,OAAO,CAAC;OAChB;KACF;;AAED,aAAS,EAAE,UAAS,SAAS,EAAE,OAAO,EAAE;AACtC,UAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9D,UAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;AAC7E,UAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACzC,YAAM,CAAC,KAAK,CAAC,aAAa,EAAE,EAAC,WAAW,EAAE,OAAO,CAAC,GAAG,EAAC,CAAC,CAAC;AACxD,gBAAU,CAAC,EAAE,CAAC,UAAU,EAAE,EAAC,GAAG,EAAE,OAAO,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAC,CAAC,CAAC;AAClE,UAAI,OAAO,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,cAAc,EAAE;AAClD,gBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,uCAAuC,CAAC,EAAE,SAAS,CAAC,CAAC;OAC5E;KACF;;AAED,WAAO,EAAE,UAAS,SAAS,EAAE,KAAK,EAAE;AAClC,UAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9D,UAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;AAE7E,cAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AACrD,cAAQ,CAAC,SAAS,EAAE,CAAC;KACtB;;GAEF;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAC,YAAW;AAC5C,MAAI,IAAI,GAAG,IAAI,CAAC;AAChB,MAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,EAAE;AACtC,QAAI,CAAC,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,KAAK,CAAC,CAAC,OAAO,IAAI,EAAE,IAAM,CAAC,CAAC,OAAO,IAAI,CAAC,CAAC,OAAO,IAAI,EAAG,EAAC;AACjF,UAAI,CAAC,CAAC,CAAC,oBAAoB,CAAC,CAAC,MAAM,EAAE,CAAC;KACvC;GACF,CAAC,CAAC;CACJ,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AClFH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H","file":"/packages/telescope_comments.js","sourcesContent":["/**\n * The global namespace for Comments.\n * @namespace Comments\n */\nComments = new Mongo.Collection(\"comments\");\n\n/**\n * Comments schema\n * @type {SimpleSchema}\n */\nComments.schema = new SimpleSchema({\n  /**\n    ID\n  */\n  _id: {\n    type: String,\n    optional: true\n  },\n  /**\n    The `_id` of the parent comment, if there is one\n  */\n  parentCommentId: {\n    type: String,\n    // regEx: SimpleSchema.RegEx.Id,\n    max: 500,\n    editableBy: [\"member\", \"admin\"],\n    optional: true,\n    autoform: {\n      omit: true // never show this\n    }\n  },\n  /**\n    The `_id` of the top-level parent comment, if there is one\n  */\n  topLevelCommentId: {\n    type: String,\n    // regEx: SimpleSchema.RegEx.Id,\n    max: 500,\n    editableBy: [\"member\", \"admin\"],\n    optional: true,\n    autoform: {\n      omit: true // never show this\n    }\n  },\n  /**\n    The timestamp of comment creation\n  */\n  createdAt: {\n    type: Date,\n    optional: true\n  },\n  /**\n    The timestamp of the comment being posted. For now, comments are always created and posted at the same time\n  */\n  postedAt: {\n    type: Date,\n    optional: true\n  },\n  /**\n    The comment body (Markdown)\n  */\n  body: {\n    type: String,\n    max: 3000,\n    editableBy: [\"member\", \"admin\"],\n    autoform: {\n      rows: 5,\n      afFormGroup: {\n        'formgroup-class': 'hide-label'\n      }\n    }\n  },\n  /**\n    The HTML version of the comment body\n  */\n  htmlBody: {\n    type: String,\n    optional: true\n  },\n  /**\n    The comment's base score (doesn't factor in comment age)\n  */\n  baseScore: {\n    type: Number,\n    decimal: true,\n    optional: true\n  },\n  /**\n    The comment's current score (factors in comment age)\n  */\n  score: {\n    type: Number,\n    decimal: true,\n    optional: true\n  },\n  /**\n    The number of upvotes the comment has received\n  */\n  upvotes: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of upvoters\n  */\n  upvoters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    The number of downvotes the comment has received\n  */\n  downvotes: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of downvoters\n  */\n  downvoters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    The comment author's name\n  */\n  author: {\n    type: String,\n    optional: true\n  },\n  /**\n    Whether the comment is inactive. Inactive comments' scores gets recalculated less often\n  */\n  inactive: {\n    type: Boolean,\n    optional: true\n  },\n  /**\n    The post's `_id`\n  */\n  postId: {\n    type: String,\n    optional: true,\n    // regEx: SimpleSchema.RegEx.Id,\n    max: 500,\n    editableBy: [\"member\", \"admin\"], // TODO: should users be able to set postId, but not modify it?\n    autoform: {\n      omit: true // never show this\n    }\n  },\n  /**\n    The comment author's `_id`\n  */\n  userId: {\n    type: String,\n    optional: true\n  },\n  /**\n    Whether the comment is deleted. Delete comments' content doesn't appear on the site. \n  */\n  isDeleted: {\n    type: Boolean,\n    optional: true\n  }\n});\n\nMeteor.startup(function(){\n  // needs to happen after every fields are added\n  Comments.internationalize();\n});\n\nComments.attachSchema(Comments.schema);\n\nComments.allow({\n  update: _.partial(Telescope.allowCheck, Comments),\n  remove: _.partial(Telescope.allowCheck, Comments)\n});\n","\n// ------------------------------------------------------------------------------------------- //\n// -------------------------------------- Submit Comment ------------------------------------- //\n// ------------------------------------------------------------------------------------------- //\n\nComments.submit = function (comment) {\n\n  var userId = comment.userId; // at this stage, a userId is expected\n\n  // ------------------------------ Checks ------------------------------ //\n\n  // Don't allow empty comments\n  if (!comment.body)\n    throw new Meteor.Error(704,i18n.t('your_comment_is_empty'));\n\n  // ------------------------------ Properties ------------------------------ //\n\n  var defaultProperties = {\n    createdAt: new Date(),\n    postedAt: new Date(),\n    upvotes: 0,\n    downvotes: 0,\n    baseScore: 0,\n    score: 0,\n    author: Users.getDisplayNameById(userId)\n  };\n\n  comment = _.extend(defaultProperties, comment);\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  // run all post submit server callbacks on comment object successively\n  comment = Telescope.callbacks.run(\"commentSubmit\", comment);\n\n  // -------------------------------- Insert -------------------------------- //\n\n  comment._id = Comments.insert(comment);\n\n  // --------------------- Server-side Async Callbacks --------------------- //\n\n  // run all post submit server callbacks on comment object successively\n  // note: query for comment to get fresh document with collection-hooks effects applied\n  Telescope.callbacks.runAsync(\"commentSubmitAsync\", Comments.findOne(comment._id));\n\n  return comment;\n};\n\nComments.edit = function (commentId, modifier, comment) {\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  modifier = Telescope.callbacks.run(\"commentEdit\", modifier, comment);\n\n  // ------------------------------ Update ------------------------------ //\n\n  Comments.update(commentId, modifier);\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  Telescope.callbacks.runAsync(\"commentEditAsync\", Comments.findOne(commentId), comment);\n\n  // ------------------------------ After Update ------------------------------ //\n  return Comments.findOne(commentId);\n};\n\n// ------------------------------------------------------------------------------------------- //\n// ----------------------------------------- Methods ----------------------------------------- //\n// ------------------------------------------------------------------------------------------- //\n\nMeteor.methods({\n  submitComment: function(comment){\n\n    // checking might be redundant because SimpleSchema already enforces the schema, but you never know\n    check(comment, Comments.simpleSchema());\n\n    // required properties:\n    // postId\n    // body\n\n    // optional properties:\n    // parentCommentId\n\n    var user = Meteor.user(),\n        hasAdminRights = Users.is.admin(user),\n        schema = Comments.simpleSchema()._schema;\n\n    // ------------------------------ Checks ------------------------------ //\n\n    // check that user can comment\n    if (!user || !Users.can.comment(user))\n      throw new Meteor.Error(i18n.t('you_need_to_login_or_be_invited_to_post_new_comments'));\n\n    // ------------------------------ Rate Limiting ------------------------------ //\n\n    if (!hasAdminRights) {\n\n      var timeSinceLastComment = Users.timeSinceLast(user, Comments),\n          commentInterval = Math.abs(parseInt(Settings.get('commentInterval',15)));\n\n      // check that user waits more than 15 seconds between comments\n      if((timeSinceLastComment < commentInterval))\n        throw new Meteor.Error(704, i18n.t('please_wait')+(commentInterval-timeSinceLastComment)+i18n.t('seconds_before_commenting_again'));\n\n    }\n\n    // ------------------------------ Properties ------------------------------ //\n\n    // admin-only properties\n    // userId\n\n    // clear restricted properties\n    _.keys(comment).forEach(function (fieldName) {\n\n      var field = schema[fieldName];\n      if (!Users.can.submitField(user, field)) {\n        throw new Meteor.Error(\"disallowed_property\", i18n.t('disallowed_property_detected') + \": \" + fieldName);\n      }\n\n    });\n\n    // if no userId has been set, default to current user id\n    if (!comment.userId) {\n      comment.userId = user._id;\n    }\n\n    return Comments.submit(comment);\n  },\n\n  editComment: function (modifier, commentId) {\n\n    // checking might be redundant because SimpleSchema already enforces the schema, but you never know\n    check(modifier, {$set: Comments.simpleSchema()});\n    check(commentId, String);\n\n    var user = Meteor.user(),\n        comment = Comments.findOne(commentId),\n        schema = Comments.simpleSchema()._schema;\n\n    // ------------------------------ Checks ------------------------------ //\n\n    // check that user can edit\n    if (!user || !Users.can.edit(user, comment)) {\n      throw new Meteor.Error(601, i18n.t('sorry_you_cannot_edit_this_comment'));\n    }\n\n    // go over each field and throw an error if it's not editable\n    // loop over each operation ($set, $unset, etc.)\n    _.each(modifier, function (operation) {\n      // loop over each property being operated on\n      _.keys(operation).forEach(function (fieldName) {\n\n        var field = schema[fieldName];\n        if (!Users.can.editField(user, field, comment)) {\n          throw new Meteor.Error(\"disallowed_property\", i18n.t('disallowed_property_detected') + \": \" + fieldName);\n        }\n\n      });\n    });\n\n    Comments.edit(commentId, modifier, comment);\n  },\n\n  deleteCommentById: function (commentId) {\n\n    check(commentId, String);\n    \n    var comment = Comments.findOne(commentId);\n    var user = Meteor.user();\n\n    if(Users.can.edit(user, comment)){\n\n      // decrement post comment count and remove user ID from post\n      Posts.update(comment.postId, {\n        $inc:   {commentCount: -1},\n        $pull:  {commenters: comment.userId}\n      });\n\n      // decrement user comment count and remove comment ID from user\n      Meteor.users.update({_id: comment.userId}, {\n        $inc:   {'telescope.commentCount': -1}\n      });\n\n      // note: should we also decrease user's comment karma ?\n      // We don't actually delete the comment to avoid losing all child comments.\n      // Instead, we give it a special flag\n      Comments.update({_id: commentId}, {$set: {\n        body: 'Deleted',\n        htmlBody: 'Deleted',\n        isDeleted: true\n      }});\n\n    }else{\n\n      Messages.flash(\"You don't have permission to delete this comment.\", \"error\");\n\n    }\n  }\n});\n","//////////////////////////////////////////////////////\n// Collection Hooks                                 //\n//////////////////////////////////////////////////////\n\nComments.before.insert(function (userId, doc) {\n  // note: only actually sanitizes on the server\n  doc.htmlBody = Telescope.utils.sanitize(marked(doc.body));\n});\n\nComments.before.update(function (userId, doc, fieldNames, modifier) {\n  // if body is being modified, update htmlBody too\n  if (Meteor.isServer && modifier.$set && modifier.$set.body) {\n    modifier.$set = modifier.$set || {};\n    modifier.$set.htmlBody = Telescope.utils.sanitize(marked(modifier.$set.body));\n  }\n});\n\n/**\n * Disallow $rename\n */\nComments.before.update(function (userId, doc, fieldNames, modifier) {\n  if (!!modifier.$rename) {\n    throw new Meteor.Error(\"illegal $rename operator detected!\");\n  }\n});\n\n//////////////////////////////////////////////////////\n// Callbacks                                        //\n//////////////////////////////////////////////////////\n\nfunction afterCommentOperations (comment) {\n\n  var userId = comment.userId;\n\n  // increment comment count\n  Meteor.users.update({_id: userId}, {\n    $inc:       {'telescope.commentCount': 1}\n  });\n\n  // update post\n  Posts.update(comment.postId, {\n    $inc:       {commentCount: 1},\n    $set:       {lastCommentedAt: new Date()},\n    $addToSet:  {commenters: userId}\n  });\n\n  return comment;\n}\nTelescope.callbacks.add(\"commentSubmitAsync\", afterCommentOperations);\n\nfunction upvoteOwnComment (comment) {\n\n  var commentAuthor = Meteor.users.findOne(comment.userId);\n\n  // upvote comment\n  Telescope.upvoteItem(Comments, comment, commentAuthor);\n\n  return comment;\n}\nTelescope.callbacks.add(\"commentSubmitAsync\", upvoteOwnComment);","/**\n * Comment views are filters used for subscribing to and viewing comments\n * @namespace Comments.views\n */\nComments.views = {};\n\n/**\n * Add a module to a comment view\n * @param {string} viewName - The name of the view\n * @param {function} [viewFunction] - The function used to calculate query terms. Takes terms and baseParameters arguments\n */\nComments.views.add = function (viewName, viewFunction) {\n  Comments.views[viewName] = viewFunction;\n};\n\n// will be common to all other view unless specific properties are overwritten\nComments.views.baseParameters = {\n  options: {\n    limit: 10\n  }\n};\n\nComments.views.add(\"postComments\", function (terms) {\n  return {\n    find: {postId: terms.postId},\n    options: {limit: 0, sort: {score: -1, postedAt: -1}}\n  };\n});\n\nComments.views.add(\"userComments\", function (terms) {\n  return {\n    find: {userId: terms.userId},\n    options: {sort: {postedAt: -1}}\n  };\n});","Comments.parameters = {};\n\n/**\n * Gives an object containing the appropriate find\n * and options arguments for the subscriptions's Comments.find()\n * @param {Object} terms\n */\nComments.parameters.get = function (terms) {\n\n  // add this to ensure all post publications pass audit-arguments-check\n  check(terms, Match.Any);\n  \n  // console.log(terms)\n\n  // note: using jquery's extend() with \"deep\" parameter set to true instead of shallow _.extend()\n  // see: http://api.jquery.com/jQuery.extend/\n\n  // initialize parameters by extending baseParameters object, to avoid passing it by reference\n  var parameters = Telescope.utils.deepExtend(true, {}, Comments.views.baseParameters);\n\n  // get query parameters according to current view\n  if (typeof Comments.views[terms.view] !== 'undefined')\n    parameters = Telescope.utils.deepExtend(true, parameters, Comments.views[terms.view](terms));\n\n  // iterate over commentsParameters callbacks\n  parameters = Telescope.callbacks.run(\"commentsParameters\", parameters, terms);\n\n  // console.log(parameters);\n\n  return parameters;\n};\n\n// limit the number of items that can be requested at once\nfunction limitComments (parameters, terms) {\n  var maxLimit = 1000;\n  // if a limit was provided with the terms, add it too (note: limit=0 means \"no limit\")\n  if (typeof terms.limit !== 'undefined') {\n    _.extend(parameters.options, {limit: parseInt(terms.limit)});\n  }\n\n  // limit to \"maxLimit\" items at most when limit is undefined, equal to 0, or superior to maxLimit\n  if(!parameters.options.limit || parameters.options.limit === 0 || parameters.options.limit > maxLimit) {\n    parameters.options.limit = maxLimit;\n  }\n  return parameters;\n}\nTelescope.callbacks.add(\"commentsParameters\", limitComments);","//////////////////\n// Link Helpers //\n//////////////////\n\n/**\n * Get URL of a comment page.\n * @param {Object} comment\n */\nComments.getPageUrl = function(comment, isAbsolute){\n  var isAbsolute = typeof isAbsolute === \"undefined\" ? false : isAbsolute; // default to false\n  var prefix = isAbsolute ? Telescope.utils.getSiteUrl().slice(0,-1) : \"\";\n  return prefix + FlowRouter.path(\"commentPage\", comment);\n};\nComments.helpers({getPageUrl: function () {return Comments.getPageUrl(this);}});\n\n///////////////////\n// Other Helpers //\n///////////////////\n\n/**\n * Get a comment author's name\n * @param {Object} comment\n */\nComments.getAuthorName = function (comment) {\n  var user = Meteor.users.findOne(comment.userId);\n  if (user) {\n    return user.getDisplayName();\n  } else {\n    return comment.author;\n  }\n};\nComments.helpers({getAuthorName: function () {return Comments.getAuthorName(this);}});\n","FlowRouter.route('/comments/:_id', {\n  name: \"commentPage\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"comment_controller\", commentTemplate: \"comment_reply\"});\n  }\n});\n\nFlowRouter.route('/comments/:_id/edit', {\n  name: \"commentEdit\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"comment_controller\", commentTemplate: \"comment_edit\"});\n  }\n});","\nTemplate.__checkName(\"comment_edit\");\nTemplate[\"comment_edit\"] = new Template(\"Template.comment_edit\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"comment-edit\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      check: Spacebars.call(\"edit\"),\n      doc: Spacebars.call(view.lookup(\"comment\")),\n      message: Spacebars.call(\"sorry_you_cannot_edit_this_comment\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"checker\"), function() {\n      return [ \"\\n\\n      \", HTML.DIV({\n        \"class\": \"grid grid-module\"\n      }, \"\\n        \", HTML.DIV({\n        \"class\": \"comment-form\"\n      }, \"\\n          \", Blaze._TemplateWith(function() {\n        return {\n          collection: Spacebars.call(\"Comments\"),\n          doc: Spacebars.call(view.lookup(\"comment\")),\n          id: Spacebars.call(\"editCommentForm\"),\n          template: Spacebars.call(\"bootstrap3-horizontal\"),\n          \"label-class\": Spacebars.call(\"control-label\"),\n          \"input-col-class\": Spacebars.call(\"controls\"),\n          type: Spacebars.call(\"method-update\"),\n          meteormethod: Spacebars.call(\"editComment\"),\n          fields: Spacebars.call(view.lookup(\"commentFields\"))\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n      }), \"\\n        \"), \"\\n      \"), \"\\n      \\n      \", HTML.DIV({\n        \"class\": \"grid grid-module\"\n      }, \"\\n        \", HTML.A({\n        \"class\": \"delete-link\",\n        href: \"/\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"delete_comment\");\n      })), \"\\n      \"), \"\\n\\n    \" ];\n    });\n  }), \"\\n  \");\n}));\n","Template.comment_edit.helpers({\n  commentFields: function () {\n    return Comments.simpleSchema().getEditableFields(Meteor.user());\n  }\n});\n\nAutoForm.hooks({\n  editCommentForm: {\n\n    before: {\n      \"method-update\": function() {\n        \n        var comment = this.currentDoc;\n        var modifier = this.updateDoc;\n\n        // ------------------------------ Checks ------------------------------ //\n\n        if (!Meteor.user()) {\n          Messages.flash(i18n.t('you_must_be_logged_in'), \"\");\n          return false;\n        }\n\n        // ------------------------------ Callbacks ------------------------------ //\n\n        // run all post edit client callbacks on modifier object successively\n        modifier = Telescope.callbacks.run(\"commentEditClient\", modifier, comment);\n        return modifier;\n      }\n    },\n\n    onSuccess: function(formType, comment) {\n      // TODO: find out why comment is undefined here\n      comment = this.currentDoc;\n      Events.track(\"edit comment\", {'commentId': comment._id});\n      FlowRouter.go(\"postPage\", {_id: comment.postId});\n    },\n\n    onError: function(formType, error) {\n      console.log(error);\n      Messages.flash(error.reason.split('|')[0], \"error\"); // workaround because error.details returns undefined\n      Messages.clearSeen();\n    }\n\n  }\n});\n\n// delete link\nTemplate.comment_edit.events({\n  'click .delete-link': function(e){\n    var comment = this.comment;\n\n    e.preventDefault();\n\n    if(confirm(\"Are you sure?\")){\n      FlowRouter.go(\"postsDefault\");\n      Meteor.call(\"deleteCommentById\", comment._id, function(error) {\n        if (error) {\n          console.log(error);\n          Messages.flash(error.reason, 'error');\n        } else {\n          Messages.flash(i18n.t('your_comment_has_been_deleted'), 'success');\n        }\n      });\n    }\n  }\n});\n\nTemplate.comment_edit.onRendered(function() {\n  var self = this;\n  this.$(\"textarea\").keydown(function (e) {\n    if(((e.metaKey || e.ctrlKey) && e.keyCode == 13) || (e.ctrlKey && e.keyCode == 13)){\n      self.$('#editCommentForm').submit();\n    }\n  });\n});","\nTemplate.__checkName(\"comment_submit\");\nTemplate[\"comment_submit\"] = new Template(\"Template.comment_submit\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"canComment\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": \"comment-form comment-new module\"\n    }, \"\\n      \", HTML.H4({\n      \"class\": \"comment-new-heading\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"add_comment\");\n    })), \"\\n      \", Blaze._TemplateWith(function() {\n      return {\n        collection: Spacebars.call(\"Comments\"),\n        id: Spacebars.call(\"submitCommentForm\"),\n        template: Spacebars.call(\"bootstrap3-horizontal\"),\n        \"input-col-class\": Spacebars.call(\"controls\"),\n        type: Spacebars.call(\"method\"),\n        meteormethod: Spacebars.call(\"submitComment\"),\n        fields: Spacebars.call(view.lookup(\"commentFields\")),\n        parentContext: Spacebars.call(view.lookup(\".\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n    }), \"\\n    \"), \"\\n  \" ];\n  }, function() {\n    return [ \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isLoggedIn\"));\n    }, function() {\n      return [ \"\\n      \", HTML.P({\n        \"class\": \"cannot-comment-message\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"sorry_you_do_not_have_the_rights_to_comments\");\n      })), \"\\n    \" ];\n    }, function() {\n      return [ \"\\n      \", HTML.P({\n        \"class\": \"cannot-comment-message\"\n      }, HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), Spacebars.kw({\n            route: \"signIn\"\n          }));\n        }\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"please_log_in_to_comment\");\n      }))), \"\\n    \" ];\n    }), \"\\n  \" ];\n  });\n}));\n","Template.comment_submit.helpers({\n  commentFields: function () {\n    return Comments.simpleSchema().getEditableFields(Meteor.user());\n  },\n  isLoggedIn: function () {\n    return !!Meteor.user();\n  }\n});\n\nAutoForm.hooks({\n  submitCommentForm: {\n\n    before: {\n      method: function(doc) {\n\n        var comment = doc;\n\n        this.template.$('button[type=submit]').addClass('loading');\n        this.template.$('input, textarea').not(\":disabled\").addClass(\"disabled\").prop(\"disabled\", true);\n\n        var parent = this.formAttributes.parentContext;\n\n        if (!!parent.comment) { // child comment\n          var parentComment = parent.comment;\n          comment.parentCommentId = parentComment._id;\n          comment.postId = parentComment.postId;\n\n          if(!parentComment.topLevelCommentId) { // root comment\n            comment.topLevelCommentId = parentComment._id;\n          } else { // nested comment\n            comment.topLevelCommentId = parentComment.topLevelCommentId;\n          }\n        } else { // root comment\n          var post = parent;\n          comment.postId = post._id;\n        }\n\n        // ------------------------------ Checks ------------------------------ //\n\n        if (!Meteor.user()) {\n          Messages.flash(i18n.t('you_must_be_logged_in'), 'error');\n          return false;\n        }\n\n        // ------------------------------ Callbacks ------------------------------ //\n\n        // run all comment submit client callbacks on properties object successively\n        comment = Telescope.callbacks.run(\"commentSubmitClient\", comment);\n\n        return comment;\n      }\n    },\n\n    onSuccess: function(operation, comment) {\n      this.template.$('button[type=submit]').removeClass('loading');\n      this.template.$('.disabled').removeClass(\"disabled\").prop(\"disabled\", false);\n      var post = Posts.findOne(comment.postId);\n      Events.track(\"new comment\", {'commentId': comment._id});\n      FlowRouter.go('postPage', {_id: comment.postId, slug: post.slug});\n      if (comment.status === Posts.config.STATUS_PENDING) {\n        Messages.flash(i18n.t('thanks_your_post_is_awaiting_approval'), 'success');\n      }\n    },\n\n    onError: function(operation, error) {\n      this.template.$('button[type=submit]').removeClass('loading');\n      this.template.$('.disabled').removeClass(\"disabled\").prop(\"disabled\", false);\n\n      Messages.flash(error.message.split('|')[0], 'error'); // workaround because error.details returns undefined\n      Messages.clearSeen();\n    }\n\n  }\n});\n\nTemplate.comment_submit.onRendered(function() {\n  var self = this;\n  this.$(\"textarea\").keydown(function (e) {\n    if(((e.metaKey || e.ctrlKey) && e.keyCode == 13) || (e.ctrlKey && e.keyCode == 13)){\n      self.$('#submitCommentForm').submit();\n    }\n  });\n});\n","\nTemplate.__checkName(\"comment_item\");\nTemplate[\"comment_item\"] = new Template(\"Template.comment_item\", (function() {\n  var view = this;\n  return HTML.LI({\n    \"class\": function() {\n      return [ \"comment module comment-displayed \", Spacebars.mustache(view.lookup(\"commentClass\")) ];\n    },\n    id: function() {\n      return Spacebars.mustache(view.lookup(\"_id\"));\n    }\n  }, \"\\n   \", HTML.DIV({\n    \"class\": \"comment-body\"\n  }, \"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isDeleted\"));\n  }, function() {\n    return [ \"\\n        \", HTML.DIV({\n      \"class\": \"comment-deleted\"\n    }, \"This comment has been deleted.\"), \"\\n      \" ];\n  }, function() {\n    return [ \"\\n      \", HTML.DIV({\n      \"class\": \"comment-content\"\n    }, \"\\n        \", HTML.DIV({\n      \"class\": function() {\n        return [ \"comment-actions comment-vote \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"upvoted\"));\n        }, function() {\n          return \"upvoted\";\n        }, function() {\n          return \"not-upvoted\";\n        }), \" \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"downvoted\"));\n        }, function() {\n          return \"downvoted\";\n        }, function() {\n          return \"not-downvoted\";\n        }) ];\n      }\n    }, \"\\n          \", HTML.A({\n      \"class\": \"upvote\",\n      href: \"#\"\n    }, \"\\n            \", Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"upvote\"));\n    }), \"\\n            \", HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"upvote\");\n    })), \"\\n          \"), \"\\n          \", HTML.A({\n      \"class\": \"downvote\",\n      href: \"#\"\n    }, \"\\n            \", Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"downvote\"));\n    }), \"\\n            \", HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"downvote\");\n    })), \"\\n          \"), \"\\n        \"), \"\\n        \", HTML.DIV({\n      \"class\": \"comment-meta\"\n    }, \"\\n          \", HTML.DIV({\n      \"class\": \"user-avatar avatar-medium\",\n      \"aria-hidden\": \"true\",\n      \"aria-live\": \"off\"\n    }, Blaze._TemplateWith(function() {\n      return {\n        userId: Spacebars.call(view.lookup(\"userId\")),\n        shape: Spacebars.call(\"circle\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"avatar\"));\n    })), \"\\n          \", HTML.A({\n      \"class\": \"comment-username\",\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"getProfileUrl\"), view.lookup(\"userId\"));\n      }\n    }, Blaze.View(\"lookup:authorName\", function() {\n      return Spacebars.mustache(view.lookup(\"authorName\"));\n    })), \"\\n          \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"commentPage\", Spacebars.kw({\n          _id: view.lookup(\"_id\")\n        }));\n      },\n      \"class\": \"comment-permalink comment-time\"\n    }, Blaze.View(\"lookup:timeAgo\", function() {\n      return Spacebars.mustache(view.lookup(\"timeAgo\"), view.lookup(\"ago\"));\n    }), \",\"), \"\\n          \", HTML.SPAN({\n      \"class\": \"points\"\n    }, Blaze.View(\"lookup:upvotes\", function() {\n      return Spacebars.mustache(view.lookup(\"upvotes\"));\n    })), \" \", HTML.SPAN({\n      \"class\": \"unit\"\n    }, Blaze.View(\"lookup:pointsUnitDisplayText\", function() {\n      return Spacebars.mustache(view.lookup(\"pointsUnitDisplayText\"));\n    }), \"  \"), \"\\n          \", Blaze.If(function() {\n      return Spacebars.dataMustache(view.lookup(\"canEdit\"), view.lookup(\".\"));\n    }, function() {\n      return [ \"\\n            | \", HTML.A({\n        \"class\": \"edit-link\",\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"commentEdit\", Spacebars.kw({\n            _id: view.lookup(\"_id\")\n          }));\n        }\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"edit\");\n      })), \"\\n          \" ];\n    }), \"\\n          \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"isAdmin\"));\n    }, function() {\n      return [ \"\\n            | \", HTML.SPAN(Blaze.View(\"lookup:full_date\", function() {\n        return Spacebars.mustache(view.lookup(\"full_date\"));\n      })), \"\\n          \" ];\n    }), \"\\n        \"), \"\\n        \", HTML.DIV({\n      \"class\": \"comment-main\"\n    }, \" \\n          \", HTML.DIV({\n      \"class\": \"comment-text markdown\"\n    }, Blaze.View(\"lookup:htmlBody\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"htmlBody\")));\n    })), \"\\n          \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"commentPage\", Spacebars.kw({\n          _id: view.lookup(\"_id\")\n        }));\n      },\n      \"class\": \"comment-reply\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"reply\");\n    })), \"\\n        \"), \"\\n      \"), \"\\n      \" ];\n  }), \"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"showChildComments\"));\n  }, function() {\n    return [ \"\\n        \", HTML.UL({\n      \"class\": function() {\n        return [ \"comment-children comment-list \", Spacebars.mustache(view.lookup(\"commentListClass\")) ];\n      }\n    }, \"\\n        \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"childComments\"));\n    }, function() {\n      return [ \"\\n          \", Spacebars.With(function() {\n        return Spacebars.call(view.lookup(\".\"));\n      }, function() {\n        return [ \"\\n            \", Spacebars.include(view.lookupTemplate(\"comment_item\")), \"\\n          \" ];\n      }), \"\\n        \" ];\n    }), \"\\n        \"), \"\\n      \" ];\n  }), \"\\n    \"), \"\\n  \");\n}));\n","findQueueContainer = function($comment) {\n  // go up and down the DOM until we find either A) a queue container or B) an unqueued comment\n  $up = $comment.prevAll(\".queue-container, .comment-displayed\").first();\n  $down = $comment.nextAll(\".queue-container, .comment-displayed\").first();\n  $prev = $comment.prev();\n  $next = $comment.next();\n  $queuedAncestors = $comment.parents(\".comment-queued\");\n  if ($queuedAncestors.exists()) {\n    // console.log(\"----------- case 1: Queued Ancestor -----------\");\n    // 1.\n    // our comment has one or more queued ancestor, so we look for the root-most\n    // ancestor's queue container\n    $container = $queuedAncestors.last().data(\"queue\");\n  } else if ($prev.hasClass(\"queue-container\")) {\n    // console.log(\"----------- case 2: Queued Brother -----------\");\n    // 2.\n    // the comment just above is queued, so we use the same queue container as him\n    $container = $prev.data(\"queue\");\n  } else if ($prev.find(\".comment\").last().hasClass(\"comment-queued\")) {\n    // console.log(\"----------- case 3: Queued Cousin -----------\");\n    // 3.\n    // there are no queued comments going up on the same level,\n    // but the bottom-most child of the comment directly above is queued\n    $container = $prev.find(\".comment\").last().data(\"queue\");\n  } else if ($down.hasClass(\"queue-container\")) {\n    // console.log(\"----------- case 4: Queued Sister -----------\");\n    // 3.\n    // the comment just below is queued, so we use the same queue container as him\n    $container = $next.data(\"queue\");\n  } else if ($up.hasClass('comment-displayed') || !$up.exists()) {\n    // console.log(\"----------- case 5: No Queue -----------\");\n    // 4.\n    // we've found containers neither above or below, but\n    // A) we've hit a displayed comment or\n    // B) we've haven't found any comments (i.e. we're at the beginning of the list)\n    // so we put our queue container just before the comment\n    $container = $('<div class=\"queue-container\"><ul></ul></div>').insertBefore($comment);\n    $container.click(function(e){\n      e.preventDefault();\n      var links = $(this).find(\"a\");\n      links.each(function(){\n        var target = $(this).attr(\"href\");\n        $(target).removeClass(\"comment-queued\").addClass(\"comment-displayed\");\n        // add comment ID to global array to avoid queuing it again\n        window.openedComments.push(target.substr(1));\n      });\n      // Telescope.utils.scrollPageTo(links.first().attr(\"href\"));\n      $(this).hide(\"slow\").remove();\n    });\n  }\n  // console.log(\"comment\", $comment);\n  // console.log(\"up\", $up);\n  // console.log(\"down\", $down);\n  // console.log(\"queuedAncestors\", $queuedAncestors);\n  // console.log(\"container\", $container);\n  return $container;\n};\n\nTemplate.comment_item.created = function() {\n  // if comments are supposed to be queued, then queue this comment on create\n  this.isQueued = window.queueComments;\n  window.openedComments = [];\n};\n\nTemplate.comment_item.helpers({\n  commentClass: function () {\n    // if this comment was made by the post author\n    if (Posts.findOne(this.postId).userId == this.userId) {\n      return 'author-comment';\n    }\n  },\n  full_date: function(){\n    return this.createdAt.toString();\n  },\n  commentListClass: function () {\n    return !!Comments.find({parentCommentId: this._id}).count() ? \"has-comments\" : \"no-comments\";\n  },\n  childComments: function(){\n    // return only child comments\n    return Comments.find({parentCommentId: this._id});\n  },\n  author: function(){\n    return Meteor.users.findOne(this.userId);\n  },\n  authorName: function(){\n    var user = Meteor.users.findOne(this.userId);\n    return Users.getDisplayName(user);\n  },\n  showChildComments: function(){\n    // TODO: fix this\n    // return Session.get('showChildComments');\n    return true;\n  },\n  ago: function(){\n    return this.createdAt;\n  },\n  upvoted: function(){\n    return Meteor.user() && _.include(this.upvoters, Meteor.user()._id);\n  },\n  downvoted: function(){\n    return Meteor.user() && _.include(this.downvoters, Meteor.user()._id);\n  },\n  pointsUnitDisplayText: function(){\n    return this.upvotes === 1 ? i18n.t('point') : i18n.t('points');\n  }\n});\n\nvar handleVoteClick = function (meteorMethodName, eventName, e, instance) {\n  e.preventDefault();\n  e.stopImmediatePropagation(); // needed to prevent the handler running multiple times in nested comments\n  if (!Meteor.user()){\n    FlowRouter.go(\"atSignIn\");\n    Messages.flash(i18n.t('please_log_in_first'), 'info');\n  } else {\n    Meteor.call(meteorMethodName, this._id, function(error, result){\n      Events.track(eventName, {\n        'commentId': instance.data._id,\n        'postId': instance.data.post,\n        'authorId': instance.data.userId\n      });\n    });\n  }\n};\n\nTemplate.comment_item.events({\n  'click .not-upvoted .upvote': _.partial(handleVoteClick, 'upvoteComment', 'post upvoted'),\n  'click .upvoted .upvote': _.partial(handleVoteClick, 'cancelUpvoteComment', 'post upvote cancelled'),\n  'click .not-downvoted .downvote': _.partial(handleVoteClick, 'downvoteComment', 'post downvoted'),\n  'click .downvoted .downvote': _.partial(handleVoteClick, 'cancelDownvoteComment', 'post downvote cancelled')\n});\n","\nTemplate.__checkName(\"comment_list\");\nTemplate[\"comment_list\"] = new Template(\"Template.comment_list\", (function() {\n  var view = this;\n  return [ HTML.UL({\n    \"class\": function() {\n      return [ \"comments comment-list \", Spacebars.mustache(view.lookup(\"commentListClass\")) ];\n    },\n    \"aria-live\": \"polite\"\n  }, \"\\n    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"childComments\"));\n  }, function() {\n    return [ \"\\n      \", Spacebars.include(view.lookupTemplate(\"comment_item\")), \"\\n    \" ];\n  }), \"\\n  \"), \"\\n  \", Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"commentThreadBottom\"),\n      moduleData: Spacebars.call(view.lookup(\".\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  }) ];\n}));\n","Template.comment_list.helpers({\n  commentListClass: function () {\n    var post = this;\n    var comments = Comments.find({postId: post._id, parentCommentId: null}, {sort: {score: -1, postedAt: -1}});\n    return !!comments.count() ? \"has-comments\" : \"no-comments\";\n  },\n  childComments: function(){\n    var post = this;\n    var comments = Comments.find({postId: post._id, parentCommentId: null}, {sort: {score: -1, postedAt: -1}});\n    return comments;\n  }\n});\n\nTemplate.comment_list.rendered = function(){\n  // once all comments have been rendered, activate comment queuing for future real-time comments\n  window.queueComments = true;\n};\n","\nTemplate.__checkName(\"comment_reply\");\nTemplate[\"comment_reply\"] = new Template(\"Template.comment_reply\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"grid comment-page single-post\"\n  }, \"\\n    \\n    \", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"post\"));\n  }, function() {\n    return [ \"\\n      \", HTML.DIV({\n      \"class\": \"posts posts-list\"\n    }, \"\\n        \", Blaze._TemplateWith(function() {\n      return {\n        post: Spacebars.call(view.lookup(\".\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"post_item\"));\n    }), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n\\n    \", Spacebars.With(function() {\n    return Spacebars.call(view.lookup(\"comment\"));\n  }, function() {\n    return [ \"\\n      \", HTML.UL({\n      \"class\": \"selected-comment\",\n      \"aria-live\": \"polite\"\n    }, \"\\n       \", Spacebars.include(view.lookupTemplate(\"comment_item\")), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"canComment\"));\n  }, function() {\n    return [ \"\\n      \", Spacebars.include(view.lookupTemplate(\"comment_submit\")), \"\\n    \" ];\n  }), \"\\n\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isLoggedIn\"));\n  }, function() {\n    return \"\\n    \";\n  }, function() {\n    return [ \"\\n      \", HTML.P(HTML.A({\n      href: \"/sign-in\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"please_sign_in_to_reply\");\n    }))), \"\\n    \" ];\n  }), \"\\n  \");\n}));\n","Template.comment_reply.helpers({\n  post: function () {\n    if(this.comment){\n      var post = Posts.findOne(this.comment.postId);\n      return post;\n    }\n  }\n});\n","\nTemplate.__checkName(\"comments_list_compact\");\nTemplate[\"comments_list_compact\"] = new Template(\"Template.comments_list_compact\", (function() {\n  var view = this;\n  return HTML.TABLE(\"\\n    \", HTML.THEAD(\"\\n      \", HTML.TR(\"\\n        \", HTML.TD(Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"post\");\n  })), \"\\n        \", HTML.TD(Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"comment\");\n  })), \"\\n        \", HTML.TD(Blaze.View(\"lookup:fieldLabel\", function() {\n    return Spacebars.mustache(view.lookup(\"fieldLabel\"));\n  })), \"\\n      \"), \"\\n    \"), \"\\n    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"commentsCursor\"));\n  }, function() {\n    return [ \"\\n      \", HTML.TR(\"\\n        \", HTML.TD(HTML.A({\n      href: function() {\n        return [ Spacebars.mustache(view.lookup(\"pathFor\"), \"postPage\", Spacebars.kw({\n          _id: view.lookup(\"postId\")\n        })), \"/\" ];\n      }\n    }, Blaze.View(\"lookup:postTitle\", function() {\n      return Spacebars.mustache(view.lookup(\"postTitle\"));\n    }))), \"\\n        \", HTML.TD(Blaze.View(\"lookup:htmlBody\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"htmlBody\")));\n    })), \"\\n        \", HTML.TD(Blaze.View(\"lookup:fieldValue\", function() {\n      return Spacebars.mustache(view.lookup(\"fieldValue\"));\n    })), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasMoreComments\"));\n  }, function() {\n    return [ \"\\n      \", HTML.TR(\"\\n        \", HTML.TD({\n      colspan: \"2\"\n    }, \"\\n          \", HTML.A({\n      \"class\": \"more-button grid-module\",\n      href: \"#\"\n    }, HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"load_more\");\n    }))), \"\\n        \"), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n  \");\n}));\n","Template.comments_list_compact.helpers({\n  commentsCursor: function () {\n    if (this.commentsCursor) { // not sure why this should ever be undefined, but it can apparently\n      var comments = this.commentsCursor.map(function (comment, index) {\n        comment.rank = index;\n        return comment;\n      });\n      return comments;\n    } else {\n      console.log('commentsCursor not defined');\n    }\n  },\n  postTitle: function () {\n    var post = Posts.findOne(this.postId);\n    return !!post && post.title;\n  },\n  fieldLabel: function () {\n    return this.controllerOptions.fieldLabel;\n  },\n  fieldValue: function () {\n    var controllerOptions = Template.parentData(3).data.controllerOptions;\n    return controllerOptions.fieldValue(this);\n  }\n});\n\nTemplate.comments_list_compact.events({\n  'click .more-button': function (event) {\n    event.preventDefault();\n    if (this.controllerInstance) {\n      // controller is a template\n      this.loadMoreHandler(this.controllerInstance);\n    } else {\n      // controller is router\n      this.loadMoreHandler();\n    }\n  }\n});\n","\nTemplate.__checkName(\"commentsListController\");\nTemplate[\"commentsListController\"] = new Template(\"Template.commentsListController\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"template\")),\n      data: Spacebars.call(view.lookup(\"data\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  });\n}));\n","// see https://www.discovermeteor.com/blog/template-level-subscriptions/\n\n/*\n\nThis template acts as the controller that sets and manages the reactive context \nfor the embedded commentsList template. It receives its parameters from a \"caller\" template.\n\n*/\n\nTemplate.commentsListController.onCreated(function () {\n\n  // 1. Initialization (*not* reactive!)\n  var instance = this;\n\n  // initialize the reactive variables\n  instance.terms = new ReactiveVar(instance.data.terms);\n  instance.commentsLimit = new ReactiveVar(Settings.get('commentsPerPage', 5));\n\n  // 2. Autorun\n\n  // Autorun 1: when terms change, reset the limit\n  instance.autorun(function () {\n    // add a dependency on data context to trigger the autorun\n    var terms = Template.currentData().terms; // ⚡ reactive ⚡\n    instance.commentsLimit.set(Settings.get('commentsPerPage', 5));\n  });\n\n  // Autorun 2: will re-run when limit or terms are changed\n  instance.autorun(function () {\n\n    // get terms from data context\n    var terms = Template.currentData().terms; // ⚡ reactive ⚡\n\n    // get limit from local template variable\n    var commentsLimit = instance.commentsLimit.get(); // ⚡ reactive ⚡\n\n    // create new subscriptionTerms object using the new limit\n    var subscriptionTerms = _.extend(_.clone(terms), {limit: commentsLimit}); // extend terms with limit\n\n    // use this new object to subscribe\n    var commentsSubscription = instance.subscribe('commentsList', subscriptionTerms);\n\n    var subscriptionsReady = instance.subscriptionsReady(); // ⚡ reactive ⚡\n\n    // console.log('// ------ autorun running ------ //');\n    // console.log(\"terms: \", terms);\n    // console.log(\"limit: \", commentsLimit);\n    // console.log(\"ready: \", subscriptionsReady);\n    // Tracker.onInvalidate(console.trace.bind(console));\n\n    // if subscriptions are ready, set terms to subscriptionsTerms\n    if (subscriptionsReady) {\n      instance.terms.set(subscriptionTerms);\n    }\n  \n  });\n\n});\n\nTemplate.commentsListController.helpers({\n  template: function () {\n    return !!this.template? this.template: \"comments_list\";\n  },\n  data: function () {\n\n    var context = this;\n\n    var instance = Template.instance();\n\n    var terms = instance.terms.get(); // ⚡ reactive ⚡\n    var commentsReady = instance.subscriptionsReady(); // ⚡ reactive ⚡\n\n    var commentsLimit = terms.limit;\n    var parameters = Comments.parameters.get(terms);\n    var commentsCursor = Comments.find(parameters.find, parameters.options);\n\n    var data = {\n\n      // comments cursor\n      commentsCursor: commentsCursor,\n\n      // comments subscription readiness, used to show spinner\n      commentsReady: commentsReady,\n\n      // whether to show the load more button or not\n      hasMorecomments: commentsCursor.count() >= commentsLimit,\n\n      // what to do when user clicks \"load more\"\n      loadMoreHandler: function (instance) {\n        event.preventDefault();\n\n        // increase limit by 5 and update it\n        var limit = instance.commentsLimit.get();\n        limit += Settings.get('commentsPerPage', 5);\n        instance.commentsLimit.set(limit);\n\n      },\n\n      // the current instance\n      controllerInstance: instance,\n\n      controllerOptions: context.options // pass any options on to the template\n\n    };\n\n    // console.log(data)\n    return data;\n  }\n});","\nTemplate.__checkName(\"comment_controller\");\nTemplate[\"comment_controller\"] = new Template(\"Template.comment_controller\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      ready: Spacebars.call(view.templateInstance().subscriptionsReady())\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"loader\"), function() {\n      return [ \"\\n    \", Blaze._TemplateWith(function() {\n        return {\n          template: Spacebars.call(view.lookup(\"commentTemplate\")),\n          data: Spacebars.call(view.lookup(\"data\"))\n        };\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(Template.__dynamic);\n        });\n      }), \"\\n  \" ];\n    });\n  });\n}));\n","Template.comment_controller.onCreated(function () {\n  \n  var template = this;\n  var commentId = FlowRouter.getParam(\"_id\");\n\n  template.subscribe('singleCommentAndChildren', commentId);\n\n  if (FlowRouter.getRouteName() === \"commentPage\") {\n    template.subscribe('commentUsers', commentId);\n    template.subscribe('commentPost', commentId);\n  }\n\n});\n\nTemplate.comment_controller.helpers({\n  data: function () {\n    return {comment: Comments.findOne(FlowRouter.getParam(\"_id\"))};\n  }\n});","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ar\"] = [\"Arabic\",\"العربية\"];\nTAPi18n._enable({\"helper_name\":\"_\",\"supported_languages\":null,\"i18n_files_route\":\"/tap-i18n\",\"preloaded_langs\":[],\"cdn_path\":null});\nTAPi18n.languages_names[\"en\"] = [\"English\",\"English\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"bg\"] = [\"Bulgarian\",\"Български\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"cs\"] = [\"Czech\",\"čeština‎\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"da\"] = [\"Danish\",\"Dansk\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"de\"] = [\"German\",\"Deutsch\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"el\"] = [\"Greek\",\"Ελληνικά\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"sorry_you_cannot_edit_this_comment\":\"Sorry, you cannot edit this comment.\",\"your_comment_has_been_deleted\":\"Your comment has been deleted.\",\"comment_\":\"Comment\",\"delete_comment\":\"Delete Comment\",\"add_comment\":\"Add Comment\",\"upvote\":\"upvote\",\"downvote\":\"downvote\",\"link\":\"link\",\"edit\":\"Edit\",\"reply\":\"Reply\",\"no_comments\":\"No comments.\",\"please_sign_in_to_reply\":\"Please sign in to reply\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"es\"] = [\"Spanish (Spain)\",\"Español\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"et\"] = [\"Estonian\",\"Eesti\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"fr\"] = [\"French (France)\",\"Français\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"hu\"] = [\"Hungarian\",\"Magyar\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"id\"] = [\"Indonesian\",\"Bahasa Indonesia\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"it\"] = [\"Italian\",\"Italiano\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ja\"] = [\"Japanese\",\"日本語\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"kk\"] = [\"Kazakh\",\"Қазақ тілі\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ko\"] = [\"Korean\",\"한국어\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"nl\"] = [\"Dutch\",\"Nederlands\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pl\"] = [\"Polish\",\"Polski\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pt-BR\"] = [\"Portuguese (Brazil)\",\"Português do Brasil\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ro\"] = [\"Romanian\",\"Română\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ru\"] = [\"Russian\",\"Русский\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"sl\"] = [\"Slovenian\",\"slovenščina\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"sv\"] = [\"Swedish\",\"Svenska\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"th\"] = [\"Thai\",\"ไทย\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"tr\"] = [\"Turkish\",\"Türkçe\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"vi\"] = [\"Vietnamese\",\"Tiếng Việt\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"zh-CN\"] = [\"Chinese (China)\",\"简体中文\"];\n"]}