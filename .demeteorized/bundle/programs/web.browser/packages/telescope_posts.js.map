)]}'
{"version":3,"sources":["meteor://💻app/lib/namespace.js","meteor://💻app/lib/config.js","meteor://💻app/lib/posts.js","meteor://💻app/lib/parameters.js","meteor://💻app/lib/views.js","meteor://💻app/lib/helpers.js","meteor://💻app/lib/modules.js","meteor://💻app/lib/callbacks.js","meteor://💻app/lib/methods.js","meteor://💻app/lib/menus.js","meteor://💻app/lib/routes.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.after_post_item.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.before_post_item.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_actions.js","meteor://💻app/lib/client/templates/modules/post_actions.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_admin.js","meteor://💻app/lib/client/templates/modules/post_admin.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_author.js","meteor://💻app/lib/client/templates/modules/post_author.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_avatars.js","meteor://💻app/lib/client/templates/modules/post_avatars.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_comments_link.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_content.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_discuss.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_domain.js","meteor://💻app/lib/client/templates/modules/post_domain.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_info.js","meteor://💻app/lib/client/templates/modules/post_info.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_rank.js","meteor://💻app/lib/client/templates/modules/post_rank.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_title.js","meteor://💻app/packages/telescope_posts/lib/client/templates/modules/template.post_vote.js","meteor://💻app/lib/client/templates/modules/post_vote.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.post_body.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.post_edit.js","meteor://💻app/lib/client/templates/post_edit.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.post_item.js","meteor://💻app/lib/client/templates/post_item.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.post_page.js","meteor://💻app/lib/client/templates/post_page.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.post_submit.js","meteor://💻app/lib/client/templates/post_submit.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.views_menu.js","meteor://💻app/lib/client/templates/views_menu.js","meteor://💻app/packages/telescope_posts/lib/client/templates/template.main_posts_list.js","meteor://💻app/lib/client/templates/main_posts_list.js","meteor://💻app/packages/telescope_posts/lib/client/templates/posts_list/template.posts_list.js","meteor://💻app/lib/client/templates/posts_list/posts_list.js","meteor://💻app/packages/telescope_posts/lib/client/templates/posts_list/template.posts_list_compact.js","meteor://💻app/lib/client/templates/posts_list/posts_list_compact.js","meteor://💻app/packages/telescope_posts/lib/client/templates/posts_list/template.posts_list_controller.js","meteor://💻app/lib/client/templates/posts_list/posts_list_controller.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/ar.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/bg.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/cs.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/da.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/de.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/el.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/en.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/es.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/et.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/fr.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/hu.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/id.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/it.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/ja.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/kk.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/ko.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/nl.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/pl.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/pt-BR.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/ro.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/ru.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/sl.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/sv.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/th.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/tr.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/vi.i18n.js","meteor://💻app/packages/telescope_posts/packages/telescope_postsi18n/zh-CN.i18n.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,KAAK,GAAG,IAAI,KAAK,CAAC,UAAU,CAAC,OAAO,CAAC,CAAC,qF;;;;;;;;;;;;;;;;;;;;;;ACAtC,KAAK,CAAC,MAAM,GAAG,EAAE,CAAC;;;;;AAMlB,KAAK,CAAC,MAAM,CAAC,YAAY,GAAG,CAC1B;AACE,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,YAAU;AAAC,WAAO,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;GAAC;CAC7C,EACD;AACE,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,YAAU;AAAC,WAAO,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;GAAC;CAC9C,EACD;AACE,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,YAAU;AAAC,WAAO,IAAI,CAAC,CAAC,CAAC,UAAU,CAAC,CAAC;GAAC;CAC9C,EACD;AACE,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,YAAU;AAAC,WAAO,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;GAAC;CAC1C,EACD;AACE,OAAK,EAAE,CAAC;AACR,OAAK,EAAE,YAAU;AAAC,WAAO,IAAI,CAAC,CAAC,CAAC,SAAS,CAAC,CAAC;GAAC;CAC7C,CACF,CAAC;;AAEF,KAAK,CAAC,MAAM,CAAC,cAAc,GAAG,CAAC,CAAC;AAChC,KAAK,CAAC,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC;AACjC,KAAK,CAAC,MAAM,CAAC,eAAe,GAAG,CAAC,CAAC;AACjC,KAAK,CAAC,MAAM,CAAC,WAAW,GAAG,CAAC,CAAC;AAC7B,KAAK,CAAC,MAAM,CAAC,cAAc,GAAG,CAAC,CAAC,4F;;;;;;;;;;;;;;;;;;;;;;ACjChC,KAAK,CAAC,MAAM,GAAG,IAAI,YAAY,CAAC;;;;AAI9B,KAAG,EAAE;AACH,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,IAAI;AACV,YAAQ,EAAE,IAAI;GACf;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,IAAI;AACV,YAAQ,EAAE,IAAI;AACd,cAAU,EAAE,CAAC,OAAO,CAAC;AACrB,YAAQ,EAAE;AACR,WAAK,EAAE,OAAO;AACd,UAAI,EAAE,0BAA0B;KACjC;GACF;;;;AAID,KAAG,EAAE;AACH,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;AACd,OAAG,EAAE,GAAG;AACR,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE;AACR,UAAI,EAAE,eAAe;AACrB,WAAK,EAAE,EAAE;KACV;GACF;;;;AAID,OAAK,EAAE;AACL,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,KAAK;AACf,OAAG,EAAE,GAAG;AACR,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE;AACR,WAAK,EAAE,EAAE;KACV;GACF;;;;AAID,MAAI,EAAE;AACJ,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,MAAI,EAAE;AACJ,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;AACd,OAAG,EAAE,IAAI;AACT,cAAU,EAAE,CAAC,QAAQ,EAAE,OAAO,CAAC;AAC/B,YAAQ,EAAE;AACR,UAAI,EAAE,CAAC;AACP,WAAK,EAAE,EAAE;KACV;GACF;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,cAAY,EAAE;AACZ,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,YAAU,EAAE;AACV,QAAI,EAAE,CAAC,MAAM,CAAC;AACd,YAAQ,EAAE,IAAI;GACf;;;;AAID,iBAAe,EAAE;AACf,QAAI,EAAE,IAAI;AACV,YAAQ,EAAE,IAAI;GACf;;;;AAID,YAAU,EAAE;AACV,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,MAAM;AACZ,WAAO,EAAE,IAAI;AACb,YAAQ,EAAE,IAAI;GACf;;;;AAID,SAAO,EAAE;AACP,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,CAAC,MAAM,CAAC;AACd,YAAQ,EAAE,IAAI;GACf;;;;AAID,WAAS,EAAE;AACT,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,YAAU,EAAE;AACV,QAAI,EAAE,CAAC,MAAM,CAAC;AACd,YAAQ,EAAE,IAAI;GACf;;;;AAID,OAAK,EAAE;AACL,QAAI,EAAE,MAAM;AACZ,WAAO,EAAE,IAAI;AACb,YAAQ,EAAE,IAAI;GACf;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;AACd,cAAU,EAAE,CAAC,OAAO,CAAC;AACrB,aAAS,EAAE,YAAY;;;;AAIrB,UAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC7C,UAAI,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,KAAK,EAC9B,OAAO,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KACvC;AACD,YAAQ,EAAE;AACR,cAAQ,EAAE,IAAI;AACd,aAAO,EAAE,KAAK,CAAC,MAAM,CAAC,YAAY;AAClC,WAAK,EAAE,OAAO;KACf;GACF;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,OAAO;AACb,YAAQ,EAAE,IAAI;AACd,gBAAY,EAAE,KAAK;AACnB,cAAU,EAAE,CAAC,OAAO,CAAC;AACrB,YAAQ,EAAE;AACR,WAAK,EAAE,OAAO;AACd,eAAS,EAAE,QAAQ;KACpB;GACF;;;;AAID,UAAQ,EAAE;AACR,QAAI,EAAE,OAAO;AACb,YAAQ,EAAE,IAAI;GACf;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;GACf;;;;AAID,QAAM,EAAE;AACN,QAAI,EAAE,MAAM;AACZ,YAAQ,EAAE,IAAI;;AAEd,cAAU,EAAE,CAAC,OAAO,CAAC;AACrB,YAAQ,EAAE;AACR,WAAK,EAAE,OAAO;AACd,aAAO,EAAE,YAAY;AACnB,eAAO,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE;AAC7C,iBAAO;AACL,iBAAK,EAAE,IAAI,CAAC,GAAG;AACf,iBAAK,EAAE,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC;WAClC,CAAC;SACH,CAAC,CAAC;OACJ;KACF;GACF;CACF,CAAC,CAAC;;;AAGH,MAAM,CAAC,OAAO,CAAC,YAAU;;AAEvB,OAAK,CAAC,gBAAgB,EAAE,CAAC;CAC1B,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;;AAEjC,KAAK,CAAC,KAAK,CAAC;AACV,QAAM,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,KAAK,CAAC;AAC9C,QAAM,EAAE,CAAC,CAAC,OAAO,CAAC,SAAS,CAAC,UAAU,EAAE,KAAK,CAAC;CAC/C,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;;;;;AClPH,KAAK,CAAC,UAAU,GAAG,EAAE,CAAC;;;;;;;AAOtB,KAAK,CAAC,UAAU,CAAC,GAAG,GAAG,UAAU,KAAK,EAAE;;;AAGtC,OAAK,CAAC,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;;;;;;;;AAQxB,MAAI,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,EAAE,EAAE,KAAK,CAAC,KAAK,CAAC,cAAc,CAAC,CAAC;;;AAGlF,YAAU,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,UAAU,EAAE,KAAK,CAAC,CAAC;;;AAG3E,MAAI,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,EAAE;AACtC,cAAU,CAAC,OAAO,CAAC,IAAI,GAAG,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAC,CAAC;GACnD;;;;AAID,YAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,EAAE,EAAC,OAAO,EAAE,EAAC,IAAI,EAAE,EAAC,GAAG,EAAE,CAAC,CAAC,EAAC,EAAC,EAAC,CAAC,CAAC;;;;AAIxF,SAAO,UAAU,CAAC;CACnB,CAAC;;;;;;AAMF,SAAS,gBAAgB,CAAE,UAAU,EAAE,KAAK,EAAE;;;AAG5C,MAAI,IAAI,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC;;;AAG1E,MAAI,OAAO,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,WAAW,EAC1C,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;;AAEtF,SAAO,UAAU,CAAC;CACnB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,gBAAgB,CAAC,CAAC;;;;AAI7D,SAAS,gBAAgB,CAAE,UAAU,EAAE,KAAK,EAAE;;AAE5C,MAAI,OAAO,UAAU,CAAC,IAAI,CAAC,QAAQ,KAAK,WAAW,EAAE;;AAEnD,QAAI,QAAQ,GAAG,EAAE,CAAC;;AAElB,QAAI,KAAK,CAAC,KAAK,EAAE;AACf,cAAQ,CAAC,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,YAAY,CAAC,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;KAC3E;;AAED,QAAI,KAAK,CAAC,MAAM,EAAE;AAChB,cAAQ,CAAC,GAAG,GAAG,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,MAAM,EAAE,CAAC;KACzE;;AAED,QAAI,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE;AACxB,gBAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;KACrC;GAEF;;AAED,SAAO,UAAU,CAAC;CACnB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,gBAAgB,CAAC,CAAC;;;AAG7D,SAAS,UAAU,CAAE,UAAU,EAAE,KAAK,EAAE;AACtC,MAAI,QAAQ,GAAG,GAAG,CAAC;;AAEnB,MAAI,OAAO,KAAK,CAAC,KAAK,KAAK,WAAW,EAAE;AACtC,KAAC,CAAC,MAAM,CAAC,UAAU,CAAC,OAAO,EAAE,EAAC,KAAK,EAAE,QAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,EAAC,CAAC,CAAC;GAC9D;;;AAGD,MAAG,CAAC,UAAU,CAAC,OAAO,CAAC,KAAK,IAAI,UAAU,CAAC,OAAO,CAAC,KAAK,KAAK,CAAC,IAAI,UAAU,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,EAAE;AACrG,cAAU,CAAC,OAAO,CAAC,KAAK,GAAG,QAAQ,CAAC;GACrC;AACD,SAAO,UAAU,CAAC;CACnB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,UAAU,CAAC,CAAC;;;AAGvD,SAAS,eAAe,CAAE,UAAU,EAAE,KAAK,EAAE;;;AAG3C,MAAI,SAAS,GAAG,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC,MAAM,EAAE,CAAC;;AAEjD,MAAI,CAAC,UAAU,CAAC,UAAU,EAAE;;AAE1B,QAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,EAAE;;AAE9B,UAAI,CAAC,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE;;;AAGlC,YAAI,EAAE,GAAG,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC;AACtC,kBAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,EAAE,GAAG,SAAS,GAAG,EAAE,GAAG,SAAS,CAAC;OAEhE,MAAM;;;AAGN,kBAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,GAAG,SAAS,CAAC;OAEzC;KAEF,MAAM;;;AAGL,gBAAU,CAAC,IAAI,CAAC,QAAQ,GAAG,EAAE,GAAG,EAAE,SAAS,EAAE,CAAC;KAE/C;GAEF;;AAED,SAAO,UAAU,CAAC;CACnB;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,eAAe,CAAC,CAAC,iE;;;;;;;;;;;;;;;;;;;;;;AClI5D,KAAK,CAAC,KAAK,GAAG,EAAE,CAAC;;;;;;;AAOjB,KAAK,CAAC,KAAK,CAAC,GAAG,GAAG,UAAU,QAAQ,EAAE,YAAY,EAAE;AAClD,OAAK,CAAC,KAAK,CAAC,QAAQ,CAAC,GAAG,YAAY,CAAC;CACtC,CAAC;;;;;AAKF,KAAK,CAAC,KAAK,CAAC,cAAc,GAAG;AAC3B,MAAI,EAAE;AACJ,UAAM,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe;GACrC;AACD,SAAO,EAAE;AACP,SAAK,EAAE,EAAE;GACV;CACF,CAAC;;;;;AAKF,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE;AACtC,SAAO;AACL,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,KAAK,EAAE,CAAC,CAAC,EAAC,EAAC;GACzC,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,EAAE,UAAU,KAAK,EAAE;AACtC,SAAO;AACL,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;GAC5C,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,UAAU,KAAK,EAAE;AACvC,SAAO;AACL,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,MAAM,EAAE,CAAC,CAAC,EAAE,SAAS,EAAE,CAAC,CAAC,EAAC,EAAC;GAC7C,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,EAAE,UAAU,KAAK,EAAE;AAC1C,SAAO;AACL,QAAI,EAAE;AACJ,YAAM,EAAE,KAAK,CAAC,MAAM,CAAC,cAAc;KACpC;AACD,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,SAAS,EAAE,CAAC,CAAC,EAAC,EAAC;AAChC,cAAU,EAAE,IAAI;GACjB,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,UAAU,KAAK,EAAE;AAC3C,SAAO;AACL,QAAI,EAAE;AACJ,YAAM,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe;KACrC;AACD,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,SAAS,EAAE,CAAC,CAAC,EAAC,EAAC;AAChC,cAAU,EAAE,IAAI;GACjB,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,KAAK,EAAE;AAC5C,SAAO;AACL,QAAI,EAAE,EAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,IAAI,IAAI,EAAE,EAAC,EAAC;AACpC,WAAO,EAAE,EAAC,IAAI,EAAE,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;AAC/B,cAAU,EAAE,IAAI;GACjB,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE,UAAU,KAAK,EAAE;AAC5C,SAAO;AACL,QAAI,EAAE,EAAC,MAAM,EAAE,KAAK,CAAC,MAAM,EAAC;AAC5B,WAAO,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;GAC1C,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,EAAE,UAAU,KAAK,EAAE;AACnD,MAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC9C,MAAI,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;AAC9D,SAAO;AACL,QAAI,EAAE,EAAC,GAAG,EAAE,EAAC,GAAG,EAAE,QAAQ,EAAC,EAAE,MAAM,EAAE,EAAC,GAAG,EAAE,KAAK,CAAC,MAAM,EAAC,EAAC;AACzD,WAAO,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;GAC1C,CAAC;CACH,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,oBAAoB,EAAE,UAAU,KAAK,EAAE;AACrD,MAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC;AAC9C,MAAI,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,SAAS,CAAC,cAAc,EAAE,QAAQ,CAAC,CAAC;;AAEhE,SAAO;AACL,QAAI,EAAE,EAAC,GAAG,EAAE,EAAC,GAAG,EAAE,QAAQ,EAAC,EAAC;AAC5B,WAAO,EAAE,EAAC,KAAK,EAAE,CAAC,EAAE,IAAI,EAAE,EAAC,QAAQ,EAAE,CAAC,CAAC,EAAC,EAAC;GAC1C,CAAC;CACH,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;;;;;;;;;ACpHH,KAAK,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE,UAAU,EAAE;AAC1C,SAAO,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,SAAS,CAAC,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;CAClG,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,OAAO,EAAE,UAAU,UAAU,EAAE;AAAC,WAAO,KAAK,CAAC,OAAO,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;AAM1F,KAAK,CAAC,gBAAgB,GAAG,UAAU,IAAI,EAAE;AACvC,SAAO,QAAQ,CAAC,GAAG,CAAC,qBAAqB,EAAE,MAAM,CAAC,KAAK,MAAM,GAAG,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;CACpH,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,gBAAgB,EAAE,YAAY;AAAC,WAAO,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;AAMtF,KAAK,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE;AACpC,SAAO,CAAC,CAAC,IAAI,CAAC,GAAG,GAAG,QAAQ,GAAG,EAAE,CAAC;CACnC,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,aAAa,EAAE,YAAY;AAAC,WAAO,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;AAMhF,KAAK,CAAC,UAAU,GAAG,UAAS,IAAI,EAAE,UAAU,EAAC;AAC3C,MAAI,UAAU,GAAG,OAAO,UAAU,KAAK,WAAW,GAAG,KAAK,GAAG,UAAU,CAAC;AACxE,MAAI,MAAM,GAAG,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACxE,SAAO,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;CACnD,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,UAAU,UAAU,EAAE;AAAC,WAAO,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;AAMhG,KAAK,CAAC,UAAU,GAAG,UAAS,IAAI,EAAE,UAAU,EAAC;AAC3C,MAAI,UAAU,GAAG,OAAO,UAAU,KAAK,WAAW,GAAG,KAAK,GAAG,UAAU,CAAC;AACxE,MAAI,MAAM,GAAG,UAAU,GAAG,SAAS,CAAC,KAAK,CAAC,UAAU,EAAE,CAAC,KAAK,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;AACxE,SAAO,MAAM,GAAG,UAAU,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;CACnD,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,UAAU,UAAU,EAAE;AAAC,WAAO,KAAK,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;;;;;AAUhG,KAAK,CAAC,aAAa,GAAG,UAAU,IAAI,EAAE;AACpC,MAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC7C,MAAI,IAAI,EAAE;AACR,WAAO,IAAI,CAAC,cAAc,EAAE,CAAC;GAC9B,MAAM;AACL,WAAO,IAAI,CAAC,MAAM,CAAC;GACpB;CACF,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,aAAa,EAAE,YAAY;AAAC,WAAO,KAAK,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;AAMhF,KAAK,CAAC,gBAAgB,GAAG,UAAU,IAAI,EAAE;AACvC,MAAI,cAAc,GAAG,OAAO,IAAI,KAAK,WAAW,GAAG,KAAK,GAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;AAChF,MAAI,cAAc,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,sBAAsB,EAAE,KAAK,CAAC,EAAE;;AAElE,WAAO,KAAK,CAAC,MAAM,CAAC,eAAe;GACpC,MAAM;;AAEL,WAAO,KAAK,CAAC,MAAM,CAAC,cAAc;GACnC;CACF,CAAC;;;;;;AAMF,KAAK,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE;AACjC,SAAO,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC;CACrD,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,UAAU,EAAE,YAAY;AAAC,WAAO,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC;;;;;;;AAO1E,KAAK,CAAC,eAAe,GAAG,UAAU,GAAG,EAAE;;;AAGrC,MAAI,YAAY,GAAG,MAAM,EAAE,CAAC,QAAQ,CAAC,CAAC,EAAE,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAC3D,MAAI,gBAAgB,GAAG,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAE,GAAG,EAAE,QAAQ,EAAE,EAAC,IAAI,EAAE,YAAY,EAAC,EAAC,CAAC,CAAC;;AAEjF,MAAI,OAAO,gBAAgB,KAAK,WAAW,EAAE;AAC3C,UAAM,IAAI,MAAM,CAAC,KAAK,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC,CAAC,mCAAmC,CAAC,EAAE,gBAAgB,CAAC,GAAG,CAAC,CAAC;GAClG;CACF,CAAC;;;;;AAKF,KAAK,CAAC,OAAO,GAAG,YAAY;AAC1B,SAAO,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;CAClD,CAAC;;;;;;AAMF,KAAK,CAAC,OAAO,GAAG,UAAU,IAAI,EAAE;AAC9B,SAAO,IAAI,CAAC,KAAK,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,KAAK,OAAO,CAAC;CAClD,CAAC;AACF,KAAK,CAAC,OAAO,CAAC,EAAC,OAAO,EAAE,YAAY;AAAC,WAAO,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GAAC,EAAC,CAAC,CAAC,kH;;;;;;;;;;;;;;;;;;AC7HpE,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,cAAc,EAAE;AACpC,UAAQ,EAAE,YAAY;AACtB,OAAK,EAAE,CAAC;CACT,CAAC,CAAC;;AAEH,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,gBAAgB,EAAE,CACtC;AACE,UAAQ,EAAE,WAAW;AACrB,OAAK,EAAE,CAAC;CACT,EACD;AACE,UAAQ,EAAE,WAAW;AACrB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,cAAc;AACxB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,cAAc;AACxB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,cAAc;AACxB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,cAAc;AACxB,OAAK,EAAE,EAAE;CACV,CACF,CAAC,CAAC;;AAEH,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,aAAa,EAAE,CACnC;AACE,UAAQ,EAAE,YAAY;AACtB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,aAAa;AACvB,OAAK,EAAE,EAAE;CACV,CACF,CAAC,CAAC;;AAEH,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,EAAE,CAChC;AACE,UAAQ,EAAE,aAAa;AACvB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,WAAW;AACrB,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,oBAAoB;AAC9B,OAAK,EAAE,EAAE;CACV,EACD;AACE,UAAQ,EAAE,YAAY;AACtB,OAAK,EAAE,EAAE;CACV,CACF,CAAC,CAAC,qH;;;;;;;;;;;;;;;;;;;;;;;;;;ACpDH,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE;AACzC,MAAG,CAAC,CAAC,GAAG,CAAC,IAAI,EACX,GAAG,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;CAC7D,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE;;AAE/D,MAAI,MAAM,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,IAAI,EAAE;AAC1D,YAAQ,CAAC,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,KAAK,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;GAC/E;AACD,MAAI,MAAM,CAAC,QAAQ,IAAI,QAAQ,CAAC,MAAM,IAAK,OAAO,QAAQ,CAAC,MAAM,CAAC,IAAI,KAAK,WAAY,EAAE;AACvF,YAAQ,CAAC,MAAM,CAAC,QAAQ,GAAG,EAAE,CAAC;GAC/B;CACF,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE;;AAE/D,MAAI,MAAM,CAAC,QAAQ,IAAI,QAAQ,CAAC,IAAI,IAAI,QAAQ,CAAC,IAAI,CAAC,KAAK,EAAE;AAC3D,YAAQ,CAAC,IAAI,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;GACnE;CACF,CAAC,CAAC;;;;;AAKH,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,MAAM,EAAE,GAAG,EAAE,UAAU,EAAE,QAAQ,EAAE;AAC/D,MAAI,CAAC,CAAC,QAAQ,CAAC,OAAO,EAAE;AACtB,UAAM,IAAI,MAAM,CAAC,KAAK,CAAC,oCAAoC,CAAC,CAAC;GAC9D;CACF,CAAC,CAAC;;;;;;;;;AASH,SAAS,yBAAyB,CAAE,IAAI,EAAE;AACxC,MAAI,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC;AACzB,QAAM,CAAC,KAAK,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,MAAM,EAAC,EAAE,EAAC,IAAI,EAAE,EAAC,qBAAqB,EAAE,CAAC,EAAC,EAAC,CAAC,CAAC;AACvE,SAAO,IAAI,CAAC;CACb;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,yBAAyB,CAAC,CAAC;;AAEtE,SAAS,aAAa,CAAE,IAAI,EAAE;AAC5B,MAAI,UAAU,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AACnD,WAAS,CAAC,UAAU,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;AAClD,SAAO,IAAI,CAAC;CACb;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,iBAAiB,EAAE,aAAa,CAAC,CAAC;;AAE1D,SAAS,WAAW,CAAE,IAAI,EAAE;AAC1B,MAAI,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AACvC,SAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,EAAC,QAAQ,EAAE,IAAI,IAAI,EAAE,EAAC,EAAC,CAAC,CAAC;GACxD;CACF;AACD,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,eAAe,EAAE,WAAW,CAAC,CAAC,sE;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3DtD,KAAK,CAAC,MAAM,GAAG,UAAU,IAAI,EAAE;;AAE7B,MAAI,MAAM,GAAG,IAAI,CAAC,MAAM;;AACpB,MAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;;;;AAKjC,MAAG,CAAC,IAAI,CAAC,KAAK,EACZ,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC;;;AAGhE,MAAG,CAAC,CAAC,IAAI,CAAC,GAAG,EACX,KAAK,CAAC,eAAe,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;;;AAIxC,MAAI,iBAAiB,GAAG;AACtB,aAAS,EAAE,IAAI,IAAI,EAAE;AACrB,UAAM,EAAE,KAAK,CAAC,kBAAkB,CAAC,MAAM,CAAC;AACxC,WAAO,EAAE,CAAC;AACV,aAAS,EAAE,CAAC;AACZ,gBAAY,EAAE,CAAC;AACf,cAAU,EAAE,CAAC;AACb,aAAS,EAAE,CAAC;AACZ,aAAS,EAAE,CAAC;AACZ,SAAK,EAAE,CAAC;AACR,YAAQ,EAAE,KAAK;AACf,UAAM,EAAE,KAAK;AACb,UAAM,EAAE,KAAK,CAAC,gBAAgB,EAAE;GACjC,CAAC;;AAEF,MAAI,GAAG,CAAC,CAAC,MAAM,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;;;;AAIzC,MAAI,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,IAAI,CAAC,QAAQ,EAChE,IAAI,CAAC,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;;;AAG7B,MAAI,CAAC,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;;AAGjD,MAAI,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;;;;AAKhD,MAAI,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,YAAY,EAAE,IAAI,CAAC,CAAC;;;;AAInD,MAAI,CAAC,GAAG,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;;;;;AAK9B,WAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,EAAE,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC;;AAEzE,SAAO,IAAI,CAAC;CACb,CAAC;;;;;;;;AAQF,KAAK,CAAC,IAAI,GAAG,UAAU,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE;;AAE7C,MAAI,OAAO,IAAI,KAAK,WAAW,EAAE;AAC/B,QAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;GAC9B;;;;AAID,UAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,UAAU,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;;;;AAI/D,OAAK,CAAC,MAAM,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;;;;AAI/B,WAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,eAAe,EAAE,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,EAAE,IAAI,CAAC,CAAC;;;AAG3E,SAAO,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;CAC9B,CAAC;;;;;;AAMF,IAAI,SAAS,GAAG,EAAE,CAAC;;AAEnB,MAAM,CAAC,OAAO,CAAC;;;;;;;AAOb,YAAU,EAAE,UAAS,IAAI,EAAC;;AAExB,SAAK,CAAC,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;;;;;;;;;;;;AAYlC,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE;QACpB,cAAc,GAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC;QACrC,MAAM,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;;;;;AAK1C,QAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,EAChC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,qDAAqD,CAAC,CAAC,CAAC;;;;AAI7F,QAAG,CAAC,cAAc,EAAC;;AAEjB,UAAI,iBAAiB,GAAG,KAAK,CAAC,aAAa,CAAC,IAAI,EAAE,KAAK,CAAC;UACtD,0BAA0B,GAAG,KAAK,CAAC,0BAA0B,CAAC,IAAI,EAAE,KAAK,CAAC;UAC1E,YAAY,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,CAAC;UACnE,kBAAkB,GAAG,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;;;AAG9E,UAAG,iBAAiB,GAAG,YAAY,EACjC,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,aAAa,CAAC,IAAE,YAAY,GAAC,iBAAiB,CAAC,GAAC,IAAI,CAAC,CAAC,CAAC,8BAA8B,CAAC,CAAC,CAAC;;;AAG7H,UAAG,0BAA0B,GAAG,kBAAkB,EAChD,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,mCAAmC,CAAC,GAAC,kBAAkB,GAAC,IAAI,CAAC,CAAC,CAAC,eAAe,CAAC,CAAC,CAAC;KAEvH;;;;;;;;;;;AAWD,KAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;;AAExC,UAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9B,UAAI,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,EAAE,KAAK,CAAC,EAAE;AACvC,cAAM,IAAI,MAAM,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,CAAC,8BAA8B,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;OAC1G;KAEF,CAAC,CAAC;;;AAGH,QAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,UAAI,CAAC,MAAM,GAAG,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;KAC5C;;;AAGD,QAAI,CAAC,IAAI,CAAC,MAAM,EAAE;AAChB,UAAI,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC;KACxB;;AAED,WAAO,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;GAC3B;;;;;;;;AAQD,UAAQ,EAAE,UAAU,QAAQ,EAAE,MAAM,EAAE;;;AAGpC,SAAK,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,CAAC,EAAC,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,EAAC,EAAE,EAAC,MAAM,EAAE,MAAM,EAAC,EAAE,EAAC,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC,CAAC;AAC3H,SAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;;AAEtB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE;QACpB,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC;QAC5B,MAAM,GAAG,KAAK,CAAC,YAAY,EAAE,CAAC,OAAO,CAAC;;;;;AAK1C,QAAI,CAAC,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AACxC,YAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC,iCAAiC,CAAC,CAAC,CAAC;KACxE;;;;AAID,KAAC,CAAC,IAAI,CAAC,QAAQ,EAAE,UAAU,SAAS,EAAE;;AAEpC,OAAC,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,OAAO,CAAC,UAAU,SAAS,EAAE;;AAE7C,YAAI,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;AAC9B,YAAI,CAAC,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,EAAE,KAAK,EAAE,IAAI,CAAC,EAAE;AAC3C,gBAAM,IAAI,MAAM,CAAC,KAAK,CAAC,qBAAqB,EAAE,IAAI,CAAC,CAAC,CAAC,8BAA8B,CAAC,GAAG,IAAI,GAAG,SAAS,CAAC,CAAC;SAC1G;OAEF,CAAC,CAAC;KACJ,CAAC,CAAC;;AAEH,WAAO,KAAK,CAAC,IAAI,CAAC,MAAM,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;GAE3C;;AAED,aAAW,EAAE,UAAS,IAAI,EAAE,cAAc,EAAC;;;;AAIzC,SAAK,CAAC,IAAI,EAAE,KAAK,CAAC,YAAY,EAAE,CAAC,CAAC;AAClC,SAAK,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;;AAE5B,QAAI,QAAQ,GAAG,IAAI,IAAI,EAAE,CAAC;;AAE1B,QAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAI,OAAO,cAAc,KAAK,WAAW;AACvE,cAAQ,GAAG,cAAc,CAAC;;AAE5B,SAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,EAAC,QAAQ,EAAE,QAAQ,EAAC,EAAC,CAAC,CAAC;GACtD;;AAED,aAAW,EAAE,UAAS,MAAM,EAAC;;AAE3B,SAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;;AAEtB,QAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;AACjC,QAAI,GAAG,GAAG,IAAI,IAAI,EAAE,CAAC;;AAErB,QAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,EAAC;;AAE/B,UAAI,GAAG,GAAG,EAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe,EAAC,CAAC;;AAEjD,UAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;AAClB,WAAG,CAAC,QAAQ,GAAG,GAAG,CAAC;OACpB;;AAED,WAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,GAAG,EAAC,CAAC,CAAC;;AAEpC,eAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;KAExD,MAAI;AACH,cAAQ,CAAC,KAAK,CAAC,qCAAqC,EAAE,OAAO,CAAC,CAAC;KAChE;GACF;;AAED,YAAU,EAAE,UAAS,MAAM,EAAC;;AAE1B,SAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AACtB,QAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC;;AAEjC,QAAG,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,EAAC;;AAE/B,WAAK,CAAC,MAAM,CAAC,IAAI,CAAC,GAAG,EAAE,EAAC,IAAI,EAAE,EAAC,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,eAAe,EAAC,EAAC,CAAC,CAAC;;AAEvE,eAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;KAEvD,MAAI;AACH,cAAQ,CAAC,KAAK,CAAC,qCAAqC,EAAE,OAAO,CAAC,CAAC;KAChE;GACF;;AAED,mBAAiB,EAAE,UAAS,MAAM,EAAE,SAAS,EAAC;;AAE5C,SAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;AACtB,SAAK,CAAC,SAAS,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC;;AAE5B,QAAI,CAAC,OAAO,EAAE,CAAC;;;AAGf,QAAI,IAAI,GAAG,EAAC,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,EAAE,SAAS,EAAE,SAAS,EAAC,CAAC;;AAEpE,QAAG,CAAC,CAAC,KAAK,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,MAAM,KAAK,CAAC,EAAC;AACvC,eAAS,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;AACrB,WAAK,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,EAAE,EAAE,SAAS,EAAE,CAAC,EAAE,EAAC,CAAC,CAAC;KACjD;GACF;;AAED,gBAAc,EAAE,UAAS,MAAM,EAAE;;AAE/B,SAAK,CAAC,MAAM,EAAE,MAAM,CAAC,CAAC;;;;;;;;AAQtB,QAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,EAAC,GAAG,EAAE,MAAM,EAAC,CAAC,CAAC;;AAExC,QAAG,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,EAAE,IAAI,CAAC,EAAE,MAAM,IAAI,MAAM,CAAC,KAAK,CAAC,GAAG,EAAE,8CAA8C,CAAC,CAAC;;;AAG/I,SAAK,CAAC,MAAM,CAAC,EAAC,GAAG,EAAE,IAAI,CAAC,MAAM,EAAC,EAAE,EAAC,IAAI,EAAE,EAAC,qBAAqB,EAAE,CAAC,CAAC,EAAC,EAAC,CAAC,CAAC;;;AAGtE,SAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;;AAErB,aAAS,CAAC,SAAS,CAAC,QAAQ,CAAC,iBAAiB,EAAE,IAAI,CAAC,CAAC;GAEvD;;AAED,oBAAkB,EAAE,UAAU,GAAG,EAAE;AACjC,SAAK,CAAC,eAAe,CAAC,GAAG,CAAC,CAAC;GAC5B;;CAEF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzUH,KAAK,CAAC,QAAQ,GAAG,YAAY;AAC3B,YAAU,CAAC,eAAe,EAAE;AAC5B,MAAI,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC;AACzB,MAAI,YAAY,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,WAAW,CAAC,CAAC;AAC7D,MAAI,WAAW,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACrD,MAAI,QAAQ,CAAC;;AAEb,MAAI,QAAQ,KAAK,WAAW,EAAE;;AAE5B,WAAO,YAAY,CAAC,IAAI,CAAC;AACzB,YAAQ,GAAG,YAAY,CAAC;GACzB,MAAM;AACL,YAAQ,GAAG,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,EAAC,IAAI,EAAE,QAAQ,EAAC,CAAC,CAAC;GACrD;;AAED,SAAO,UAAU,CAAC,IAAI,CAAC,cAAc,EAAE,UAAU,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;CAC/E,CAAC;;;AAGF,IAAI,cAAc,GAAG,CACnB;AACE,OAAK,EAAE,KAAK,CAAC,QAAQ;AACrB,MAAI,EAAE,KAAK;AACX,OAAK,EAAE,KAAK;AACZ,aAAW,EAAE,oBAAoB;CAClC,EACD;AACE,OAAK,EAAE,KAAK,CAAC,QAAQ;AACrB,MAAI,EAAE,KAAK;AACX,OAAK,EAAE,KAAK;AACZ,aAAW,EAAE,cAAc;CAC5B,EACD;AACE,OAAK,EAAE,KAAK,CAAC,QAAQ;AACrB,MAAI,EAAE,MAAM;AACZ,OAAK,EAAE,MAAM;AACb,aAAW,EAAE,2BAA2B;CACzC,EACD;AACE,OAAK,EAAE,KAAK,CAAC,QAAQ;AACrB,MAAI,EAAE,SAAS;AACf,OAAK,EAAE,SAAS;AAChB,aAAW,EAAE,2BAA2B;AACxC,WAAS,EAAE,IAAI;CAChB,EACD;AACE,OAAK,EAAE,KAAK,CAAC,QAAQ;AACrB,MAAI,EAAE,UAAU;AAChB,OAAK,EAAE,UAAU;AACjB,aAAW,EAAE,gBAAgB;AAC7B,WAAS,EAAE,IAAI;CAChB,EACD;AACE,OAAK,EAAE,KAAK,CAAC,QAAQ;AACrB,MAAI,EAAE,WAAW;AACjB,OAAK,EAAE,WAAW;AAClB,aAAW,EAAE,wBAAwB;AACrC,WAAS,EAAE,IAAI;CAChB,CACF,CAAC;;AAEF,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,EAAE,cAAc,CAAC,CAAC,uE;;;;;;;;;;;;;;;;;;AC7DrD,UAAU,CAAC,KAAK,CAAC,GAAG,EAAE;AACpB,MAAI,EAAE,cAAc;AACpB,QAAM,EAAE,UAAS,MAAM,EAAE,WAAW,EAAE;AACpC,eAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,iBAAiB,EAAC,CAAC,CAAC;GACzD;CACF,CAAC,CAAC;;AAEH,UAAU,CAAC,KAAK,CAAC,kBAAkB,EAAE;AACnC,MAAI,EAAE,UAAU;AAChB,QAAM,EAAE,UAAS,MAAM,EAAE,WAAW,EAAE;AACpC,eAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;GACnD;CACF,CAAC,CAAC;;AAEH,UAAU,CAAC,KAAK,CAAC,oBAAoB,EAAE;AACrC,MAAI,EAAE,UAAU;AAChB,QAAM,EAAE,UAAS,MAAM,EAAE,WAAW,EAAE;AACpC,eAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;GACnD;CACF,CAAC,CAAC;;AAEH,IAAI,eAAe,GAAG,UAAU,OAAO,EAAE;AACvC,MAAI,SAAS,GAAG,MAAM,CAAC,kBAAkB,IAAI,MAAM,CAAC,kBAAkB,CAAC,cAAc,GAAG,MAAM,CAAC,kBAAkB,CAAC,cAAc,GAAG,IAAI,CAAC;AACxI,QAAM,CAAC,IAAI,CAAC,mBAAmB,EAAE,OAAO,CAAC,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;CACjE;;AAED,UAAU,CAAC,KAAK,CAAC,SAAS,EAAE;AAC1B,MAAI,EAAE,YAAY;AAClB,QAAM,EAAE,UAAS,MAAM,EAAE,WAAW,EAAE;AACpC,eAAW,CAAC,MAAM,CAAC,QAAQ,EAAE,EAAC,IAAI,EAAE,aAAa,EAAC,CAAC,CAAC;GACrD;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AC/BH;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACfA,QAAQ,CAAC,YAAY,CAAC,MAAM,CAAC;AAC3B,8BAA4B,EAAE,UAAS,CAAC,EAAC;AACvC,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAI,KAAK,GAAG,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;AACzC,QAAI,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC;AACvB,QAAI,KAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,EAAE;AAClC,WAAK,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;AACrB,WAAK,CAAC,WAAW,CAAC,cAAc,CAAC,CAAC;KACnC,MAAM;AACL,WAAK,CAAC,MAAM,CAAC,CAAC,GAAC,IAAI,CAAC,CAAC;AACrB,WAAK,CAAC,QAAQ,CAAC,cAAc,CAAC,CAAC;KAChC;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACbH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6H;;;;;;;;;;;;;;;;;;ACvJA,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC;AAC1B,aAAW,EAAE,YAAY;AACvB,WAAO,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,sBAAsB,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,cAAc,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;GAChJ;AACD,YAAU,EAAE,YAAU;AACpB,WAAO,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,sBAAsB,CAAC,KAAK,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,cAAc,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;GAChJ;AACD,YAAU,EAAE,YAAU;AACpB,WAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,KAAK,GAAC,GAAG,CAAC,GAAC,GAAG,CAAC;GACvC;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,UAAU,CAAC,MAAM,CAAC;AACzB,uBAAqB,EAAE,UAAS,CAAC,EAAC;AAChC,UAAM,CAAC,IAAI,CAAC,aAAa,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AACrC,KAAC,CAAC,cAAc,EAAE,CAAC;GACpB;AACD,sBAAoB,EAAE,UAAS,CAAC,EAAC;AAC/B,UAAM,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;AACpC,KAAC,CAAC,cAAc,EAAE,CAAC;GACpB;AACD,sBAAoB,EAAE,UAAS,CAAC,EAAC;AAC/B,QAAI,IAAI,GAAG,IAAI,CAAC;;AAEhB,KAAC,CAAC,cAAc,EAAE,CAAC;;AAEnB,QAAG,OAAO,CAAC,UAAU,GAAC,IAAI,CAAC,KAAK,GAAC,IAAI,CAAC,EAAC;AACrC,gBAAU,CAAC,EAAE,CAAC,cAAc,CAAC,CAAC;AAC9B,YAAM,CAAC,IAAI,CAAC,gBAAgB,EAAE,IAAI,CAAC,GAAG,EAAE,UAAS,KAAK,EAAE;AACtD,YAAI,KAAK,EAAE;AACT,iBAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,kBAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;SACvC,MAAM;AACL,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,4BAA4B,CAAC,EAAE,SAAS,CAAC,CAAC;SACjE;OACF,CAAC,CAAC;KACJ;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACtCH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACjBA,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;AAC3B,aAAW,EAAE,YAAY;AACvB,QAAI,IAAI,GAAG,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;AAC7C,QAAI,IAAI,EAAE;AACR,aAAO,KAAK,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC;KACnC,MAAM;AACL,aAAO,IAAI,CAAC,MAAM,CAAC;KACpB;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACTH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACpDA,QAAQ,CAAC,YAAY,CAAC,OAAO,CAAC;AAC5B,YAAU,EAAE,YAAY;;;;AAItB,WAAO,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,OAAO,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;GAC5D;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACPH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AChBA,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;AAC3B,QAAM,EAAE,YAAU;AAChB,QAAI,CAAC,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;AACpC,KAAC,CAAC,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC;AAClB,WAAO,CAAC,CAAC,QAAQ,CAAC;GACnB;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACNH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AC3BA,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AACzB,uBAAqB,EAAE,YAAU;AAC/B,WAAO,IAAI,CAAC,OAAO,KAAK,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;GAChE;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACJH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACfA,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AACzB,cAAY,EAAE,YAAU;AACtB,QAAI,OAAO,IAAI,CAAC,IAAI,KAAK,WAAW,EAAE;AACpC,aAAO,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;KACtB;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACNH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AC1CA,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AACzB,iBAAe,EAAE,YAAY;AAC3B,WAAO,QAAQ,CAAC,GAAG,CAAC,iBAAiB,EAAE,KAAK,CAAC,CAAC;GAC/C;AACD,cAAY,EAAE,YAAY;AACxB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;AACzB,QAAI,YAAY,GAAG,EAAE,CAAC;AACtB,QAAG,CAAC,IAAI,EAAE,OAAO,KAAK,CAAC;AACvB,QAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;AACzB,kBAAY,IAAI,gBAAgB,CAAC;KAClC;AACD,QAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;AAC3B,kBAAY,IAAI,kBAAkB,CAAC;KACpC;AACD,QAAI,QAAQ,CAAC,GAAG,CAAC,iBAAiB,EAAE,KAAK,CAAC,EAAE;AAC1C,kBAAY,IAAI,oBAAoB,CAAC;KACtC;AACD,WAAO,YAAY,CAAC;GACrB;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,SAAS,CAAC,MAAM,CAAC;AACxB,sBAAoB,EAAE,UAAS,CAAC,EAAC;AAC/B,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;AACzB,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAG,CAAC,IAAI,EAAC;AACP,gBAAU,CAAC,EAAE,CAAC,QAAQ,CAAC,CAAC;AACxB,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,qBAAqB,CAAC,EAAE,MAAM,CAAC,CAAC;KACvD,MAAM,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE;AAChC,YAAM,CAAC,IAAI,CAAC,kBAAkB,EAAE,IAAI,CAAC,GAAG,EAAE,YAAU;AAClD,cAAM,CAAC,KAAK,CAAC,uBAAuB,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;OAC1D,CAAC,CAAC;KACJ,MAAM;AACL,YAAM,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,EAAE,YAAU;AAC5C,cAAM,CAAC,KAAK,CAAC,cAAc,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;OACjD,CAAC,CAAC;KACJ;GACF;AACD,wBAAsB,EAAE,UAAS,CAAC,EAAC;AACjC,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;AACzB,KAAC,CAAC,cAAc,EAAE,CAAC;AACnB,QAAG,CAAC,IAAI,EAAC;AACP,gBAAU,CAAC,EAAE,CAAC,UAAU,CAAC,CAAC;AAC1B,cAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,qBAAqB,CAAC,EAAE,MAAM,CAAC,CAAC;KACvD;AACD,QAAI,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;AAC3B,YAAM,CAAC,IAAI,CAAC,oBAAoB,EAAE,IAAI,CAAC,GAAG,EAAE,YAAU;AACpD,cAAM,CAAC,KAAK,CAAC,yBAAyB,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;OAC5D,CAAC,CAAC;KACJ,MAAM;AACL,YAAM,CAAC,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,GAAG,EAAE,YAAU;AAC9C,cAAM,CAAC,KAAK,CAAC,gBAAgB,EAAE,EAAC,KAAK,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;OACnD,CAAC,CAAC;KACJ;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACzDH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACxCA,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY;;AAEvC,MAAI,QAAQ,GAAG,IAAI,CAAC;;;AAGpB,UAAQ,CAAC,KAAK,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;;AAExC,MAAI,gBAAgB,GAAG,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,EAAE,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;;;AAGjG,UAAQ,CAAC,OAAO,CAAC,YAAY;;AAE3B,QAAI,kBAAkB,GAAG,gBAAgB,CAAC,KAAK,EAAE,CAAC;;;AAGlD,QAAI,kBAAkB,EAAE;AACtB,cAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KAC1B;GACF,CAAC,CAAC;CAEJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AACzB,OAAK,EAAE,YAAY;AACjB,WAAO,QAAQ,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;GACxC;AACD,MAAI,EAAE,YAAY;AAChB,WAAO,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;GAClD;AACD,YAAU,EAAE,YAAY;AACtB,WAAO,KAAK,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;GAC9D;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,KAAK,CAAC;AACb,cAAY,EAAE;;AAEZ,UAAM,EAAE;AACN,qBAAe,EAAE,YAAW;;AAE1B,YAAI,IAAI,GAAG,IAAI,CAAC,UAAU,CAAC;AAC3B,YAAI,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC;;;;AAI9B,YAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE;AAClB,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,EAAE,CAAC,CAAC;AACpD,iBAAO,KAAK,CAAC;SACd;;;;AAID,gBAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,gBAAgB,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;AACrE,eAAO,QAAQ,CAAC;OACjB;KACF;;AAED,aAAS,EAAE,UAAS,QAAQ,EAAE,IAAI,EAAE;AAClC,YAAM,CAAC,KAAK,CAAC,WAAW,EAAE,EAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;AAChD,gBAAU,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;KACjC;;AAED,WAAO,EAAE,UAAS,QAAQ,EAAE,KAAK,EAAE;AACjC,aAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AACnB,cAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AACpD,cAAQ,CAAC,SAAS,EAAE,CAAC;KACtB;;GAEF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACrEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;AChBA,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AACzB,WAAS,EAAE,YAAY;AACrB,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,SAAS,GAAG,OAAO,CAAC;;AAExB,aAAS,IAAI,SAAS,GAAC,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAC,GAAG,CAAC;;AAEhE,QAAI,IAAI,CAAC,MAAM,EAAE;AACf,eAAS,IAAI,SAAS,CAAC;KACxB;AACD,aAAS,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;AAClE,WAAO,SAAS,CAAC;GAClB;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACbH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACtDA,IAAI,UAAU,GAAG,UAAU,IAAI,EAAE;;AAE/B,MAAI,IAAI,GAAG,EAAC,GAAG,EAAE,WAAW,EAAE,IAAI,EAAE,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAC,CAAC;AAC3D,SAAO,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;;;;AAItB,MAAI,aAAa,GAAG,EAAC,IAAI,EAAE,EAAE,EAAC,CAAC;;;AAG/B,SAAO,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,cAAc,EAAE,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,OAAO,CAAC,EAAC,CAAC,CAAC;;;AAG5E,WAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;;;AAGnC,MAAI,CAAC,CAAC,IAAI,CAAC,IAAI,EAAE;AACf,QAAI,WAAW,GAAG,SAAS,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,EAAE,GAAG,CAAC,CAAC;AAC5D,aAAS,CAAC,GAAG,CAAC,cAAc,CAAC,WAAW,CAAC,CAAC;GAC3C;;;AAGD,MAAI,CAAC,CAAC,IAAI,CAAC,YAAY,EAAE;AACvB,QAAI,KAAK,GAAG,SAAS,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;AACvD,WAAO,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,cAAc,EAAE,OAAO,EAAE,qBAAqB,EAAC,CAAC,CAAC;AAC5E,aAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;GAC/B;;;AAGD,MAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAE;AACpC,WAAO,CAAC,OAAO,CAAC,EAAC,QAAQ,EAAE,cAAc,EAAE,OAAO,EAAE,QAAQ,CAAC,GAAG,CAAC,gBAAgB,CAAC,EAAC,CAAC,CAAC;GACtF;CAEF,CAAC;;AAEF,QAAQ,CAAC,SAAS,CAAC,SAAS,CAAC,YAAY;;AAEvC,MAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,MAAI,MAAM,GAAG,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;;;AAGxC,UAAQ,CAAC,KAAK,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;;AAExC,MAAI,gBAAgB,GAAG,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,EAAE,MAAM,CAAC,CAAC;AAC7E,MAAI,qBAAqB,GAAG,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,WAAW,EAAE,MAAM,CAAC,CAAC;AACjF,MAAI,mBAAmB,GAAG,SAAS,CAAC,WAAW,CAAC,SAAS,CAAC,cAAc,EAAE,EAAC,IAAI,EAAE,cAAc,EAAE,MAAM,EAAE,MAAM,EAAC,CAAC,CAAC;;;AAGlH,UAAQ,CAAC,OAAO,CAAC,YAAY;;AAE3B,QAAI,kBAAkB,GAAG,gBAAgB,CAAC,KAAK,EAAE,CAAC;;;AAGlD,QAAI,kBAAkB,EAAE;AACtB,cAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;AACzB,UAAI,IAAI,GAAG,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;AACrD,UAAI,IAAI,EAAE;AACR,kBAAU,CAAC,IAAI,CAAC,CAAC;OAClB,MAAM;AACL,eAAO,CAAC,OAAO,CAAC;AACd,cAAI,EAAE,MAAM;AACZ,kBAAQ,EAAE,uBAAuB;AACjC,iBAAO,EAAE,KAAK;SACf,CAAC,CAAC;AACH,eAAO,CAAC,OAAO,CAAC;AACd,cAAI,EAAE,MAAM;AACZ,kBAAQ,EAAE,QAAQ;AAClB,iBAAO,EAAE,mBAAmB;SAC7B,CAAC,CAAC;OACJ;KACF;GACF,CAAC,CAAC;CAEJ,CAAC,CAAC;;AAEH,QAAQ,CAAC,SAAS,CAAC,OAAO,CAAC;AACzB,OAAK,EAAE,YAAY;AACjB,WAAO,QAAQ,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC;GACxC;AACD,MAAI,EAAE,YAAY;AAChB,WAAO,KAAK,CAAC,OAAO,CAAC,UAAU,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,CAAC;GAClD;AACD,SAAO,EAAE,YAAY;AACnB,QAAI,IAAI,GAAG,IAAI,CAAC;AAChB,QAAI,IAAI,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC;AACzB,QAAI,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,cAAc,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AACzF,aAAO,KAAK,CAAC;KACd,MAAM,IAAI,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,eAAe,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,gBAAgB,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE;AAClG,aAAO,KAAK,CAAC;KACd;AACD,WAAO,IAAI,CAAC;GACb;AACD,WAAS,EAAE,YAAY;AACrB,WAAO,IAAI,CAAC,MAAM,KAAK,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC;GACpD;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,SAAS,CAAC,QAAQ,GAAG,YAAU;AACtC,GAAC,CAAC,MAAM,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;CACxB,CAAC,uH;;;;;;;;;;;;;;;;;;ACnGF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACtBA,QAAQ,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY;AACzC,WAAS,CAAC,WAAW,CAAC,SAAS,CAAC,eAAe,CAAC,CAAC;CAClD,CAAC,CAAC;;AAEH,QAAQ,CAAC,WAAW,CAAC,OAAO,CAAC;AAC3B,YAAU,EAAE,YAAY;AACtB,WAAO,KAAK,CAAC,YAAY,EAAE,CAAC,iBAAiB,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC;GAC9D;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,KAAK,CAAC;AACb,gBAAc,EAAE;;AAEd,UAAM,EAAE;AACN,YAAM,EAAE,UAAS,GAAG,EAAE;;AAEpB,YAAI,IAAI,GAAG,GAAG,CAAC;;AAEf,YAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC;AAC3D,YAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,iBAAiB,CAAC,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;;;;AAIhG,YAAI,CAAC,MAAM,CAAC,IAAI,EAAE,EAAE;AAClB,kBAAQ,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,uBAAuB,CAAC,EAAE,OAAO,CAAC,CAAC;AACzD,iBAAO,KAAK,CAAC;SACd;;;;;AAKD,YAAI,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,kBAAkB,EAAE,IAAI,CAAC,CAAC;;AAEzD,eAAO,IAAI,CAAC;OACb;KACF;;AAED,aAAS,EAAE,UAAS,SAAS,EAAE,IAAI,EAAE;AACnC,YAAM,CAAC,KAAK,CAAC,UAAU,EAAE,EAAC,QAAQ,EAAE,IAAI,CAAC,GAAG,EAAC,CAAC,CAAC;AAC/C,UAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;AAC7B,eAAS,CAAC,WAAW,CAAC,SAAS,CAAC,YAAY,EAAE,IAAI,CAAC,GAAG,EAAE,YAAY;AAClE,gBAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AACzD,kBAAU,CAAC,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;OACjC,CAAC,CAAC;KACJ;;AAED,WAAO,EAAE,UAAS,SAAS,EAAE,KAAK,EAAE;AAClC,UAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,qBAAqB,CAAC,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;AAC9D,UAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,WAAW,CAAC,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,EAAE,KAAK,CAAC,CAAC;;AAE7E,cAAQ,CAAC,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC;AACrD,cAAQ,CAAC,SAAS,EAAE,CAAC;;AAErB,UAAI,KAAK,CAAC,KAAK,KAAK,KAAK,EAAE;AACzB,YAAI,UAAU,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,kBAAU,CAAC,EAAE,CAAC,UAAU,EAAE,EAAC,IAAI,EAAE,GAAG,EAAE,GAAG,EAAE,UAAU,EAAC,CAAC,CAAC;OACzD;KACF;;GAEF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AC5DH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACnBA,IAAI,YAAY,GAAG,YAAY;AAC7B,MAAI,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;;;;AAIxD,MAAI,aAAa,GAAG,CAAC,CAAC,MAAM,CAAC,YAAY,EAAE,UAAU,IAAI,EAAE;AACzD,WAAQ,IAAI,CAAC,SAAS,IAAI,CAAC,KAAK,CAAC,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,IAAM,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,QAAQ,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,IAAI,CAAC,IAAI,CAAE,CAAC;GACjJ,CAAC,CAAC;;AAEH,eAAa,GAAG,CAAC,CAAC,GAAG,CAAC,aAAa,EAAE,UAAU,IAAI,EAAE;AACnD,QAAI,CAAC,SAAS,GAAG,OAAO,GAAC,IAAI,CAAC,IAAI,CAAC;AACnC,WAAO,IAAI,CAAC;GACb,CAAC,CAAC;;AAEH,SAAO,aAAa,CAAC;CACtB,CAAC;;AAEF,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC;AAC1B,WAAS,EAAE,YAAY;AACrB,WAAO,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC;GACvB;AACD,WAAS,EAAE,YAAY;AACrB,WAAO,YAAY,EAAE,CAAC;GACvB;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACxBH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACvCA,QAAQ,CAAC,eAAe,CAAC,OAAO,CAAC;AAC/B,gBAAc,EAAE,YAAY;AAC1B,QAAI,WAAW,GAAG,UAAU,CAAC,aAAa,CAAC,MAAM,CAAC,IAAI,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;AACzF,QAAI,eAAe,GAAG,CAAC,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,CAAC,SAAS,EAAE,EAAC,IAAI,EAAE,WAAW,EAAC,CAAC,CAAC;AACtF,WAAO,eAAe,IAAI,eAAe,CAAC,YAAY,CAAC;GACxD;AACD,WAAS,EAAE,YAAY;AACrB,cAAU,CAAC,eAAe,EAAE,CAAC;AAC7B,QAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,OAAO,EAAE,CAAC,WAAW,CAAC,CAAC;AACtD,SAAK,CAAC,WAAW,GAAG,IAAI,CAAC;;;AAGzB,QAAI,MAAM,CAAC,MAAM,EAAE,EAAE;AACnB,WAAK,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC;KAChC;;AAED,QAAI,CAAC,KAAK,CAAC,IAAI,EAAE;AACf,WAAK,CAAC,IAAI,GAAG,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC,CAAC;KACjD;;AAED,WAAO;AACL,WAAK,EAAE,KAAK;AACZ,aAAO,EAAE;AACP,wBAAgB,EAAE,QAAQ,CAAC,GAAG,CAAC,kBAAkB,EAAE,QAAQ,CAAC;OAC7D;KACF,CAAC;GACH;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AC3BH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;;;ACnFA,QAAQ,CAAC,UAAU,CAAC,OAAO,GAAG,YAAW;AACvC,SAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;CAC5C,CAAC;;AAEF,QAAQ,CAAC,UAAU,CAAC,OAAO,CAAC;AAC1B,aAAW,EAAE,YAAY;AACvB,WAAO,QAAQ,CAAC,GAAG,CAAC,aAAa,EAAE,YAAY,CAAC,CAAC;GAClD;AACD,aAAW,EAAE,YAAY;AACvB,QAAI,UAAU,GAAG,IAAI,CAAC,UAAU,EAAE,CAAC;AACnC,QAAI,OAAO,UAAU,CAAC,cAAc,KAAK,UAAU,EACjD,OAAO,IAAI,CAAC,UAAU,EAAE,CAAC,cAAc,EAAE,CAAC;GAC7C;AACD,aAAW,EAAG,YAAY;AACxB,QAAI,IAAI,CAAC,WAAW,EAAE;;AACpB,UAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACtD,YAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAClB,eAAO,IAAI,CAAC;OACb,CAAC,CAAC;AACH,aAAO,KAAK,CAAC;KACd,MAAM;AACL,aAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;KACxC;GACF;CACF,CAAC,CAAC;;;;AAIH,QAAQ,CAAC,iBAAiB,CAAC,MAAM,CAAC;AAChC,mBAAiB,EAAE,YAAW;AAC5B,WAAO,CAAC,GAAG,CAAC,iBAAiB,EAAE,IAAI,IAAI,EAAE,CAAC,CAAC;GAC5C;CACF,CAAC,CAAC;;;;AAIH,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC;AAC7B,YAAU,EAAE,YAAY;AACtB,WAAO,IAAI,CAAC,UAAU,CAAC;GACxB;AACD,oBAAkB,EAAE,YAAY;AAC9B,QAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,KAAK,QAAQ,EAAE;AAClF,aAAO,KAAK,CAAC;KACd,MAAM;AACL,aAAO,IAAI,CAAC,YAAY,CAAC;KAC1B;GACF;AACD,oBAAkB,EAAE,YAAY;AAC9B,QAAI,IAAI,CAAC,iBAAiB,IAAI,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,KAAK,QAAQ,EAAE;AAClF,aAAO,KAAK,CAAC;KACd,MAAM;AACL,aAAO,IAAI,CAAC,YAAY,CAAC;KAC1B;GACF;AACD,UAAQ,EAAE,YAAY;AACpB,WAAO,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;GACnC;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,YAAY;;AAE3C,MAAI,OAAO,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;;AAErC,MAAI,OAAO,CAAC,iBAAiB,IAAI,OAAO,CAAC,iBAAiB,CAAC,gBAAgB,KAAK,QAAQ,EAAE;;AAExF,KAAC,CAAC,MAAM,CAAC,CAAC,MAAM,CAAC,YAAW;AAC1B,UAAG,CAAC,CAAC,MAAM,CAAC,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,EAAE;AACtE,eAAO,CAAC,eAAe,CAAC,OAAO,CAAC,kBAAkB,CAAC,CAAC;OACrD;KACF,CAAC,CAAC;GAEJ;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC;AAC5B,sBAAoB,EAAE,UAAU,KAAK,EAAE;AACrC,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAI,CAAC,eAAe,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;GAC/C;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;ACjFH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACjCA,QAAQ,CAAC,kBAAkB,CAAC,OAAO,CAAC;AAClC,aAAW,EAAE,YAAY;AACvB,QAAI,IAAI,CAAC,WAAW,EAAE;;AACpB,UAAI,KAAK,GAAG,IAAI,CAAC,WAAW,CAAC,GAAG,CAAC,UAAU,IAAI,EAAE,KAAK,EAAE;AACtD,YAAI,CAAC,IAAI,GAAG,KAAK,CAAC;AAClB,eAAO,IAAI,CAAC;OACb,CAAC,CAAC;AACH,aAAO,KAAK,CAAC;KACd,MAAM;AACL,aAAO,CAAC,GAAG,CAAC,yBAAyB,CAAC,CAAC;KACxC;GACF;AACD,YAAU,EAAE,YAAY;AACtB,WAAO,IAAI,CAAC,iBAAiB,CAAC,UAAU,CAAC;GAC1C;AACD,YAAU,EAAE,YAAY;AACtB,QAAI,iBAAiB,GAAG,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,iBAAiB,CAAC;AACtE,WAAO,iBAAiB,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;GAC3C;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,kBAAkB,CAAC,MAAM,CAAC;AACjC,sBAAoB,EAAE,UAAU,KAAK,EAAE;AACrC,SAAK,CAAC,cAAc,EAAE,CAAC;AACvB,QAAI,IAAI,CAAC,kBAAkB,EAAE;;AAE3B,UAAI,CAAC,eAAe,CAAC,IAAI,CAAC,kBAAkB,CAAC,CAAC;KAC/C,MAAM;;AAEL,UAAI,CAAC,eAAe,EAAE,CAAC;KACxB;GACF;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AChCH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACCA,QAAQ,CAAC,qBAAqB,CAAC,SAAS,CAAC,YAAY;;;AAGnD,MAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,MAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;AACzC,UAAQ,CAAC,KAAK,GAAG,KAAK,CAAC;;;AAGvB,UAAQ,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;AACzC,UAAQ,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,CAAC;AACpE,UAAQ,CAAC,MAAM,GAAG,IAAI,WAAW,CAAC,KAAK,CAAC,CAAC;;;AAGzC,MAAI,WAAW,GAAI,OAAO,KAAK,CAAC,WAAW,KAAK,WAAW,GAAI,KAAK,GAAG,KAAK,CAAC,WAAW,CAAC;AACzF,MAAI,UAAU,GAAG,WAAW,GAAG,SAAS,CAAC,WAAW,GAAG,QAAQ,CAAC;;;AAGhE,MAAI,gBAAgB,GAAI,OAAO,KAAK,CAAC,gBAAgB,KAAK,WAAW,GAAI,IAAI,GAAG,KAAK,CAAC,gBAAgB,CAAC;;AAEvG,UAAQ,CAAC,OAAO,CAAC,YAAY;;;AAG3B,YAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;;;AAG3B,QAAI,QAAQ,GAAG,CAAC,CAAC,KAAK,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC;;;AAGrD,QAAI,MAAM,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;;;AAGnC,YAAQ,CAAC,KAAK,GAAG,MAAM,CAAC;;;AAGxB,QAAI,iBAAiB,GAAG,UAAU,CAAC,SAAS,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AACpE,QAAI,gBAAgB,EAAE;AACpB,UAAI,iBAAiB,GAAG,UAAU,CAAC,SAAS,CAAC,gBAAgB,EAAE,QAAQ,CAAC,CAAC;KAC1E;;;AAGD,QAAI,kBAAkB,CAAC;AACvB,QAAI,gBAAgB,EAAE;AACpB,wBAAkB,GAAG,iBAAiB,CAAC,KAAK,EAAE,IAAI,iBAAiB,CAAC,KAAK,EAAE,CAAC;KAC7E,MAAM;AACL,0BAAkB,GAAG,iBAAiB,CAAC,KAAK,EAAE,CAAC;OAChD;;;;;;;;AAQD,QAAI,kBAAkB,EAAE;AACtB,cAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;AAC9B,cAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;KAC3B;GAEF,CAAC,CAAC;CAEJ,CAAC,CAAC;;;AAGH,QAAQ,CAAC,qBAAqB,CAAC,aAAa,CAAC,UAAU,IAAI,EAAE;;AAE3D,MAAI,QAAQ,GAAG,IAAI,CAAC;AACpB,MAAI,QAAQ,GAAG,QAAQ,CAAC,KAAK,CAAC;AAC9B,MAAI,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC;;;;;;;;AAQ1B,MAAI,CAAC,CAAC,CAAC,OAAO,CAAC,QAAQ,EAAE,QAAQ,CAAC,EAAE;AAClC,YAAQ,CAAC,KAAK,GAAG,QAAQ,CAAC;AAC1B,YAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC,CAAC;GACvD;CACF,CAAC,CAAC;;AAEH,QAAQ,CAAC,qBAAqB,CAAC,OAAO,CAAC;AACrC,UAAQ,EAAE,YAAY;AACpB,WAAO,CAAC,CAAC,IAAI,CAAC,QAAQ,GAAE,IAAI,CAAC,QAAQ,GAAE,YAAY,CAAC;GACrD;AACD,MAAI,EAAE,YAAY;;AAEhB,QAAI,OAAO,GAAG,IAAI,CAAC;;AAEnB,QAAI,QAAQ,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;;AAEnC,QAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;AAClC,QAAI,UAAU,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;;AAEvC,QAAI,UAAU,GAAG,KAAK,CAAC,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;AAC7C,QAAI,WAAW,GAAG,KAAK,CAAC,IAAI,CAAC,UAAU,CAAC,IAAI,EAAE,UAAU,CAAC,OAAO,CAAC,CAAC;;;;;;;AAOlE,QAAI,IAAI,GAAG;;;AAGT,iBAAW,EAAE,WAAW;;;AAGxB,gBAAU,EAAE,UAAU;;;AAGtB,kBAAY,EAAE,WAAW,CAAC,KAAK,EAAE,IAAI,KAAK,CAAC,KAAK;;;AAGhD,qBAAe,EAAE,UAAU,QAAQ,EAAE;;AAEnC,YAAI,KAAK,GAAG,QAAQ,CAAC,MAAM,CAAC,GAAG,EAAE,CAAC;AAClC,aAAK,IAAI,QAAQ,CAAC,GAAG,CAAC,cAAc,EAAE,EAAE,CAAC,CAAC;AAC1C,gBAAQ,CAAC,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;OAC5B;;;AAGD,wBAAkB,EAAE,QAAQ;;AAE5B,uBAAiB,EAAE,OAAO,CAAC,OAAO;;KAEnC,CAAC;;AAEF,WAAO,IAAI,CAAC;GACb;CACF,CAAC,CAAC,sH;;;;;;;;;;;;;;;;;;AClJH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4H;;;;;;;;;;;;;;;;;;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H;;;;;;;;;;;;;;;;;;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2H","file":"/packages/telescope_posts.js","sourcesContent":["/**\n * The global namespace/collection for Posts.\n * @namespace Posts\n */\nPosts = new Mongo.Collection(\"posts\");\n","/**\n * Posts config namespace\n * @type {Object}\n */\nPosts.config = {};\n\n\n/**\n * Post Statuses\n */\nPosts.config.postStatuses = [\n  {\n    value: 1,\n    label: function(){return i18n.t('pending');}\n  },\n  {\n    value: 2,\n    label: function(){return i18n.t('approved');}\n  },\n  {\n    value: 3,\n    label: function(){return i18n.t('rejected');}\n  },\n  {\n    value: 4,\n    label: function(){return i18n.t('spam');}\n  },\n  {\n    value: 5,\n    label: function(){return i18n.t('deleted');}\n  }\n];\n\nPosts.config.STATUS_PENDING = 1;\nPosts.config.STATUS_APPROVED = 2;\nPosts.config.STATUS_REJECTED = 3;\nPosts.config.STATUS_SPAM = 4;\nPosts.config.STATUS_DELETED = 5;","/**\n * Posts schema\n * @type {SimpleSchema}\n */\nPosts.schema = new SimpleSchema({\n  /**\n    ID\n  */\n  _id: {\n    type: String,\n    optional: true\n  },\n  /**\n    Timetstamp of post creation\n  */\n  createdAt: {\n    type: Date,\n    optional: true\n  },\n  /**\n    Timestamp of post first appearing on the site (i.e. being approved)\n  */\n  postedAt: {\n    type: Date,\n    optional: true,\n    editableBy: [\"admin\"],\n    autoform: {\n      group: 'admin',\n      type: \"bootstrap-datetimepicker\"\n    }\n  },\n  /**\n    URL\n  */\n  url: {\n    type: String,\n    optional: true,\n    max: 500,\n    editableBy: [\"member\", \"admin\"],\n    autoform: {\n      type: \"bootstrap-url\",\n      order: 10\n    }\n  },\n  /**\n    Title\n  */\n  title: {\n    type: String,\n    optional: false,\n    max: 500,\n    editableBy: [\"member\", \"admin\"],\n    autoform: {\n      order: 20\n    }\n  },\n  /**\n    Slug\n  */\n  slug: {\n    type: String,\n    optional: true\n  },\n  /**\n    Post body (markdown)\n  */\n  body: {\n    type: String,\n    optional: true,\n    max: 3000,\n    editableBy: [\"member\", \"admin\"],\n    autoform: {\n      rows: 5,\n      order: 30\n    }\n  },\n  /**\n    HTML version of the post body\n  */\n  htmlBody: {\n    type: String,\n    optional: true\n  },\n  /**\n    Count of how many times the post's page was viewed\n  */\n  viewCount: {\n    type: Number,\n    optional: true\n  },\n  /**\n    Count of the post's comments\n  */\n  commentCount: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of commenters\n  */\n  commenters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    Timestamp of the last comment\n  */\n  lastCommentedAt: {\n    type: Date,\n    optional: true\n  },\n  /**\n    Count of how many times the post's link was clicked\n  */\n  clickCount: {\n    type: Number,\n    optional: true\n  },\n  /**\n    The post's base score (not factoring in the post's age)\n  */\n  baseScore: {\n    type: Number,\n    decimal: true,\n    optional: true\n  },\n  /**\n    How many upvotes the post has received\n  */\n  upvotes: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of the post's upvoters\n  */\n  upvoters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    How many downvotes the post has received\n  */\n  downvotes: {\n    type: Number,\n    optional: true\n  },\n  /**\n    An array containing the `_id`s of the post's downvoters\n  */\n  downvoters: {\n    type: [String],\n    optional: true\n  },\n  /**\n    The post's current score (factoring in age)\n  */\n  score: {\n    type: Number,\n    decimal: true,\n    optional: true\n  },\n  /**\n    The post's status. One of pending (`1`), approved (`2`), or deleted (`3`)\n  */\n  status: {\n    type: Number,\n    optional: true,\n    editableBy: [\"admin\"],\n    autoValue: function () {\n      // only provide a default value\n      // 1) this is an insert operation\n      // 2) status field is not set in the document being inserted\n      var user = Meteor.users.findOne(this.userId);\n      if (this.isInsert && !this.isSet)\n        return Posts.getDefaultStatus(user);\n    },\n    autoform: {\n      noselect: true,\n      options: Posts.config.postStatuses,\n      group: 'admin'\n    }\n  },\n  /**\n    Whether the post is sticky (pinned to the top of posts lists)\n  */\n  sticky: {\n    type: Boolean,\n    optional: true,\n    defaultValue: false,\n    editableBy: [\"admin\"],\n    autoform: {\n      group: 'admin',\n      leftLabel: \"Sticky\"\n    }\n  },\n  /**\n    Whether the post is inactive. Inactive posts see their score recalculated less often\n  */\n  inactive: {\n    type: Boolean,\n    optional: true\n  },\n  /**\n    The post author's name\n  */\n  author: {\n    type: String,\n    optional: true\n  },\n  /**\n    The post author's `_id`. \n  */\n  userId: {\n    type: String,\n    optional: true,\n    // regEx: SimpleSchema.RegEx.Id,\n    editableBy: [\"admin\"],\n    autoform: {\n      group: 'admin',\n      options: function () {\n        return Meteor.users.find().map(function (user) {\n          return {\n            value: user._id,\n            label: Users.getDisplayName(user)\n          };\n        });\n      }\n    }\n  }\n});\n\n// schema transforms\nMeteor.startup(function(){\n  // needs to happen after every fields were added\n  Posts.internationalize();\n});\n\n/**\n * Attach schema to Posts collection\n */\nPosts.attachSchema(Posts.schema);\n\nPosts.allow({\n  update: _.partial(Telescope.allowCheck, Posts),\n  remove: _.partial(Telescope.allowCheck, Posts)\n});\n\n","/**\n * Parameter callbacks let you add parameters to subscriptions \n * @namespace Posts.parameters\n */\nPosts.parameters = {};\n\n/**\n * Takes a set of terms, and translates them into a `parameter` object containing the appropriate find\n * and options arguments for the subscriptions's Posts.find()\n * @param {Object} terms\n */\nPosts.parameters.get = function (terms) {\n\n  // add this to ensure all post publications pass audit-arguments-check\n  check(terms, Match.Any);\n\n  // console.log(terms)\n\n  // note: using jquery's extend() with \"deep\" parameter set to true instead of shallow _.extend()\n  // see: http://api.jquery.com/jQuery.extend/\n\n  // initialize parameters by extending baseParameters object, to avoid passing it by reference\n  var parameters = Telescope.utils.deepExtend(true, {}, Posts.views.baseParameters);\n\n  // iterate over postsParameters callbacks\n  parameters = Telescope.callbacks.run(\"postsParameters\", parameters, terms);\n  \n  // if sort options are not provided, default to \"top\" sort\n  if (_.isEmpty(parameters.options.sort)) {\n    parameters.options.sort = {sticky: -1, score: -1};\n  }\n \n  // extend sort to sort posts by _id to break ties\n  // NOTE: always do this last to avoid _id sort overriding another sort\n  parameters = Telescope.utils.deepExtend(true, parameters, {options: {sort: {_id: -1}}});\n\n  // console.log(parameters);\n\n  return parameters;\n};\n\n// Parameter callbacks\n\n// View Parameter\n// Add a \"view\" property to terms which can be used to filter posts. \nfunction addViewParameter (parameters, terms) {\n\n  // if view is not defined, default to \"top\"\n  var view = !!terms.view ? Telescope.utils.dashToCamel(terms.view) : 'top';\n\n  // get query parameters according to current view\n  if (typeof Posts.views[view] !== 'undefined')\n    parameters = Telescope.utils.deepExtend(true, parameters, Posts.views[view](terms));\n\n  return parameters;\n}\nTelescope.callbacks.add(\"postsParameters\", addViewParameter);\n\n// View Parameter\n// Add \"after\" and \"before\" properties to terms which can be used to limit posts in time. \nfunction addTimeParameter (parameters, terms) {\n\n  if (typeof parameters.find.postedAt === \"undefined\") {\n  \n    var postedAt = {};\n\n    if (terms.after) {\n      postedAt.$gte = moment(terms.after, \"YYYY-MM-DD\").startOf('day').toDate();\n    }\n\n    if (terms.before) {\n      postedAt.$lt = moment(terms.before, \"YYYY-MM-DD\").endOf('day').toDate();\n    }\n\n    if (!_.isEmpty(postedAt)) {\n      parameters.find.postedAt = postedAt;\n    }\n\n  }\n\n  return parameters;\n}\nTelescope.callbacks.add(\"postsParameters\", addTimeParameter);\n\n// limit the number of items that can be requested at once\nfunction limitPosts (parameters, terms) {\n  var maxLimit = 200;\n  // if a limit was provided with the terms, add it too (note: limit=0 means \"no limit\")\n  if (typeof terms.limit !== 'undefined') {\n    _.extend(parameters.options, {limit: parseInt(terms.limit)});\n  }\n\n  // limit to \"maxLimit\" items at most when limit is undefined, equal to 0, or superior to maxLimit\n  if(!parameters.options.limit || parameters.options.limit === 0 || parameters.options.limit > maxLimit) {\n    parameters.options.limit = maxLimit;\n  }\n  return parameters;\n}\nTelescope.callbacks.add(\"postsParameters\", limitPosts);\n\n// hide future scheduled posts unless \"showFuture\" is set to true or postedAt is already defined\nfunction hideFuturePosts (parameters, terms) {\n\n  // var now = new Date();\n  var inOneHour = moment().add(1, \"hour\").toDate();\n\n  if (!parameters.showFuture) {\n\n    if (!!parameters.find.postedAt) {\n    \n      if (!!parameters.find.postedAt.$lt) {\n\n        // if postedAt.$lt is defined, use it or current date plus one hour, whichever is earlier in time\n        var lt = parameters.find.postedAt.$lt;\n        parameters.find.postedAt.$lt = lt < inOneHour ? lt : inOneHour;\n      \n      } else {\n\n        // if postedAt.$lt doesn't exist, use current date plus one hour\n       parameters.find.postedAt.$lt = inOneHour;\n\n      }\n\n    } else {\n\n      // if postedAt doesn't exist at all, set it to {$lt: now plus one hour}\n      parameters.find.postedAt = { $lt: inOneHour };\n\n    }\n\n  }\n\n  return parameters;\n}\nTelescope.callbacks.add(\"postsParameters\", hideFuturePosts);","/**\n * Post views are filters used for subscribing to and viewing posts\n * @namespace Posts.views\n */\nPosts.views = {};\n\n/**\n * Add a post view\n * @param {string} viewName - The name of the view\n * @param {function} [viewFunction] - The function used to calculate query terms. Takes terms and baseParameters arguments\n */\nPosts.views.add = function (viewName, viewFunction) {\n  Posts.views[viewName] = viewFunction;\n};\n\n/**\n * Base parameters that will be common to all other view unless specific properties are overwritten\n */\nPosts.views.baseParameters = {\n  find: {\n    status: Posts.config.STATUS_APPROVED\n  },\n  options: {\n    limit: 10\n  }\n};\n\n/**\n * Top view\n */\nPosts.views.add(\"top\", function (terms) {\n  return {\n    options: {sort: {sticky: -1, score: -1}}\n  };\n});\n\n/**\n * New view\n */\nPosts.views.add(\"new\", function (terms) {\n  return {\n    options: {sort: {sticky: -1, postedAt: -1}}\n  };\n});\n\n/**\n * Best view\n */\nPosts.views.add(\"best\", function (terms) {\n  return {\n    options: {sort: {sticky: -1, baseScore: -1}}\n  };\n});\n\n/**\n * Pending view\n */\nPosts.views.add(\"pending\", function (terms) {\n  return {\n    find: {\n      status: Posts.config.STATUS_PENDING\n    },\n    options: {sort: {createdAt: -1}},\n    showFuture: true\n  };\n});\n\n/**\n * Rejected view\n */\nPosts.views.add(\"rejected\", function (terms) {\n  return {\n    find: {\n      status: Posts.config.STATUS_REJECTED\n    },\n    options: {sort: {createdAt: -1}},\n    showFuture: true\n  };\n});\n\n/**\n * Scheduled view\n */\nPosts.views.add(\"scheduled\", function (terms) {\n  return {\n    find: {postedAt: {$gte: new Date()}},\n    options: {sort: {postedAt: -1}},\n    showFuture: true\n  };\n});\n\n/**\n * User posts view\n */\nPosts.views.add(\"userPosts\", function (terms) {\n  return {\n    find: {userId: terms.userId},\n    options: {limit: 5, sort: {postedAt: -1}}\n  };\n});\n\n/**\n * User upvoted posts view\n */\nPosts.views.add(\"userUpvotedPosts\", function (terms) {\n  var user = Meteor.users.findOne(terms.userId);\n  var postsIds = _.pluck(user.telescope.upvotedPosts, \"itemId\");\n  return {\n    find: {_id: {$in: postsIds}, userId: {$ne: terms.userId}}, // exclude own posts\n    options: {limit: 5, sort: {postedAt: -1}}\n  };\n});\n\n/**\n * User downvoted posts view\n */\nPosts.views.add(\"userDownvotedPosts\", function (terms) {\n  var user = Meteor.users.findOne(terms.userId);\n  var postsIds = _.pluck(user.telescope.downvotedPosts, \"itemId\");\n  // TODO: sort based on votedAt timestamp and not postedAt, if possible\n  return {\n    find: {_id: {$in: postsIds}},\n    options: {limit: 5, sort: {postedAt: -1}}\n  };\n});\n","//////////////////\n// Link Helpers //\n//////////////////\n\n/**\n * Return a post's link if it has one, else return its post page URL\n * @param {Object} post\n */\nPosts.getLink = function (post, isAbsolute) {\n  return !!post.url ? Telescope.utils.getOutgoingUrl(post.url) : this.getPageUrl(post, isAbsolute);\n};\nPosts.helpers({getLink: function (isAbsolute) {return Posts.getLink(this, isAbsolute);}});\n\n/**\n * Depending on the settings, return either a post's URL link (if it has one) or its page URL.\n * @param {Object} post\n */\nPosts.getShareableLink = function (post) {\n  return Settings.get(\"outsideLinksPointTo\", \"link\") === \"link\" ? Posts.getLink(post) : Posts.getPageUrl(post, true);\n};\nPosts.helpers({getShareableLink: function () {return Posts.getShareableLink(this);}});\n\n/**\n * Whether a post's link should open in a new tab or not\n * @param {Object} post\n */\nPosts.getLinkTarget = function (post) {\n  return !!post.url ? \"_blank\" : \"\";\n};\nPosts.helpers({getLinkTarget: function () {return Posts.getLinkTarget(this);}});\n\n/**\n * Get URL of a post page.\n * @param {Object} post\n */\nPosts.getPageUrl = function(post, isAbsolute){\n  var isAbsolute = typeof isAbsolute === \"undefined\" ? false : isAbsolute; // default to false\n  var prefix = isAbsolute ? Telescope.utils.getSiteUrl().slice(0,-1) : \"\";\n  return prefix + FlowRouter.path(\"postPage\", post);\n};\nPosts.helpers({getPageUrl: function (isAbsolute) {return Posts.getPageUrl(this, isAbsolute);}});\n\n/**\n * Get post edit page URL.\n * @param {String} id\n */\nPosts.getEditUrl = function(post, isAbsolute){\n  var isAbsolute = typeof isAbsolute === \"undefined\" ? false : isAbsolute; // default to false\n  var prefix = isAbsolute ? Telescope.utils.getSiteUrl().slice(0,-1) : \"\";\n  return prefix + FlowRouter.path(\"postEdit\", post);\n};\nPosts.helpers({getEditUrl: function (isAbsolute) {return Posts.getEditUrl(this, isAbsolute);}});\n\n///////////////////\n// Other Helpers //\n///////////////////\n\n/**\n * Get a post author's name\n * @param {Object} post\n */\nPosts.getAuthorName = function (post) {\n  var user = Meteor.users.findOne(post.userId);\n  if (user) {\n    return user.getDisplayName();\n  } else {\n    return post.author;\n  }\n};\nPosts.helpers({getAuthorName: function () {return Posts.getAuthorName(this);}});\n\n/**\n * Get default status for new posts.\n * @param {Object} user\n */\nPosts.getDefaultStatus = function (user) {\n  var hasAdminRights = typeof user === 'undefined' ? false : Users.is.admin(user);\n  if (hasAdminRights || !Settings.get('requirePostsApproval', false)) {\n    // if user is admin, or else post approval is not required\n    return Posts.config.STATUS_APPROVED\n  } else {\n    // else\n    return Posts.config.STATUS_PENDING\n  }\n};\n\n/**\n * Check if a post is approved\n * @param {Object} post\n */\nPosts.isApproved = function (post) {\n  return post.status === Posts.config.STATUS_APPROVED;\n};\nPosts.helpers({isApproved: function () {return Posts.isApproved(this);}});\n\n/**\n * Check to see if post URL is unique.\n * We need the current user so we know who to upvote the existing post as.\n * @param {String} url\n */\nPosts.checkForSameUrl = function (url) {\n\n  // check that there are no previous posts with the same link in the past 6 months\n  var sixMonthsAgo = moment().subtract(6, 'months').toDate();\n  var postWithSameLink = Posts.findOne({url: url, postedAt: {$gte: sixMonthsAgo}});\n\n  if (typeof postWithSameLink !== 'undefined') {\n    throw new Meteor.Error('603', i18n.t('this_link_has_already_been_posted'), postWithSameLink._id);\n  }\n};\n\n/**\n * When on a post page, return the current post\n */\nPosts.current = function () {\n  return Posts.findOne(FlowRouter.getParam(\"_id\"));\n};\n\n/**\n * Check to see if a post is a link to a video\n * @param {Object} post\n */\nPosts.isVideo = function (post) {\n  return post.media && post.media.type === \"video\";\n};\nPosts.helpers({isVideo: function () {return Posts.isVideo(this);}});\n","Telescope.modules.add(\"postsListTop\", {\n  template: \"views_menu\",\n  order: 1\n});\n\nTelescope.modules.add(\"postComponents\", [\n  {\n    template: 'post_rank',\n    order: 1\n  },\n  {\n    template: 'post_vote',\n    order: 10\n  },\n  {\n    template: 'post_content',\n    order: 20\n  },\n  {\n    template: 'post_avatars',\n    order: 30\n  },\n  {\n    template: 'post_discuss',\n    order: 40\n  },\n  {\n    template: 'post_actions',\n    order: 50\n  }\n]);\n\nTelescope.modules.add(\"postHeading\", [\n  {\n    template: 'post_title',\n    order: 10\n  },\n  {\n    template: 'post_domain',\n    order: 20\n  }\n]);\n\nTelescope.modules.add(\"postMeta\", [\n  {\n    template: 'post_author',\n    order: 10\n  },\n  {\n    template: 'post_info',\n    order: 20\n  },\n  {\n    template: 'post_comments_link',\n    order: 30\n  },\n  {\n    template: 'post_admin',\n    order: 50\n  }\n]);\n","\n//////////////////////////////////////////////////////\n// Collection Hooks                                 //\n//////////////////////////////////////////////////////\n\n/**\n * Generate HTML body from Markdown on post insert\n */\nPosts.before.insert(function (userId, doc) {\n  if(!!doc.body)\n    doc.htmlBody = Telescope.utils.sanitize(marked(doc.body));\n});\n\n/**\n * Generate HTML body from Markdown when post body is updated\n */\nPosts.before.update(function (userId, doc, fieldNames, modifier) {\n  // if body is being modified or $unset, update htmlBody too\n  if (Meteor.isServer && modifier.$set && modifier.$set.body) {\n    modifier.$set.htmlBody = Telescope.utils.sanitize(marked(modifier.$set.body));\n  }\n  if (Meteor.isServer && modifier.$unset && (typeof modifier.$unset.body !== \"undefined\")) {\n    modifier.$unset.htmlBody = \"\";\n  }\n});\n\n/**\n * Generate slug when post title is updated\n */\nPosts.before.update(function (userId, doc, fieldNames, modifier) {\n  // if title is being modified, update slug too\n  if (Meteor.isServer && modifier.$set && modifier.$set.title) {\n    modifier.$set.slug = Telescope.utils.slugify(modifier.$set.title);\n  }\n});\n\n/**\n * Disallow $rename\n */\nPosts.before.update(function (userId, doc, fieldNames, modifier) {\n  if (!!modifier.$rename) {\n    throw new Meteor.Error(\"illegal $rename operator detected!\");\n  }\n});\n\n//////////////////////////////////////////////////////\n// Callbacks                                        //\n//////////////////////////////////////////////////////\n\n/**\n * Increment the user's post count and upvote the post\n */\nfunction afterPostSubmitOperations (post) {\n  var userId = post.userId;\n  Meteor.users.update({_id: userId}, {$inc: {\"telescope.postCount\": 1}});\n  return post;\n}\nTelescope.callbacks.add(\"postSubmitAsync\", afterPostSubmitOperations);\n\nfunction upvoteOwnPost (post) {\n  var postAuthor = Meteor.users.findOne(post.userId);\n  Telescope.upvoteItem(Posts, post._id, postAuthor);\n  return post;\n}\nTelescope.callbacks.add(\"postSubmitAsync\", upvoteOwnPost);\n\nfunction setPostedAt (post) {\n  if (post.isApproved() && !post.postedAt) {\n    Posts.update(post._id, {$set: {postedAt: new Date()}});\n  }\n}\nTelescope.callbacks.add(\"postEditAsync\", setPostedAt);","/**\n *\n * Post Methods\n *\n */\n\n/**\n * Insert a post in the database (note: optional post properties not listed here)\n * @param {Object} post - the post being inserted\n * @param {string} post.userId - the id of the user the post belongs to\n * @param {string} post.title - the post's title\n */\nPosts.submit = function (post) {\n\n  var userId = post.userId, // at this stage, a userId is expected\n      user = Users.findOne(userId);\n\n  // ------------------------------ Checks ------------------------------ //\n\n  // check that a title was provided\n  if(!post.title)\n    throw new Meteor.Error(602, i18n.t('please_fill_in_a_title'));\n\n  // check that there are no posts with the same URL\n  if(!!post.url)\n    Posts.checkForSameUrl(post.url, user);\n\n  // ------------------------------ Properties ------------------------------ //\n\n  var defaultProperties = {\n    createdAt: new Date(),\n    author: Users.getDisplayNameById(userId),\n    upvotes: 0,\n    downvotes: 0,\n    commentCount: 0,\n    clickCount: 0,\n    viewCount: 0,\n    baseScore: 0,\n    score: 0,\n    inactive: false,\n    sticky: false,\n    status: Posts.getDefaultStatus()\n  };\n\n  post = _.extend(defaultProperties, post);\n\n  // if post is approved but doesn't have a postedAt date, give it a default date\n  // note: pending posts get their postedAt date only once theyre approved\n  if (post.status === Posts.config.STATUS_APPROVED && !post.postedAt)\n    post.postedAt = new Date();\n\n  // clean up post title\n  post.title = Telescope.utils.cleanUp(post.title);\n\n  // generate slug\n  post.slug = Telescope.utils.slugify(post.title);\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  // run all post submit server callbacks on post object successively\n  post = Telescope.callbacks.run(\"postSubmit\", post);\n\n  // -------------------------------- Insert ------------------------------- //\n\n  post._id = Posts.insert(post);\n\n  // --------------------- Server-Side Async Callbacks --------------------- //\n\n  // note: query for post to get fresh document with collection-hooks effects applied\n  Telescope.callbacks.runAsync(\"postSubmitAsync\", Posts.findOne(post._id));\n\n  return post;\n};\n\n/**\n * Edit a post in the database\n * @param {string} postId – the ID of the post being edited\n * @param {Object} modifier – the modifier object\n * @param {Object} post - the current post object\n */\nPosts.edit = function (postId, modifier, post) {\n\n  if (typeof post === \"undefined\") {\n    post = Posts.findOne(postId);\n  }\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  modifier = Telescope.callbacks.run(\"postEdit\", modifier, post);\n\n  // ------------------------------ Update ------------------------------ //\n\n  Posts.update(postId, modifier);\n\n  // ------------------------------ Callbacks ------------------------------ //\n\n  Telescope.callbacks.runAsync(\"postEditAsync\", Posts.findOne(postId), post);\n\n  // ------------------------------ After Update ------------------------------ //\n  return Posts.findOne(postId);\n};\n\n// ------------------------------------------------------------------------------------------- //\n// ----------------------------------------- Methods ----------------------------------------- //\n// ------------------------------------------------------------------------------------------- //\n\nvar postViews = [];\n\nMeteor.methods({\n\n  /**\n   * Meteor method for submitting a post from the client\n   * @memberof Posts\n   * @param {Object} post - the post being inserted\n   */\n  submitPost: function(post){\n\n    check(post, Posts.simpleSchema());\n\n    // required properties:\n    // title\n\n    // optional properties\n    // URL\n    // body\n    // categories\n    // thumbnailUrl\n\n    // NOTE: the current user and the post author user might be two different users!\n    var user = Meteor.user(),\n        hasAdminRights = Users.is.admin(user),\n        schema = Posts.simpleSchema()._schema;\n\n    // ------------------------------ Checks ------------------------------ //\n\n    // check that user can post\n    if (!user || !Users.can.post(user))\n      throw new Meteor.Error(601, i18n.t('you_need_to_login_or_be_invited_to_post_new_stories'));\n\n    // --------------------------- Rate Limiting -------------------------- //\n\n    if(!hasAdminRights){\n\n      var timeSinceLastPost = Users.timeSinceLast(user, Posts),\n        numberOfPostsInPast24Hours = Users.numberOfItemsInPast24Hours(user, Posts),\n        postInterval = Math.abs(parseInt(Settings.get('postInterval', 30))),\n        maxPostsPer24Hours = Math.abs(parseInt(Settings.get('maxPostsPerDay', 30)));\n\n      // check that user waits more than X seconds between posts\n      if(timeSinceLastPost < postInterval)\n        throw new Meteor.Error(604, i18n.t('please_wait')+(postInterval-timeSinceLastPost)+i18n.t('seconds_before_posting_again'));\n\n      // check that the user doesn't post more than Y posts per day\n      if(numberOfPostsInPast24Hours > maxPostsPer24Hours)\n        throw new Meteor.Error(605, i18n.t('sorry_you_cannot_submit_more_than')+maxPostsPer24Hours+i18n.t('posts_per_day'));\n\n    }\n\n    // ------------------------------ Properties ------------------------------ //\n\n    // admin-only properties\n    // status\n    // postedAt\n    // userId\n    // sticky (default to false)\n\n    // go over each schema field and throw an error if it's not editable\n    _.keys(post).forEach(function (fieldName) {\n\n      var field = schema[fieldName];\n      if (!Users.can.submitField(user, field)) {\n        throw new Meteor.Error(\"disallowed_property\", i18n.t('disallowed_property_detected') + \": \" + fieldName);\n      }\n\n    });\n\n    // if no post status has been set, set it now\n    if (!post.status) {\n      post.status = Posts.getDefaultStatus(user);\n    }\n\n    // if no userId has been set, default to current user id\n    if (!post.userId) {\n      post.userId = user._id;\n    }\n\n    return Posts.submit(post);\n  },\n\n  /**\n   * Meteor method for editing a post from the client\n   * @memberof Posts\n   * @param {Object} modifier - the update modifier\n   * @param {Object} postId - the id of the post being updated\n   */\n  editPost: function (modifier, postId) {\n\n    // checking might be redundant because SimpleSchema already enforces the schema, but you never know\n    check(modifier, Match.OneOf({$set: Posts.simpleSchema()}, {$unset: Object}, {$set: Posts.simpleSchema(), $unset: Object}));\n    check(postId, String);\n\n    var user = Meteor.user(),\n        post = Posts.findOne(postId),\n        schema = Posts.simpleSchema()._schema;\n\n    // ------------------------------ Checks ------------------------------ //\n\n    // check that user can edit document\n    if (!user || !Users.can.edit(user, post)) {\n      throw new Meteor.Error(601, i18n.t('sorry_you_cannot_edit_this_post'));\n    }\n\n    // go over each field and throw an error if it's not editable\n    // loop over each operation ($set, $unset, etc.)\n    _.each(modifier, function (operation) {\n      // loop over each property being operated on\n      _.keys(operation).forEach(function (fieldName) {\n\n        var field = schema[fieldName];\n        if (!Users.can.editField(user, field, post)) {\n          throw new Meteor.Error(\"disallowed_property\", i18n.t('disallowed_property_detected') + \": \" + fieldName);\n        }\n\n      });\n    });\n\n    return Posts.edit(postId, modifier, post);\n\n  },\n\n  setPostedAt: function(post, customPostedAt){\n\n    // this method is not actually used?\n\n    check(post, Posts.simpleSchema());\n    check(customPostedAt, Date);\n\n    var postedAt = new Date(); // default to current date and time\n\n    if(Users.is.admin(Meteor.user()) && typeof customPostedAt !== 'undefined') // if user is admin and a custom datetime has been set\n      postedAt = customPostedAt;\n\n    Posts.update(post._id, {$set: {postedAt: postedAt}});\n  },\n\n  approvePost: function(postId){\n\n    check(postId, String);\n    \n    var post = Posts.findOne(postId);\n    var now = new Date();\n\n    if(Users.is.admin(Meteor.user())){\n\n      var set = {status: Posts.config.STATUS_APPROVED};\n\n      if (!post.postedAt) {\n        set.postedAt = now;\n      }\n      \n      Posts.update(post._id, {$set: set});\n\n      Telescope.callbacks.runAsync(\"postApproveAsync\", post);\n\n    }else{\n      Messages.flash('You need to be an admin to do that.', \"error\");\n    }\n  },\n\n  rejectPost: function(postId){\n\n    check(postId, String);\n    var post = Posts.findOne(postId);\n    \n    if(Users.is.admin(Meteor.user())){\n\n      Posts.update(post._id, {$set: {status: Posts.config.STATUS_REJECTED}});\n\n      Telescope.callbacks.runAsync(\"postRejectAsync\", post);\n    \n    }else{\n      Messages.flash('You need to be an admin to do that.', \"error\");\n    }\n  },\n\n  increasePostViews: function(postId, sessionId){\n\n    check(postId, String);\n    check(sessionId, Match.Any);\n\n    this.unblock();\n\n    // only let users increment a post's view counter once per session\n    var view = {_id: postId, userId: this.userId, sessionId: sessionId};\n\n    if(_.where(postViews, view).length === 0){\n      postViews.push(view);\n      Posts.update(postId, { $inc: { viewCount: 1 }});\n    }\n  },\n\n  deletePostById: function(postId) {\n\n    check(postId, String);\n\n    // remove post comments\n    // if(!this.isSimulation) {\n    //   Comments.remove({post: postId});\n    // }\n    // NOTE: actually, keep comments after all\n\n    var post = Posts.findOne({_id: postId});\n\n    if(!Meteor.userId() || !Users.can.editById(Meteor.userId(), post)) throw new Meteor.Error(606, 'You need permission to edit or delete a post');\n\n    // decrement post count\n    Users.update({_id: post.userId}, {$inc: {\"telescope.postCount\": -1}});\n\n    // delete post\n    Posts.remove(postId);\n\n    Telescope.callbacks.runAsync(\"postDeleteAsync\", post);\n\n  },\n\n  checkForDuplicates: function (url) {\n    Posts.checkForSameUrl(url);  \n  }\n\n});\n","Posts.getRoute = function () {\n  FlowRouter.watchPathChange()\n  var viewName = this.name;\n  var currentQuery = _.clone(FlowRouter.current().queryParams);\n  var defaultView = Settings.get(\"defaultView\", \"top\");\n  var newQuery;\n\n  if (viewName === defaultView) {\n    // for the default view, just remove the \"view\" parameter altogether\n    delete currentQuery.view;\n    newQuery = currentQuery;\n  } else {\n    newQuery = _.extend(currentQuery, {view: viewName});\n  }\n  \n  return FlowRouter.path(\"postsDefault\", FlowRouter.current().params, newQuery);\n};\n\n// array containing items in the views menu\nvar viewsMenuItems = [\n  {\n    route: Posts.getRoute,\n    name: 'top',\n    label: 'top',\n    description: 'most_popular_posts'\n  },\n  {\n    route: Posts.getRoute,\n    name: 'new',\n    label: 'new',\n    description: 'newest_posts'\n  },\n  {\n    route: Posts.getRoute,\n    name: 'best',\n    label: 'best',\n    description: 'highest_ranked_posts_ever'\n  },\n  {\n    route: Posts.getRoute,\n    name: 'pending',\n    label: 'pending',\n    description: 'posts_awaiting_moderation',\n    adminOnly: true\n  },\n  {\n    route: Posts.getRoute,\n    name: 'rejected',\n    label: 'rejected',\n    description: 'rejected_posts',\n    adminOnly: true\n  },\n  {\n    route: Posts.getRoute,\n    name: 'scheduled',\n    label: 'scheduled',\n    description: 'future_scheduled_posts',\n    adminOnly: true\n  },\n];\n\nTelescope.menuItems.add(\"viewsMenu\", viewsMenuItems);","FlowRouter.route('/', {\n  name: \"postsDefault\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"main_posts_list\"});\n  }\n});\n\nFlowRouter.route('/posts/:_id/edit', {\n  name: \"postEdit\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"post_edit\"});\n  }\n});\n\nFlowRouter.route('/posts/:_id/:slug?', {\n  name: \"postPage\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"post_page\"});\n  }\n});\n\nvar trackRouteEntry = function (context) {\n  var sessionId = Meteor.default_connection && Meteor.default_connection._lastSessionId ? Meteor.default_connection._lastSessionId : null;\n  Meteor.call('increasePostViews', context.params._id, sessionId);\n}\n\nFlowRouter.route('/submit', {\n  name: \"postSubmit\",\n  action: function(params, queryParams) {\n    BlazeLayout.render(\"layout\", {main: \"post_submit\"});\n  }\n});","\nTemplate.__checkName(\"after_post_item\");\nTemplate[\"after_post_item\"] = new Template(\"Template.after_post_item\", (function() {\n  var view = this;\n  return \"\";\n}));\n","\nTemplate.__checkName(\"before_post_item\");\nTemplate[\"before_post_item\"] = new Template(\"Template.before_post_item\", (function() {\n  var view = this;\n  return \"\";\n}));\n","\nTemplate.__checkName(\"post_actions\");\nTemplate[\"post_actions\"] = new Template(\"Template.post_actions\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"post-actions \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", HTML.A({\n    \"class\": \"toggle-actions-link mobile-only\",\n    href: \"#\"\n  }, \"\\n      \", Blaze.View(\"lookup:icon\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"more\", \"icon-circle\"));\n  }), \"\\n    \"), \"\\n  \");\n}));\n","Template.post_actions.events({\n  'click .toggle-actions-link': function(e){\n    e.preventDefault();\n    var $post = $(e.target).parents('.post');\n    var h = $post.height();\n    if ($post.hasClass('show-actions')) {\n      $post.height('auto');\n      $post.removeClass('show-actions');\n    } else {\n      $post.height(h+'px');\n      $post.addClass('show-actions');\n    }\n  }\n});\n","\nTemplate.__checkName(\"post_admin\");\nTemplate[\"post_admin\"] = new Template(\"Template.post_admin\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ Spacebars.mustache(view.lookup(\"moduleClass\")), \" post-admin\" ];\n    },\n    \"aria-live\": \"off\"\n  }, \"\\n\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"isAdmin\"));\n  }, function() {\n    return [ \"\\n\\n      \", HTML.DIV({\n      \"class\": \"post-admin-stats\"\n    }, \"\\n        \", HTML.SPAN({\n      title: function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"score\");\n      }\n    }, Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"score\"));\n    }), \" \", Blaze.View(\"lookup:shortScore\", function() {\n      return Spacebars.mustache(view.lookup(\"shortScore\"));\n    }), \" \", HTML.SPAN({\n      \"class\": \"sr-only\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"score\");\n    }))), \"\\n        \", HTML.SPAN({\n      title: function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"clicks\");\n      }\n    }, Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"clicks\"));\n    }), \" \", Blaze.View(\"lookup:clickCount\", function() {\n      return Spacebars.mustache(view.lookup(\"clickCount\"));\n    }), \" \", HTML.SPAN({\n      \"class\": \"sr-only\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"clicks\");\n    }))), \"\\n        \", HTML.SPAN({\n      title: function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"views\");\n      }\n    }, Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"views\"));\n    }), \" \", Blaze.View(\"lookup:viewCount\", function() {\n      return Spacebars.mustache(view.lookup(\"viewCount\"));\n    }), \" \", HTML.SPAN({\n      \"class\": \"sr-only\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"views\");\n    }))), \"\\n      \"), \"\\n\\n      \", HTML.DIV({\n      \"class\": \"post-admin-actions\"\n    }, \"\\n        \", HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"postEdit\", Spacebars.kw({\n          _id: view.lookup(\"_id\")\n        }));\n      },\n      \"class\": \"edit-link\",\n      title: function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"edit\");\n      }\n    }, Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"edit\"));\n    }), \" \", HTML.SPAN({\n      \"class\": \"sr-only\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"edit\");\n    }))), \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showApprove\"));\n    }, function() {\n      return [ \"\\n          \", HTML.A({\n        href: \"#\",\n        \"class\": \"approve-link\",\n        title: function() {\n          return Spacebars.mustache(view.lookup(\"_\"), \"approve\");\n        }\n      }, Blaze.View(\"lookup:icon\", function() {\n        return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"approve\"));\n      }), \" \", HTML.SPAN({\n        \"class\": \"sr-only\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"approve\");\n      }))), \"\\n        \" ];\n    }), \"\\n        \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"showReject\"));\n    }, function() {\n      return [ \"\\n          \", HTML.A({\n        href: \"#\",\n        \"class\": \"reject-link\",\n        title: function() {\n          return Spacebars.mustache(view.lookup(\"_\"), \"reject\");\n        }\n      }, Blaze.View(\"lookup:icon\", function() {\n        return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"reject\"));\n      }), \" \", HTML.SPAN({\n        \"class\": \"sr-only\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"reject\");\n      }))), \"\\n        \" ];\n    }), \"\\n        \", HTML.A({\n      href: \"#\",\n      \"class\": \"delete-link\",\n      title: function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"delete\");\n      }\n    }, Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"delete\"));\n    }), \" \", HTML.SPAN({\n      \"class\": \"sr-only\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"delete\");\n    }))), \"\\n      \"), \"\\n\\n    \" ];\n  }, function() {\n    return [ \"\\n\\n      \", Blaze.If(function() {\n      return Spacebars.dataMustache(view.lookup(\"canEdit\"), view.lookup(\".\"));\n    }, function() {\n      return [ \"\\n        \", HTML.DIV({\n        \"class\": \"post-admin-actions\"\n      }, \"\\n          \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"pathFor\"), \"postEdit\", Spacebars.kw({\n            _id: view.lookup(\"_id\")\n          }));\n        },\n        \"class\": \"edit-link\",\n        title: function() {\n          return Spacebars.mustache(view.lookup(\"_\"), \"edit\");\n        }\n      }, Blaze.View(\"lookup:icon\", function() {\n        return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"edit\"));\n      }), \" \", HTML.SPAN({\n        \"class\": \"sr-only\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"edit\");\n      }))), \"\\n          \", HTML.A({\n        href: \"#\",\n        \"class\": \"delete-link\",\n        title: function() {\n          return Spacebars.mustache(view.lookup(\"_\"), \"delete\");\n        }\n      }, Blaze.View(\"lookup:icon\", function() {\n        return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"delete\"));\n      }), \" \", HTML.SPAN({\n        \"class\": \"sr-only\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"delete\");\n      }))), \"\\n        \"), \"\\n      \" ];\n    }), \"\\n\\n    \" ];\n  }), \"\\n  \\n  \");\n}));\n","Template.post_admin.helpers({\n  showApprove: function () {\n    return !!Settings.get('requirePostsApproval') && (this.status === Posts.config.STATUS_PENDING || this.status === Posts.config.STATUS_REJECTED);\n  },\n  showReject: function(){\n    return !!Settings.get('requirePostsApproval') && (this.status === Posts.config.STATUS_PENDING || this.status === Posts.config.STATUS_APPROVED);\n  },\n  shortScore: function(){\n    return Math.floor(this.score*100)/100;\n  }\n});\n\nTemplate.post_admin.events({\n  'click .approve-link': function(e){\n    Meteor.call('approvePost', this._id);\n    e.preventDefault();\n  },\n  'click .reject-link': function(e){\n    Meteor.call('rejectPost', this._id);\n    e.preventDefault();\n  },\n  'click .delete-link': function(e){\n    var post = this;\n\n    e.preventDefault();\n\n    if(confirm(\"Delete “\"+post.title+\"”?\")){\n      FlowRouter.go('postsDefault');\n      Meteor.call(\"deletePostById\", post._id, function(error) {\n        if (error) {\n          console.log(error);\n          Messages.flash(error.reason, 'error');\n        } else {\n          Messages.flash(i18n.t('your_post_has_been_deleted'), 'success');\n        }\n      });\n    }\n  }\n});","\nTemplate.__checkName(\"post_author\");\nTemplate[\"post_author\"] = new Template(\"Template.post_author\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return Spacebars.mustache(view.lookup(\"moduleClass\"));\n    }\n  }, \"\\n    \", HTML.A({\n    \"class\": \"post-author\",\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"getProfileUrl\"), Spacebars.dot(view.lookup(\"item\"), \"userId\"));\n    }\n  }, Blaze.View(\"lookup:displayName\", function() {\n    return Spacebars.mustache(view.lookup(\"displayName\"));\n  })), \"\\n  \");\n}));\n","Template.post_author.helpers({\n  displayName: function () {\n    var user = Meteor.users.findOne(this.userId);\n    if (user) {\n      return Users.getDisplayName(user);\n    } else {\n      return this.author;\n    }\n  }\n});","\nTemplate.__checkName(\"post_avatars\");\nTemplate[\"post_avatars\"] = new Template(\"Template.post_avatars\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"post-avatars \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    },\n    \"aria-hidden\": \"true\",\n    \"aria-live\": \"off\"\n  }, \"\\n    \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(view.lookup(\"getProfileUrl\"), view.lookup(\"userId\"));\n    },\n    title: function() {\n      return Spacebars.mustache(view.lookup(\"getDisplayName\"), view.lookup(\"userId\"));\n    },\n    \"class\": \"avatar-link avatar-small author-avatar\"\n  }, \"\\n      \", Blaze._TemplateWith(function() {\n    return {\n      userId: Spacebars.call(view.lookup(\"userId\")),\n      shape: Spacebars.call(\"circle\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"avatar\"));\n  }), \"\\n    \"), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"commenters\"));\n  }, function() {\n    return [ \"\\n      \", HTML.DIV({\n      \"class\": \"post-commenters\"\n    }, \"\\n      \", Blaze.Each(function() {\n      return Spacebars.call(view.lookup(\"commenters\"));\n    }, function() {\n      return [ \"\\n        \", HTML.A({\n        href: function() {\n          return Spacebars.mustache(view.lookup(\"getProfileUrl\"), view.lookup(\".\"));\n        },\n        title: function() {\n          return Spacebars.mustache(view.lookup(\"getDisplayName\"), view.lookup(\".\"));\n        },\n        \"class\": \"avatar-link avatar-small commenter-avatar\"\n      }, \"\\n          \", Blaze._TemplateWith(function() {\n        return {\n          userId: Spacebars.call(view.lookup(\".\")),\n          shape: Spacebars.call(\"circle\")\n        };\n      }, function() {\n        return Spacebars.include(view.lookupTemplate(\"avatar\"));\n      }), \"\\n        \"), \"\\n      \" ];\n    }), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n  \");\n}));\n","Template.post_avatars.helpers({\n  commenters: function () {\n    // remove post author ID from commenters to avoid showing author's avatar again\n    // limit to 4 commenters in case there's more\n    // TODO: show a \"...\" sign or something\n    return _.first(_.without(this.commenters, this.userId), 4);\n  }\n});","\nTemplate.__checkName(\"post_comments_link\");\nTemplate[\"post_comments_link\"] = new Template(\"Template.post_comments_link\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return Spacebars.mustache(view.lookup(\"moduleClass\"));\n    }\n  }, \"\\n    \", HTML.A({\n    \"class\": \"comments-link\",\n    href: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"getPageUrl\"));\n    }\n  }, \"\\n      \", HTML.SPAN({\n    \"class\": \"comments-count\"\n  }, Blaze.View(\"lookup:commentCount\", function() {\n    return Spacebars.mustache(view.lookup(\"commentCount\"));\n  })), \"\\n      \", HTML.SPAN({\n    \"class\": \"comments-action\"\n  }, Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"comments_\");\n  })), \"\\n    \"), \"\\n  \");\n}));\n","\nTemplate.__checkName(\"post_content\");\nTemplate[\"post_content\"] = new Template(\"Template.post_content\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"post-content \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"postThumbnail\"),\n      moduleData: Spacebars.call(view.lookup(\".\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  }), \"\\n    \", HTML.DIV({\n    \"class\": \"post-info\"\n  }, \"\\n      \", Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"postHeading\"),\n      zoneClass: Spacebars.call(\"post-heading\"),\n      moduleData: Spacebars.call(view.lookup(\".\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  }), \"\\n      \", Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"postMeta\"),\n      zoneClass: Spacebars.call(\"post-meta\"),\n      moduleClass: Spacebars.call(\"post-meta-item\"),\n      moduleData: Spacebars.call(view.lookup(\".\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  }), \"\\n    \"), \"\\n  \");\n}));\n","\nTemplate.__checkName(\"post_discuss\");\nTemplate[\"post_discuss\"] = new Template(\"Template.post_discuss\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"post-discuss \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", HTML.A({\n    \"class\": \"discuss-link go-to-comments action\",\n    href: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"getPageUrl\"));\n    },\n    title: function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"discuss\");\n    }\n  }, \"\\n      \", Blaze.View(\"lookup:icon\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"comment\"));\n  }), \"\\n      \", HTML.SPAN({\n    \"class\": \"action-count\"\n  }, Blaze.View(\"lookup:commentCount\", function() {\n    return Spacebars.mustache(view.lookup(\"commentCount\"));\n  })), \"\\n      \", HTML.SPAN({\n    \"class\": \"sr-only\"\n  }, \" \", Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"comments\");\n  })), \"\\n    \"), \"\\n  \");\n}));\n","\nTemplate.__checkName(\"post_domain\");\nTemplate[\"post_domain\"] = new Template(\"Template.post_domain\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"url\"));\n  }, function() {\n    return [ \"\\n    \", HTML.SPAN({\n      \"class\": function() {\n        return [ \"post-domain \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n      }\n    }, Blaze.View(\"lookup:domain\", function() {\n      return Spacebars.mustache(view.lookup(\"domain\"));\n    })), \"\\n  \" ];\n  });\n}));\n","Template.post_domain.helpers({\n  domain: function(){\n    var a = document.createElement('a');\n    a.href = this.url;\n    return a.hostname;\n  }\n});","\nTemplate.__checkName(\"post_info\");\nTemplate[\"post_info\"] = new Template(\"Template.post_info\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return Spacebars.mustache(view.lookup(\"moduleClass\"));\n    },\n    \"aria-live\": \"off\"\n  }, \"\\n    \", HTML.SPAN({\n    \"class\": \"points\"\n  }, Blaze.View(\"lookup:baseScore\", function() {\n    return Spacebars.mustache(view.lookup(\"baseScore\"));\n  })), \"\\n    \", HTML.SPAN({\n    \"class\": \"unit\"\n  }, Blaze.View(\"lookup:pointsUnitDisplayText\", function() {\n    return Spacebars.mustache(view.lookup(\"pointsUnitDisplayText\"));\n  })), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"postedAt\"));\n  }, function() {\n    return HTML.SPAN({\n      \"class\": \"post-time\"\n    }, Blaze.View(\"lookup:timeAgo\", function() {\n      return Spacebars.mustache(view.lookup(\"timeAgo\"), view.lookup(\"postedAt\"));\n    }));\n  }), \"\\n  \");\n}));\n","Template.post_info.helpers({\n  pointsUnitDisplayText: function(){\n    return this.upvotes === 1 ? i18n.t('point') : i18n.t('points');\n  }\n});\n","\nTemplate.__checkName(\"post_rank\");\nTemplate[\"post_rank\"] = new Template(\"Template.post_rank\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"post-rank \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"post-rank-inner\",\n    \"aria-live\": \"off\"\n  }, \"\\n      \", HTML.SPAN(Blaze.View(\"lookup:oneBasedRank\", function() {\n    return Spacebars.mustache(view.lookup(\"oneBasedRank\"));\n  })), \"\\n    \"), \"\\n  \");\n}));\n","Template.post_rank.helpers({\n  oneBasedRank: function(){\n    if (typeof this.rank !== 'undefined') {\n      return this.rank + 1;\n    }\n  }\n});","\nTemplate.__checkName(\"post_title\");\nTemplate[\"post_title\"] = new Template(\"Template.post_title\", (function() {\n  var view = this;\n  return HTML.H3({\n    \"class\": function() {\n      return [ \"post-title \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", HTML.A({\n    href: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"getLink\"));\n    },\n    \"class\": \"post-title\",\n    target: function() {\n      return Spacebars.mustache(Spacebars.dot(view.lookup(\".\"), \"getLinkTarget\"));\n    }\n  }, Blaze.View(\"lookup:title\", function() {\n    return Spacebars.mustache(view.lookup(\"title\"));\n  })), \"\\n  \");\n}));\n","\nTemplate.__checkName(\"post_vote\");\nTemplate[\"post_vote\"] = new Template(\"Template.post_vote\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"post-vote \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", HTML.DIV({\n    \"class\": function() {\n      return [ \"vote-actions \", Spacebars.mustache(view.lookup(\"actionsClass\")) ];\n    }\n  }, \"\\n      \", HTML.A({\n    \"class\": \"vote-action upvote-link\",\n    href: \"#\",\n    title: function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"upvote_\");\n    }\n  }, \"\\n        \", Blaze.View(\"lookup:icon\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"upvote\"));\n  }), \"\\n        \", HTML.SPAN({\n    \"class\": \"sr-only\"\n  }, Blaze.View(\"lookup:_\", function() {\n    return Spacebars.mustache(view.lookup(\"_\"), \"upvote_\");\n  })), \"\\n      \"), \"\\n      \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"enableDownvotes\"));\n  }, function() {\n    return [ \"\\n        \", HTML.A({\n      \"class\": \"vote-action downvote-link\",\n      href: \"#\",\n      title: function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"downvote_\");\n      }\n    }, \"\\n          \", Blaze.View(\"lookup:icon\", function() {\n      return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"icon\"), \"downvote\"));\n    }), \"\\n          \", HTML.SPAN({\n      \"class\": \"sr-only\"\n    }, Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"downvote_\");\n    })), \"\\n        \"), \"\\n      \" ];\n  }), \"\\n    \"), \"\\n  \");\n}));\n","Template.post_vote.helpers({\n  enableDownvotes: function () {\n    return Settings.get(\"enableDownvotes\", false);\n  },\n  actionsClass: function () {\n    var user = Meteor.user();\n    var actionsClass = \"\";\n    if(!user) return false;\n    if (user.hasUpvoted(this)) {\n      actionsClass += \" voted upvoted\";\n    }\n    if (user.hasDownvoted(this)) {\n      actionsClass += \" voted downvoted\";\n    }\n    if (Settings.get(\"enableDownvotes\", false)) {\n      actionsClass += \" downvotes-enabled\";\n    }\n    return actionsClass;\n  }\n});\n\nTemplate.post_vote.events({\n  'click .upvote-link': function(e){\n    var post = this;\n    var user = Meteor.user();\n    e.preventDefault();\n    if(!user){\n      FlowRouter.go('signIn');\n      Messages.flash(i18n.t(\"please_log_in_first\"), \"info\");\n    } else if (user.hasUpvoted(post)) {\n      Meteor.call('cancelUpvotePost', post._id, function(){\n        Events.track(\"post upvote cancelled\", {'_id': post._id});\n      });        \n    } else {\n      Meteor.call('upvotePost', post._id, function(){\n        Events.track(\"post upvoted\", {'_id': post._id});\n      });  \n    }\n  },\n  'click .downvote-link': function(e){\n    var post = this;\n    var user = Meteor.user();\n    e.preventDefault();\n    if(!user){\n      FlowRouter.go('atSignIn');\n      Messages.flash(i18n.t(\"please_log_in_first\"), \"info\");\n    }\n    if (user.hasDownvoted(post)) {\n      Meteor.call('cancelDownvotePost', post._id, function(){\n        Events.track(\"post downvote cancelled\", {'_id': post._id});\n      });        \n    } else {\n      Meteor.call('downvotePost', post._id, function(){\n        Events.track(\"post downvoted\", {'_id': post._id});\n      });  \n    }\n  }  \n});\n","\nTemplate.__checkName(\"post_body\");\nTemplate[\"post_body\"] = new Template(\"Template.post_body\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"post-body markdown\",\n    \"aria-live\": \"polite\"\n  }, Blaze.View(\"lookup:htmlBody\", function() {\n    return Spacebars.makeRaw(Spacebars.mustache(view.lookup(\"htmlBody\")));\n  }));\n}));\n","\nTemplate.__checkName(\"post_edit\");\nTemplate[\"post_edit\"] = new Template(\"Template.post_edit\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"ready\"));\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": \"form-page post-edit\"\n    }, \"\\n      \", Blaze._TemplateWith(function() {\n      return {\n        check: Spacebars.call(\"edit\"),\n        doc: Spacebars.call(view.lookup(\"post\")),\n        message: Spacebars.call(\"sorry_you_cannot_edit_this_post\")\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"checker\"), function() {\n        return [ \"\\n        \", HTML.DIV({\n          \"class\": \"grid grid-module\"\n        }, \"\\n          \", Blaze._TemplateWith(function() {\n          return {\n            collection: Spacebars.call(\"Posts\"),\n            doc: Spacebars.call(view.lookup(\"post\")),\n            id: Spacebars.call(\"editPostForm\"),\n            template: Spacebars.call(\"bootstrap3-horizontal\"),\n            \"label-class\": Spacebars.call(\"control-label\"),\n            \"input-col-class\": Spacebars.call(\"controls\"),\n            type: Spacebars.call(\"method-update\"),\n            meteormethod: Spacebars.call(\"editPost\"),\n            fields: Spacebars.call(view.lookup(\"postFields\"))\n          };\n        }, function() {\n          return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n        }), \"\\n        \"), \"\\n      \" ];\n      });\n    }), \"\\n    \"), \"\\n  \" ];\n  }, function() {\n    return [ \"\\n    \", Spacebars.include(view.lookupTemplate(\"loading\")), \"\\n  \" ];\n  });\n}));\n","Template.post_edit.onCreated(function () {\n\n  var template = this;\n\n  // initialize the reactive variables\n  template.ready = new ReactiveVar(false);\n\n  var postSubscription = Telescope.subsManager.subscribe('singlePost', FlowRouter.getParam(\"_id\"));\n  \n  // Autorun 3: when subscription is ready, update the data helper's terms\n  template.autorun(function () {\n\n    var subscriptionsReady = postSubscription.ready(); // ⚡ reactive ⚡\n\n    // if subscriptions are ready, set terms to subscriptionsTerms\n    if (subscriptionsReady) {\n      template.ready.set(true);\n    }\n  });\n\n});\n\nTemplate.post_edit.helpers({\n  ready: function () {\n    return Template.instance().ready.get();\n  },\n  post: function () {\n    return Posts.findOne(FlowRouter.getParam(\"_id\"));\n  },\n  postFields: function () {\n    return Posts.simpleSchema().getEditableFields(Meteor.user());\n  }\n});\n\nAutoForm.hooks({\n  editPostForm: {\n\n    before: {\n      \"method-update\": function() {\n        \n        var post = this.currentDoc;\n        var modifier = this.updateDoc;\n\n        // ------------------------------ Checks ------------------------------ //\n\n        if (!Meteor.user()) {\n          Messages.flash(i18n.t('you_must_be_logged_in'), \"\");\n          return false;\n        }\n\n        // ------------------------------ Callbacks ------------------------------ //\n\n        modifier = Telescope.callbacks.run(\"postEditClient\", modifier, post);\n        return modifier;\n      }\n    },\n\n    onSuccess: function(formType, post) {\n      Events.track(\"edit post\", {'postId': post._id});\n      FlowRouter.go('postPage', post);\n    },\n\n    onError: function(formType, error) {\n      console.log(error);\n      Messages.flash(error.reason.split('|')[0], \"error\"); // workaround because error.details returns undefined\n      Messages.clearSeen();\n    }\n\n  }\n});","\nTemplate.__checkName(\"post_item\");\nTemplate[\"post_item\"] = new Template(\"Template.post_item\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"postComponents\"),\n      zoneClass: Spacebars.call(view.lookup(\"postClass\")),\n      moduleClass: Spacebars.call(\"post-module\"),\n      wrapperId: Spacebars.call(view.lookup(\"_id\")),\n      moduleData: Spacebars.call(view.lookup(\"post\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  });\n}));\n","Template.post_item.helpers({\n  postClass: function () {\n    var post = this;\n    var postClass = \"post \";\n    \n    postClass += \"author-\"+Telescope.utils.slugify(post.author)+\" \";\n\n    if (this.sticky) {\n      postClass += \"sticky \";\n    }\n    postClass = Telescope.callbacks.run(\"postClass\", postClass, post);\n    return postClass;\n  }\n});\n","\nTemplate.__checkName(\"post_page\");\nTemplate[\"post_page\"] = new Template(\"Template.post_page\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"ready\"));\n  }, function() {\n    return [ \"\\n    \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"post\"));\n    }, function() {\n      return [ \"\\n      \", Spacebars.With(function() {\n        return Spacebars.call(view.lookup(\"post\"));\n      }, function() {\n        return [ \"\\n        \", Blaze.If(function() {\n          return Spacebars.call(view.lookup(\"canView\"));\n        }, function() {\n          return [ \"\\n          \", Blaze.If(function() {\n            return Spacebars.call(view.lookup(\"isPending\"));\n          }, function() {\n            return [ \"\\n            \", HTML.DIV({\n              \"class\": \"grid\"\n            }, \"\\n              \", HTML.DIV({\n              \"class\": \"error pending-message module\"\n            }, \"\\n                \", Blaze.View(\"lookup:_\", function() {\n              return Spacebars.mustache(view.lookup(\"_\"), \"thanks_your_post_is_awaiting_approval\");\n            }), \"\\n              \"), \"\\n            \"), \"\\n          \" ];\n          }), \"\\n          \", HTML.DIV({\n            \"class\": \"single-post grid\"\n          }, \"\\n            \", HTML.DIV({\n            \"class\": \"posts posts-list\"\n          }, \"\\n              \", Blaze._TemplateWith(function() {\n            return {\n              post: Spacebars.call(view.lookup(\".\"))\n            };\n          }, function() {\n            return Spacebars.include(view.lookupTemplate(\"post_item\"));\n          }), \"\\n            \"), \"\\n            \", Blaze.If(function() {\n            return Spacebars.call(view.lookup(\"body\"));\n          }, function() {\n            return [ \"\\n              \", Spacebars.include(view.lookupTemplate(\"post_body\")), \"\\n            \" ];\n          }), \"\\n            \", Spacebars.include(view.lookupTemplate(\"comment_submit\")), \"\\n            \", Spacebars.include(view.lookupTemplate(\"comment_list\")), \"\\n          \"), \"\\n        \" ];\n        }, function() {\n          return [ \"\\n          \", Spacebars.include(view.lookupTemplate(\"no_rights\")), \"\\n        \" ];\n        }), \"\\n      \" ];\n      }), \"\\n    \" ];\n    }, function() {\n      return [ \"\\n      \", Spacebars.include(view.lookupTemplate(\"not_found\")), \"\\n    \" ];\n    }), \"\\n  \" ];\n  }, function() {\n    return [ \"\\n    \", HTML.DIV({\n      \"class\": \"posts-loading\"\n    }, Spacebars.include(view.lookupTemplate(\"loading\"))), \"\\n  \" ];\n  });\n}));\n","var doSEOStuff = function (post) {\n\n  var link = {rel: \"canonical\", href: post.getPageUrl(true)};\n  DocHead.addLink(link);\n  \n  // Set SEO properties\n  \n  var seoProperties = {meta: {}};\n\n  // Set site name\n  DocHead.addMeta({property: \"og:site_name\", content: Settings.get(\"title\")});\n\n  // Set title\n  Telescope.SEO.setTitle(post.title);\n\n  // Set description\n  if (!!post.body) {\n    var description = Telescope.utils.trimWords(post.body, 100);\n    Telescope.SEO.setDescription(description);\n  }\n\n  // Set image\n  if (!!post.thumbnailUrl) {\n    var image = Telescope.utils.addHttp(post.thumbnailUrl);\n    DocHead.addMeta({property: \"twitter:card\", content: \"summary_large_image\"});\n    Telescope.SEO.setImage(image);\n  }\n\n  // Set Twitter username\n  if (!!Settings.get(\"twitterAccount\")) {\n    DocHead.addMeta({property: \"twitter:site\", content: Settings.get(\"twitterAccount\")});\n  }\n  \n};\n\nTemplate.post_page.onCreated(function () {\n\n  var template = this;\n  var postId = FlowRouter.getParam(\"_id\");\n\n  // initialize the reactive variables\n  template.ready = new ReactiveVar(false);\n\n  var postSubscription = Telescope.subsManager.subscribe('singlePost', postId);\n  var postUsersSubscription = Telescope.subsManager.subscribe('postUsers', postId);\n  var commentSubscription = Telescope.subsManager.subscribe('commentsList', {view: 'postComments', postId: postId});\n  \n  // Autorun 3: when subscription is ready, update the data helper's terms\n  template.autorun(function () {\n\n    var subscriptionsReady = postSubscription.ready(); // ⚡ reactive ⚡\n\n    // if subscriptions are ready, set terms to subscriptionsTerms and update SEO stuff\n    if (subscriptionsReady) {\n      template.ready.set(true);\n      var post = Posts.findOne(FlowRouter.getParam(\"_id\"));\n      if (post) {\n        doSEOStuff(post);\n      } else {\n        DocHead.addMeta({\n          name: \"name\",\n          property: \"prerender-status-code\",\n          content: \"404\"\n        });\n        DocHead.addMeta({\n          name: \"name\",\n          property: \"robots\",\n          content: \"noindex, nofollow\"\n        });\n      }\n    }\n  });\n\n});\n\nTemplate.post_page.helpers({\n  ready: function () {\n    return Template.instance().ready.get();\n  },\n  post: function () {\n    return Posts.findOne(FlowRouter.getParam(\"_id\"));\n  },\n  canView: function () {\n    var post = this;\n    var user = Meteor.user();\n    if (post.status === Posts.config.STATUS_PENDING && !Users.can.viewPendingPost(user, post)) {\n      return false;\n    } else if (post.status === Posts.config.STATUS_REJECTED && !Users.can.viewRejectedPost(user, post)) {\n      return false;\n    }\n    return true;\n  },\n  isPending: function () {\n    return this.status === Posts.config.STATUS_PENDING;\n  }\n});\n\nTemplate.post_page.rendered = function(){\n  $('body').scrollTop(0);\n};\n","\nTemplate.__checkName(\"post_submit\");\nTemplate[\"post_submit\"] = new Template(\"Template.post_submit\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"form-page post-submit\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": \"grid grid-module\"\n  }, \"\\n      \", Blaze._TemplateWith(function() {\n    return {\n      collection: Spacebars.call(\"Posts\"),\n      id: Spacebars.call(\"submitPostForm\"),\n      template: Spacebars.call(\"bootstrap3-horizontal\"),\n      \"input-col-class\": Spacebars.call(\"controls\"),\n      type: Spacebars.call(\"method\"),\n      meteormethod: Spacebars.call(\"submitPost\"),\n      fields: Spacebars.call(view.lookup(\"postFields\"))\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"quickForm\"));\n  }), \"\\n    \"), \"\\n  \");\n}));\n","Template.post_submit.onCreated(function () {\n  Telescope.subsManager.subscribe('allUsersAdmin');\n});\n\nTemplate.post_submit.helpers({\n  postFields: function () {\n    return Posts.simpleSchema().getEditableFields(Meteor.user());\n  }\n});\n\nAutoForm.hooks({\n  submitPostForm: {\n\n    before: {\n      method: function(doc) {\n\n        var post = doc;\n\n        this.template.$('button[type=submit]').addClass('loading');\n        this.template.$('input, textarea').not(\":disabled\").addClass(\"disabled\").prop(\"disabled\", true);\n\n        // ------------------------------ Checks ------------------------------ //\n\n        if (!Meteor.user()) {\n          Messages.flash(i18n.t('you_must_be_logged_in'), 'error');\n          return false;\n        }\n\n        // ------------------------------ Callbacks ------------------------------ //\n\n        // run all post submit client callbacks on properties object successively\n        post = Telescope.callbacks.run(\"postSubmitClient\", post);\n\n        return post;\n      }\n    },\n\n    onSuccess: function(operation, post) {\n      Events.track(\"new post\", {'postId': post._id});\n      var template = this.template;\n      Telescope.subsManager.subscribe('singlePost', post._id, function () {\n        template.$('button[type=submit]').removeClass('loading');\n        FlowRouter.go('postPage', post);\n      });\n    },\n\n    onError: function(operation, error) {\n      this.template.$('button[type=submit]').removeClass('loading');\n      this.template.$('.disabled').removeClass(\"disabled\").prop(\"disabled\", false);\n\n      Messages.flash(error.message.split('|')[0], 'error'); // workaround because error.details returns undefined\n      Messages.clearSeen();\n      // $(e.target).removeClass('disabled');\n      if (error.error === \"603\") {\n        var dupePostId = error.reason.split('|')[1];\n        FlowRouter.go('postPage', {slug: '_', _id: dupePostId});\n      }\n    }\n\n  }\n});\n","\nTemplate.__checkName(\"views_menu\");\nTemplate[\"views_menu\"] = new Template(\"Template.views_menu\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"views-menu-wrapper \", Spacebars.mustache(view.lookup(\"moduleClass\")) ];\n    }\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      menuName: Spacebars.call(\"view\"),\n      menuLabel: Spacebars.call(view.lookup(\"menuLabel\")),\n      menuItems: Spacebars.call(view.lookup(\"menuItems\")),\n      menuType: Spacebars.call(\"list\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"menuComponent\"));\n  }), \"\\n  \");\n}));\n","var getMenuItems = function () {\n  var defaultItems = Telescope.menuItems.get(\"viewsMenu\");\n\n  // reject an item if the item is admin only and the current user is not an admin\n  // or if views have been configured in the settings and the item is not part of them\n  var viewableItems = _.reject(defaultItems, function (item) {\n    return (item.adminOnly && !Users.is.admin(Meteor.user())) || (!!Settings.get('postViews') && !_.contains(Settings.get('postViews'), item.name));\n  });\n\n  viewableItems = _.map(viewableItems, function (item) {\n    item.itemClass = \"view-\"+item.name;\n    return item;\n  });\n\n  return viewableItems; \n};\n\nTemplate.views_menu.helpers({\n  menuLabel: function () {\n    return i18n.t(\"view\");\n  },\n  menuItems: function () {\n    return getMenuItems();\n  }\n});\n","\nTemplate.__checkName(\"main_posts_list\");\nTemplate[\"main_posts_list\"] = new Template(\"Template.main_posts_list\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"main-posts-list\"\n  }, \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"postsListTop\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"customTemplate\"));\n  }, function() {\n    return [ \"\\n      \", Blaze._TemplateWith(function() {\n      return {\n        template: Spacebars.call(view.lookup(\"customTemplate\")),\n        data: Spacebars.call(view.lookup(\"arguments\"))\n      };\n    }, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(Template.__dynamic);\n      });\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n      \", Blaze._TemplateWith(function() {\n      return Spacebars.call(view.lookup(\"arguments\"));\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"posts_list_controller\"));\n    }), \"\\n    \" ];\n  }), \"\\n    \", Blaze._TemplateWith(function() {\n    return {\n      zone: Spacebars.call(\"postsListBottom\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"modules\"));\n  }), \"\\n  \");\n}));\n","Template.main_posts_list.helpers({\n  customTemplate: function () {\n    var currentView = FlowRouter.getQueryParam(\"view\") || Settings.get(\"defaultView\", \"top\");\n    var currentMenuItem = _.findWhere(Telescope.menuItems.viewsMenu, {name: currentView});\n    return currentMenuItem && currentMenuItem.viewTemplate;\n  },\n  arguments: function () {\n    FlowRouter.watchPathChange();\n    var terms = _.clone(FlowRouter.current().queryParams);\n    terms.enableCache = true;\n\n    // if user is logged in, add their id to terms\n    if (Meteor.userId()) {\n      terms.userId = Meteor.userId();\n    }\n\n    if (!terms.view) {\n      terms.view = Settings.get('defaultView', 'top');\n    }\n\n    return {\n      terms: terms,\n      options: {\n        loadMoreBehavior: Settings.get(\"loadMoreBehavior\", \"button\")\n      }\n    };\n  }\n});","\nTemplate.__checkName(\"posts_list\");\nTemplate[\"posts_list\"] = new Template(\"Template.posts_list\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"posts-wrapper grid\"\n  }, \"\\n    \", HTML.DIV({\n    \"class\": function() {\n      return [ \"posts list \", Spacebars.mustache(view.lookup(\"postsLayout\")) ];\n    },\n    \"aria-live\": \"polite\"\n  }, \"\\n      \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"postsCursor\"));\n  }, function() {\n    return [ \"\\n        \", Spacebars.include(view.lookupTemplate(\"before_post_item\")), \"\\n        \", Blaze._TemplateWith(function() {\n      return {\n        post: Spacebars.call(view.lookup(\".\"))\n      };\n    }, function() {\n      return Spacebars.include(view.lookupTemplate(\"post_item\"));\n    }), \"\\n        \", Spacebars.include(view.lookupTemplate(\"after_post_item\")), \"\\n      \" ];\n  }), \"\\n    \"), \"\\n    \", Spacebars.include(view.lookupTemplate(\"postsLoadMore\")), \"\\n  \");\n}));\n\nTemplate.__checkName(\"postsListIncoming\");\nTemplate[\"postsListIncoming\"] = new Template(\"Template.postsListIncoming\", (function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"count\"));\n  }, function() {\n    return [ \"\\n    \", HTML.A({\n      \"class\": \"more-button show-new grid-module\",\n      href: \"\"\n    }, \"\\n      \", HTML.SPAN(\"\\n        \", Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"view\");\n    }), \" \", Blaze.View(\"lookup:count\", function() {\n      return Spacebars.mustache(view.lookup(\"count\"));\n    }), \" \", Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"new\");\n    }), \" \", Blaze.View(\"lookup:pluralize\", function() {\n      return Spacebars.mustache(view.lookup(\"pluralize\"), view.lookup(\"count\"), \"post\");\n    }), \"\\n      \"), \"\\n    \"), \"\\n  \" ];\n  });\n}));\n\nTemplate.__checkName(\"postsLoadMore\");\nTemplate[\"postsLoadMore\"] = new Template(\"Template.postsLoadMore\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": \"posts-load-more\"\n  }, \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"postsReady\"));\n  }, function() {\n    return [ \"\\n      \", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"hasPosts\"));\n    }, function() {\n      return [ \"\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showLoadMoreButton\"));\n      }, function() {\n        return [ \"\\n          \", HTML.A({\n          \"class\": \"more-button\",\n          href: \"#\"\n        }, HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n          return Spacebars.mustache(view.lookup(\"_\"), \"load_more\");\n        }))), \"\\n        \" ];\n      }), \"\\n        \", Blaze.If(function() {\n        return Spacebars.call(view.lookup(\"showInfiniteScroll\"));\n      }, function() {\n        return [ \"\\n          \", HTML.DIV({\n          \"class\": \"posts-loading\"\n        }, Spacebars.include(view.lookupTemplate(\"loading\"))), \"\\n        \" ];\n      }), \"\\n      \" ];\n    }, function() {\n      return [ \"\\n        \", HTML.DIV({\n        \"class\": \"no-posts\"\n      }, Blaze.View(\"lookup:_\", function() {\n        return Spacebars.mustache(view.lookup(\"_\"), \"sorry_we_couldnt_find_any_posts\");\n      })), \"\\n      \" ];\n    }), \"\\n    \" ];\n  }, function() {\n    return [ \"\\n      \", HTML.DIV({\n      \"class\": \"posts-loading\"\n    }, Spacebars.include(view.lookupTemplate(\"loading\"))), \"\\n    \" ];\n  }), \"\\n  \");\n}));\n","// ----------------------------------- Post List -----------------------------------//\n\nTemplate.posts_list.created = function() {\n  Session.set('listPopulatedAt', new Date());\n};\n\nTemplate.posts_list.helpers({\n  postsLayout: function () {\n    return Settings.get('postsLayout', 'posts-list');\n  },\n  description: function () {\n    var controller = Iron.controller();\n    if (typeof controller.getDescription === 'function')\n      return Iron.controller().getDescription();\n  },\n  postsCursor : function () {\n    if (this.postsCursor) { // not sure why this should ever be undefined, but it can apparently\n      var posts = this.postsCursor.map(function (post, index) {\n        post.rank = index;\n        return post;\n      });\n      return posts;\n    } else {\n      console.log('postsCursor not defined');\n    }\n  }\n});\n\n// ----------------------------------- Incoming -----------------------------------//\n\nTemplate.postsListIncoming.events({\n  'click .show-new': function() {\n    Session.set('listPopulatedAt', new Date());\n  }\n});\n\n// ----------------------------------- Load More -----------------------------------//\n\nTemplate.postsLoadMore.helpers({\n  postsReady: function () {\n    return this.postsReady;\n  },\n  showInfiniteScroll: function () {\n    if (this.controllerOptions && this.controllerOptions.loadMoreBehavior === \"button\") {\n      return false;\n    } else {\n      return this.hasMorePosts;\n    }\n  },\n  showLoadMoreButton: function () {\n    if (this.controllerOptions && this.controllerOptions.loadMoreBehavior === \"scroll\") {\n      return false;\n    } else {\n      return this.hasMorePosts;\n    }\n  },\n  hasPosts: function () {\n    return !!this.postsCursor.count();\n  }\n});\n\nTemplate.postsLoadMore.onCreated(function () {\n\n  var context = Template.currentData();\n\n  if (context.controllerOptions && context.controllerOptions.loadMoreBehavior === \"scroll\") {\n\n    $(window).scroll(function() {\n      if($(window).scrollTop() + $(window).height() === $(document).height()) {\n        context.loadMoreHandler(context.controllerInstance);\n      }\n    });\n\n  }\n});\n\nTemplate.postsLoadMore.events({\n  'click .more-button': function (event) {\n    event.preventDefault();\n    this.loadMoreHandler(this.controllerInstance);\n  }\n});\n","\nTemplate.__checkName(\"posts_list_compact\");\nTemplate[\"posts_list_compact\"] = new Template(\"Template.posts_list_compact\", (function() {\n  var view = this;\n  return HTML.TABLE(\"\\n    \", HTML.THEAD(\"\\n      \", HTML.TR(\"\\n        \", HTML.TD(\"Post\"), \"\\n        \", HTML.TD(Blaze.View(\"lookup:fieldLabel\", function() {\n    return Spacebars.mustache(view.lookup(\"fieldLabel\"));\n  })), \"\\n      \"), \"\\n    \"), \"\\n    \", Blaze.Each(function() {\n    return Spacebars.call(view.lookup(\"postsCursor\"));\n  }, function() {\n    return [ \"\\n      \", HTML.TR(\"\\n        \", HTML.TD(HTML.A({\n      href: function() {\n        return Spacebars.mustache(view.lookup(\"pathFor\"), \"postPage\", Spacebars.kw({\n          _id: view.lookup(\"_id\")\n        }));\n      }\n    }, Blaze.View(\"lookup:title\", function() {\n      return Spacebars.mustache(view.lookup(\"title\"));\n    }))), \"\\n        \", HTML.TD(Blaze.View(\"lookup:fieldValue\", function() {\n      return Spacebars.mustache(view.lookup(\"fieldValue\"));\n    })), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n    \", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"hasMorePosts\"));\n  }, function() {\n    return [ \"\\n      \", HTML.TR(\"\\n        \", HTML.TD({\n      colspan: \"2\"\n    }, \"\\n          \", HTML.A({\n      \"class\": \"downvoted-more more-button grid-module\",\n      href: \"#\"\n    }, HTML.SPAN(Blaze.View(\"lookup:_\", function() {\n      return Spacebars.mustache(view.lookup(\"_\"), \"load_more\");\n    }))), \"\\n        \"), \"\\n      \"), \"\\n    \" ];\n  }), \"\\n  \");\n}));\n","Template.posts_list_compact.helpers({\n  postsCursor: function () {\n    if (this.postsCursor) { // not sure why this should ever be undefined, but it can apparently\n      var posts = this.postsCursor.map(function (post, index) {\n        post.rank = index;\n        return post;\n      });\n      return posts;\n    } else {\n      console.log('postsCursor not defined');\n    }\n  },\n  fieldLabel: function () {\n    return this.controllerOptions.fieldLabel;\n  },\n  fieldValue: function () {\n    var controllerOptions = Template.parentData(3).data.controllerOptions;\n    return controllerOptions.fieldValue(this);\n  }\n});\n\nTemplate.posts_list_compact.events({\n  'click .more-button': function (event) {\n    event.preventDefault();\n    if (this.controllerInstance) {\n      // controller is a template\n      this.loadMoreHandler(this.controllerInstance);\n    } else {\n      // controller is router\n      this.loadMoreHandler();\n    }\n  }\n});\n","\nTemplate.__checkName(\"posts_list_controller\");\nTemplate[\"posts_list_controller\"] = new Template(\"Template.posts_list_controller\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      template: Spacebars.call(view.lookup(\"template\")),\n      data: Spacebars.call(view.lookup(\"data\"))\n    };\n  }, function() {\n    return Spacebars.include(function() {\n      return Spacebars.call(Template.__dynamic);\n    });\n  });\n}));\n","// see https://www.discovermeteor.com/blog/template-level-subscriptions/\n\n/*\n\nThis template acts as the controller that sets and manages the reactive context \nfor the embedded postsList template. It receives its parameters from a \"caller\" template.\n\nThe goal is to resubscribe when either one of the following events happens: \n- The external data context passed to the template from its parent changes\n- The template's own internal rLimit ReactiveVar changes\n\nIn both cases, the template should resubscribe to the publication, and then once the subscription is ready\nupdate the terms used by the template helper's Posts.find(). \n\n*/\n\nTemplate.posts_list_controller.onCreated(function () {\n\n  // 1. Initialization (*not* reactive!)\n  var template = this;\n  var terms = _.clone(template.data.terms);\n  template.terms = terms;\n\n  // initialize the reactive variables\n  template.rTerms = new ReactiveVar(terms);\n  template.rLimit = new ReactiveVar(Settings.get('postsPerPage', 10));\n  template.rReady = new ReactiveVar(false);\n\n  // if caching is set to true, use Subs Manager. Else use template.subscribe. Default to false\n  var enableCache = (typeof terms.enableCache === \"undefined\") ? false : terms.enableCache;\n  var subscriber = enableCache ? Telescope.subsManager : template;\n\n  // enable not subscribing to users on a per-controller basis\n  var subscribeToUsers = (typeof terms.subscribeToUsers === \"undefined\") ? true : terms.subscribeToUsers;\n\n  template.autorun(function () {\n\n    // set controller as not ready\n    template.rReady.set(false);\n\n    // depend on terms\n    var newTerms = _.clone(Template.currentData().terms); // ⚡ reactive ⚡\n\n    // depend on rLimit\n    var rLimit = template.rLimit.get(); // ⚡ reactive ⚡\n\n    // complete terms with rLimit\n    newTerms.limit = rLimit;\n\n    // subscribe to posts and (optionally) users\n    var postsSubscription = subscriber.subscribe('postsList', newTerms);\n    if (subscribeToUsers) {\n      var usersSubscription = subscriber.subscribe('postsListUsers', newTerms);\n    }\n\n    // check if subscriptions are ready\n    var subscriptionsReady;\n    if (subscribeToUsers) {\n      subscriptionsReady = postsSubscription.ready() && usersSubscription.ready(); // ⚡ reactive ⚡\n    } else {\n      subscriptionsReady = postsSubscription.ready(); // ⚡ reactive ⚡\n    }\n\n    // console.log('// ------ autorun ------ //');\n    // console.log(\"newTerms: \", newTerms);\n    // console.log(\"rLimit: \", rLimit);\n    // console.log(\"subscriptionsReady: \", subscriptionsReady);\n\n    // if subscriptions are ready, set terms to newTerms\n    if (subscriptionsReady) {\n      template.rTerms.set(newTerms);\n      template.rReady.set(true);\n    }\n\n  });\n\n});\n\n// runs whenever the template's data context changes to reset rLimit\nTemplate.posts_list_controller.onDataChanged(function (data) {\n\n  var template = this;\n  var oldTerms = template.terms;\n  var newTerms = data.terms;\n  \n  // console.log(\"// ------ onDataChanged ------ //\")\n  // console.log(\"oldTerms: \", _.clone(oldTerms));\n  // console.log(\"newTerms: \", _.clone(newTerms));\n  // console.log(\"isEqual?: \", _.isEqual(newTerms, oldTerms));\n\n  // if terms have changed, we reset rLimit\n  if (!_.isEqual(oldTerms, newTerms)) {\n    template.terms = newTerms;\n    template.rLimit.set(Settings.get('postsPerPage', 10));\n  }\n});\n\nTemplate.posts_list_controller.helpers({\n  template: function () {\n    return !!this.template? this.template: \"posts_list\";\n  },\n  data: function () {\n\n    var context = this;\n\n    var template = Template.instance();\n\n    var terms = template.rTerms.get(); // ⚡ reactive ⚡\n    var postsReady = template.rReady.get(); // ⚡ reactive ⚡\n\n    var parameters = Posts.parameters.get(terms);\n    var postsCursor = Posts.find(parameters.find, parameters.options);\n\n    // if (debug) {\n    //   console.log(\"// -------- data -------- //\")\n    //   console.log(\"terms: \", terms);\n    // }\n\n    var data = {\n\n      // posts cursor\n      postsCursor: postsCursor,\n\n      // posts subscription readiness, used to show spinner\n      postsReady: postsReady,\n\n      // whether to show the load more button or not\n      hasMorePosts: postsCursor.count() >= terms.limit,\n\n      // what to do when user clicks \"load more\"\n      loadMoreHandler: function (template) {\n        // increase limit by 5 and update it\n        var limit = template.rLimit.get();\n        limit += Settings.get('postsPerPage', 10);\n        template.rLimit.set(limit);\n      },\n\n      // the current instance\n      controllerInstance: template,\n\n      controllerOptions: context.options // pass any options on to the template\n\n    };\n\n    return data;\n  }\n});","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ar\"] = [\"Arabic\",\"العربية\"];\nTAPi18n._enable({\"helper_name\":\"_\",\"supported_languages\":null,\"i18n_files_route\":\"/tap-i18n\",\"preloaded_langs\":[],\"cdn_path\":null});\nTAPi18n.languages_names[\"en\"] = [\"English\",\"English\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"bg\"] = [\"Bulgarian\",\"Български\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"cs\"] = [\"Czech\",\"čeština‎\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"da\"] = [\"Danish\",\"Dansk\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"de\"] = [\"German\",\"Deutsch\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"el\"] = [\"Greek\",\"Ελληνικά\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\n// integrate the fallback language translations \ntranslations = {};\ntranslations[namespace] = {\"this_link_has_already_been_posted\":\"This link has already been posted\",\"sorry_you_cannot_submit_more_than\":\"Sorry, you cannot submit more than \",\"posts_per_day\":\" posts per day\",\"please_fill_in_a_title\":\"Please fill in a title\",\"seconds_before_posting_again\":\" seconds before posting again\",\"upvoted\":\"Upvoted\",\"posted_date\":\"Posted Date\",\"posted_time\":\"Posted Time\",\"createdAt\":\"Created At\",\"url\":\"URL\",\"body\":\"Body\",\"htmlBody\":\"HTML Body\",\"viewCount\":\"View Count\",\"commentCount\":\"Comment Count\",\"commenters\":\"Commenters\",\"lastCommentedAt\":\"Last Commented At\",\"clickCount\":\"Click Count\",\"baseScore\":\"Base Score\",\"upvotes\":\"Upvotes\",\"upvoters\":\"Upvoters\",\"downvotes\":\"Downvotes\",\"downvoters\":\"Downvoters\",\"score\":\"score\",\"status\":\"status\",\"sticky\":\"Sticky\",\"inactive\":\"inactive\",\"author\":\"Author\",\"userId\":\"User\",\"sorry_we_couldnt_find_any_posts\":\"Sorry, we couldn't find any posts.\",\"your_post_has_been_deleted\":\"Your post has been deleted.\",\"created\":\"Created\",\"suggest_title\":\"Suggest title\",\"short_url\":\"Short URL\",\"category\":\"Category\",\"inactive_\":\"Inactive?\",\"sticky_\":\"Sticky?\",\"submission_date\":\"Submission Date\",\"submission_time\":\"Submission Time\",\"date\":\"Date\",\"submission\":\"Submission\",\"note_this_post_is_still_pending_so_it_has_no_submission_timestamp_yet\":\"Note: this post is still pending so it has no submission timestamp yet.\",\"user\":\"User\",\"status_\":\"Status\",\"approved\":\"Approved\",\"rejected\":\"Rejected\",\"delete_post\":\"Delete Post\",\"thanks_your_post_is_awaiting_approval\":\"Thanks, your post is awaiting approval.\",\"sorry_couldnt_find_a_title\":\"Sorry, couldn't find a title...\",\"please_fill_in_an_url_first\":\"Please fill in an URL first!\",\"share\":\"Share\",\"discuss\":\"Discuss\",\"upvote_\":\"Upvote\",\"votes\":\"votes\",\"basescore\":\"baseScore\",\"clicks\":\"clicks\",\"views\":\"views\",\"comment\":\"comment\",\"point\":\"point\",\"points\":\"points\"};\nTAPi18n._loadLangFileObject(\"en\", translations);\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"es\"] = [\"Spanish (Spain)\",\"Español\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"et\"] = [\"Estonian\",\"Eesti\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"fr\"] = [\"French (France)\",\"Français\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"hu\"] = [\"Hungarian\",\"Magyar\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"id\"] = [\"Indonesian\",\"Bahasa Indonesia\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"it\"] = [\"Italian\",\"Italiano\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ja\"] = [\"Japanese\",\"日本語\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"kk\"] = [\"Kazakh\",\"Қазақ тілі\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ko\"] = [\"Korean\",\"한국어\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"nl\"] = [\"Dutch\",\"Nederlands\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pl\"] = [\"Polish\",\"Polski\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"pt-BR\"] = [\"Portuguese (Brazil)\",\"Português do Brasil\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ro\"] = [\"Romanian\",\"Română\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"ru\"] = [\"Russian\",\"Русский\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"sl\"] = [\"Slovenian\",\"slovenščina\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"sv\"] = [\"Swedish\",\"Svenska\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"th\"] = [\"Thai\",\"ไทย\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"tr\"] = [\"Turkish\",\"Türkçe\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"vi\"] = [\"Vietnamese\",\"Tiếng Việt\"];\n","var _ = Package.underscore._,\n    package_name = \"project\",\n    namespace = \"project\";\n\nif (package_name != \"project\") {\n    namespace = TAPi18n.packages[package_name].namespace;\n}\nTAPi18n.languages_names[\"zh-CN\"] = [\"Chinese (China)\",\"简体中文\"];\n"]}